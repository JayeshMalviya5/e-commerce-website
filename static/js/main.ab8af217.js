/*! For license information please see main.ab8af217.js.LICENSE.txt */
!function(){var e={4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),s=n(1804),u=n(9145),c=n(5411),l=n(6789),f=n(4531),h=n(6569),d=n(6261);e.exports=function(e){return new Promise((function(t,n){var p,v=e.data,m=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(k+":"+w)}var _=s(e.baseURL,e.url);function x(){if(b){var r="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),b=null}}if(b.open(e.method.toUpperCase(),o(_,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(x)},b.onabort=function(){b&&(n(new f("Request aborted",f.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(_))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in b&&r.forEach(m,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){b&&(n(!e||e&&e.type?new h:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),v||(v=null);var E=d(_);E&&-1===["http","https","file"].indexOf(E)?n(new f("Unsupported protocol "+E+":",f.ERR_BAD_REQUEST,e)):b.send(v)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(1709));s.Axios=a,s.CanceledError=n(6569),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.toFormData=n(1397),s.AxiosError=n(4531),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},6857:function(e,t,n){"use strict";var r=n(6569);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6569:function(e,t,n){"use strict";var r=n(4531);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(3589).inherits(i,r,{__CANCEL__:!0}),e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),s=n(777),u=n(1804),c=n(7835),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(u),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;u.length;)a=a.then(u.shift(),u.shift());return a},f.prototype.getUri=function(e){e=s(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},4531:function(e,t,n){"use strict";var r=n(3589);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,o,s,u){var c=Object.create(a);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,o,s),c.name=e.name,u&&Object.assign(c,u),c},e.exports=i},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(1709),s=n(6569);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(4531);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(1709);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},1709:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(4531),o=n(6789),s=n(1397),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:o,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===o){var u=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,u&&new u)}return a||"application/json"===o?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a.from(s,a.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(u)})),e.exports=l},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3035:function(e){e.exports=null},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+o);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var s,u=o?o+"."+a:a;if(n&&!o&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(s=r.toArray(n)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(u,i(e))}));e(n,u)}})),n.pop()}else t.append(o,i(a))}(e),t}},7835:function(e,t,n){"use strict";var r=n(7600).version,i=n(4531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],s=t[o];if(s){var u=e[o],c=void 0===u||s(u,o,e);if(!0!==c)throw new i("option "+o+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},3589:function(e,t,n){"use strict";var r,i=n(4049),a=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function u(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=s("ArrayBuffer");function f(e){return null!==e&&"object"===typeof e}function h(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=s("Date"),p=s("File"),v=s("Blob"),m=s("FileList");function y(e){return"[object Function]"===a.call(e)}var g=s("URLSearchParams");function b(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var k,w=(k="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return k&&e instanceof k});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:f,isPlainObject:h,isUndefined:c,isDate:d,isFile:p,isBlob:v,isFunction:y,isStream:function(e){return f(e)&&y(e.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:b,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)b(arguments[r],n);return t},extend:function(e,t,n){return b(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:m}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},6198:function(e,t,n){e=n.nmd(e);var r=200,i="__lodash_hash_undefined__",a=800,o=16,s=9007199254740991,u="[object Arguments]",c="[object AsyncFunction]",l="[object Function]",f="[object GeneratorFunction]",h="[object Null]",d="[object Object]",p="[object Proxy]",v="[object Undefined]",m=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[u]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[l]=g["[object Map]"]=g["[object Number]"]=g[d]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var b="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,k="object"==typeof self&&self&&self.Object===Object&&self,w=b||k||Function("return this")(),_=t&&!t.nodeType&&t,x=_&&e&&!e.nodeType&&e,S=x&&x.exports===_,E=S&&b.process,C=function(){try{var e=x&&x.require&&x.require("util").types;return e||E&&E.binding&&E.binding("util")}catch(t){}}(),T=C&&C.isTypedArray;var I,A,N=Array.prototype,D=Function.prototype,P=Object.prototype,R=w["__core-js_shared__"],O=D.toString,M=P.hasOwnProperty,L=function(){var e=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),F=P.toString,j=O.call(Object),B=RegExp("^"+O.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=S?w.Buffer:void 0,z=w.Symbol,U=w.Uint8Array,q=V?V.allocUnsafe:void 0,W=(I=Object.getPrototypeOf,A=Object,function(e){return I(A(e))}),H=Object.create,G=P.propertyIsEnumerable,K=N.splice,Q=z?z.toStringTag:void 0,Y=function(){try{var e=we(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),$=V?V.isBuffer:void 0,X=Math.max,J=Date.now,Z=we(w,"Map"),ee=we(Object,"create"),te=function(){function e(){}return function(t){if(!Re(t))return{};if(H)return H(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=this.__data__=new re(e);this.size=t.size}function oe(e,t){var n=Ie(e),r=!n&&Te(e),i=!n&&!r&&Ne(e),a=!n&&!r&&!i&&Me(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!M.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_e(c,u))||s.push(c);return s}function se(e,t,n){(void 0!==n&&!Ce(e[t],n)||void 0===n&&!(t in e))&&le(e,t,n)}function ue(e,t,n){var r=e[t];M.call(e,t)&&Ce(r,n)&&(void 0!==n||t in e)||le(e,t,n)}function ce(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1}function le(e,t,n){"__proto__"==t&&Y?Y(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ne.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(ee){var n=t[e];return n===i?void 0:n}return M.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return ee?void 0!==t[e]:M.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ee&&void 0===t?i:t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():K.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ce(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(Z||re),string:new ne}},ie.prototype.delete=function(e){var t=ke(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return ke(this,e).get(e)},ie.prototype.has=function(e){return ke(this,e).has(e)},ie.prototype.set=function(e,t){var n=ke(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ae.prototype.clear=function(){this.__data__=new re,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var i=n.__data__;if(!Z||i.length<r-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(i)}return n.set(e,t),this.size=n.size,this};var fe,he=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[fe?o:++r];if(!1===t(i[s],s,i))break}return e};function de(e){return null==e?void 0===e?v:h:Q&&Q in Object(e)?function(e){var t=M.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(a){}var i=F.call(e);r&&(t?e[Q]=n:delete e[Q]);return i}(e):function(e){return F.call(e)}(e)}function pe(e){return Oe(e)&&de(e)==u}function ve(e){return!(!Re(e)||function(e){return!!L&&L in e}(e))&&(De(e)?B:m).test(function(e){if(null!=e){try{return O.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function me(e){if(!Re(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=xe(e),n=[];for(var r in e)("constructor"!=r||!t&&M.call(e,r))&&n.push(r);return n}function ye(e,t,n,r,i){e!==t&&he(t,(function(a,o){if(i||(i=new ae),Re(a))!function(e,t,n,r,i,a,o){var s=Se(e,n),u=Se(t,n),c=o.get(u);if(c)return void se(e,n,c);var l=a?a(s,u,n+"",e,t,o):void 0,f=void 0===l;if(f){var h=Ie(u),p=!h&&Ne(u),v=!h&&!p&&Me(u);l=u,h||p||v?Ie(s)?l=s:Oe(m=s)&&Ae(m)?l=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):p?(f=!1,l=function(e,t){if(t)return e.slice();var n=e.length,r=q?q(n):new e.constructor(n);return e.copy(r),r}(u,!0)):v?(f=!1,l=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new U(t).set(new U(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(u,!0)):l=[]:function(e){if(!Oe(e)||de(e)!=d)return!1;var t=W(e);if(null===t)return!0;var n=M.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==j}(u)||Te(u)?(l=s,Te(s)?l=function(e){return function(e,t,n,r){var i=!n;n||(n={});var a=-1,o=t.length;for(;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?le(n,s,u):ue(n,s,u)}return n}(e,Le(e))}(s):Re(s)&&!De(s)||(l=function(e){return"function"!=typeof e.constructor||xe(e)?{}:te(W(e))}(u))):f=!1}var m;f&&(o.set(u,l),i(l,u,r,a,o),o.delete(u));se(e,n,l)}(e,t,o,n,ye,r,i);else{var s=r?r(Se(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),se(e,o,s)}}),Le)}function ge(e,t){return Ee(function(e,t,n){return t=X(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=X(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Be),e+"")}var be=Y?function(e,t){return Y(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Be;function ke(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function we(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ve(n)?n:void 0}function _e(e,t){var n=typeof e;return!!(t=null==t?s:t)&&("number"==n||"symbol"!=n&&y.test(e))&&e>-1&&e%1==0&&e<t}function xe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||P)}function Se(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ee=function(e){var t=0,n=0;return function(){var r=J(),i=o-(r-n);if(n=r,i>0){if(++t>=a)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(be);function Ce(e,t){return e===t||e!==e&&t!==t}var Te=pe(function(){return arguments}())?pe:function(e){return Oe(e)&&M.call(e,"callee")&&!G.call(e,"callee")},Ie=Array.isArray;function Ae(e){return null!=e&&Pe(e.length)&&!De(e)}var Ne=$||function(){return!1};function De(e){if(!Re(e))return!1;var t=de(e);return t==l||t==f||t==c||t==p}function Pe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Re(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oe(e){return null!=e&&"object"==typeof e}var Me=T?function(e){return function(t){return e(t)}}(T):function(e){return Oe(e)&&Pe(e.length)&&!!g[de(e)]};function Le(e){return Ae(e)?oe(e,!0):me(e)}var Fe,je=(Fe=function(e,t,n,r){ye(e,t,n,r)},ge((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=Fe.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!Re(n))return!1;var r=typeof t;return!!("number"==r?Ae(n)&&_e(t,n.length):"string"==r&&t in n)&&Ce(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&Fe(e,o,n,i)}return e})));function Be(e){return e}e.exports=je},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ce(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Me(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Be=null,Ve={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,s,u){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,Ct=!1,Tt=[],It=null,At=null,Nt=null,Dt=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&jt(It)&&(It=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Dt.forEach(Bt),Pt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Cn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Dn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!On||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){jr(e,0)}function Yn(e){if(K(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Hn(t,Kn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Er("animationend"),Tr=Er("animationiteration"),Ir=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Cr:case Tr:case Ir:u=yn;break;case Ar:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ci(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Ai=Si(!1),Ni=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ai),Ei(Ii)}function Oi(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ii.current,Ci(Ii,e),Ci(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ii),Ci(Ii,e)):Ei(Ai),Ci(Ai,n)}var ji=null,Bi=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Ui(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ze,Ui),i}finally{bt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Gi=0,Ki=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ca=null;function Ta(e){null===Ca?Ca=[e]:Ca.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ni:Ii.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=Bc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Mc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bc(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ci(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ci(eo,e),Ci(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Bo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Uo(2048,8,e,t)}function Ho(e,t){return Uo(4,2,e,t)}function Go(e,t){return Uo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Gu=r),hs(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ou,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ou,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Pi(n)?Ni:Ii.current;return a=Di(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ws(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Di(t,c=Pi(n)?Ni:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Na||Ua(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Di(t,u=Pi(n)?Ni:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ua(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ds(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Rs,Os,Ms,Ls={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ls,e):Bs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Us(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Rs(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Br(Mr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":$(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Br(Mr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Br("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Mu&&(Mu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Rs(e,t),null===e&&Ur(t.stateNode.containerInfo),Ks(t),null;case 10:return _a(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ut(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Uu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Zs=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,$s=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Eu=Math.ceil,Cu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,Au=0,Nu=null,Du=null,Pu=0,Ru=0,Ou=Si(0),Mu=0,Lu=null,Fu=0,ju=0,Bu=0,Vu=null,zu=null,Uu=0,qu=1/0,Wu=null,Hu=!1,Gu=null,Ku=null,Qu=!1,Yu=null,$u=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Au)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Au)&&e===Nu||(e===Nu&&(0===(2&Au)&&(ju|=n),4===Mu&&uc(e,Pu)),ic(e,r),1===n&&0===Au&&0===(1&t.mode)&&(qu=Xe()+500,Bi&&Ui()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Pu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Bi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Au)&&Ui()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Au;Au|=2;var o=vc();for(Nu===e&&Pu===t||(Wu=null,qu=Xe()+500,dc(e,t));;)try{bc();break}catch(u){pc(e,u)}wa(),Cu.current=o,Au=i,null!==Du?t=0:(Nu=null,Pu=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Lu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Uu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zu,Wu),t);break}_c(e,zu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zu,Wu),r);break}_c(e,zu,Wu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Bu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Au))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zu,Wu),ic(e,Xe()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(qu=Xe()+500,Bi&&Ui())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Au)&&xc();var t=Au;Au|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(Au=t))&&Ui()}}function hc(){Ru=Ou.current,Ei(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Ai),Ei(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Du=e=Oc(e.current,null),Pu=Ru=t,Mu=0,Lu=null,Bu=ju=Fu=0,zu=Vu=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pc(e,t){for(;;){var n=Du;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Tu.current=null,null===n||null===n.return){Mu=1,Lu=t,Du=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Mu&&(Mu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function vc(){var e=Cu.current;return Cu.current=os,null===e?os:e}function mc(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Nu||0===(268435455&Fu)&&0===(268435455&ju)||uc(Nu,Pu)}function yc(e,t){var n=Au;Au|=2;var r=vc();for(Nu===e&&Pu===t||(Wu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Au=n,Cu.current=r,null!==Du)throw Error(a(261));return Nu=null,Pu=0,Mu}function gc(){for(;null!==Du;)kc(Du)}function bc(){for(;null!==Du&&!Ye();)kc(Du)}function kc(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?wc(e):Du=t,Tu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ru)))return void(Du=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Du=n);if(null===e)return Mu=6,void(Du=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Mu&&(Mu=5)}function _c(e,t,n){var r=bt,i=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Du=Nu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=Au;Au|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Au=u,bt=s,Iu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Gu,Gu=null,e;0!==(1&$u)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Ui()}(e,t,n,r)}finally{Iu.transition=i,bt=r}return null}function xc(){if(null!==Yu){var e=kt($u),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Ec(u,u.return,_)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Au=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function Sc(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Pu&n)===n&&(4===Mu||3===Mu&&(130023424&Pu)===Pu&&500>Xe()-Uu?dc(e,0):Bu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ke(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Dc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case I:s=11;break e;case D:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Uc(e){if(!e)return Ti;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Uc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ci(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Di(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Ur(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Ur(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Au)&&(qu=Xe()+500,Ui()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ce,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!a(u.value[1],o.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(e[u]!==o[u])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!a(e[c[u]],o[c[u]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(C),C=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,C=-1,T=5,I=-1;function A(){return!(t.unstable_now()-I<T)}function N(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=N,x=function(){P.postMessage(null)}}else x=function(){y(N,0)};function R(e){E=e,S||(S=!0,x())}function O(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(C),C=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".85614a1b.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="e-commerce-website:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/e-commerce-website/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunke_commerce_website=self.webpackChunke_commerce_website||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Po},SDK_VERSION:function(){return Xs},_DEFAULT_ENTRY_NAME:function(){return js},_addComponent:function(){return Us},_addOrOverwriteComponent:function(){return qs},_apps:function(){return Vs},_clearComponents:function(){return Ks},_components:function(){return zs},_getProvider:function(){return Hs},_registerComponent:function(){return Ws},_removeServiceInstance:function(){return Gs},deleteApp:function(){return tu},getApp:function(){return Zs},getApps:function(){return eu},initializeApp:function(){return Js},onLog:function(){return iu},registerVersion:function(){return ru},setLogLevel:function(){return au}});var t=n(2791),r=n.t(t,2),i=n(1250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||u()}var l=n(4569),f=n.n(l)().create({baseURL:"https://reqres.in/api/"});function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function p(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,r=e.strict,i=void 0===r||r,a=e.hookName,o=void 0===a?"useContext":a,s=e.providerName,u=void 0===s?"Provider":s,c=e.errorMessage,l=(0,t.createContext)(void 0);return l.displayName=n,[l.Provider,function e(){var n,r,a=(0,t.useContext)(l);if(!a&&i){var s=new Error(null!=c?c:(r=u,"".concat(o," returned `undefined`. Seems you forgot to wrap component within ").concat(r)));throw s.name="ContextError",null==(n=Error.captureStackTrace)||n.call(Error,s,e),s}return a},l]}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){!function(e,t){if(null!=e)if("function"!==typeof e)try{e.current=t}catch(n){throw new Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}else e(t)}(t,e)}))}}function k(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)((function(){return b.apply(void 0,n)}),n)}function w(e){return(0,t.forwardRef)(e)}var _=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),x=Math.abs,S=String.fromCharCode,E=Object.assign;function C(e){return e.trim()}function T(e,t,n){return e.replace(t,n)}function I(e,t){return e.indexOf(t)}function A(e,t){return 0|e.charCodeAt(t)}function N(e,t,n){return e.slice(t,n)}function D(e){return e.length}function P(e){return e.length}function R(e,t){return t.push(e),e}var O=1,M=1,L=0,F=0,j=0,B="";function V(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:O,column:M,length:o,return:""}}function z(e,t){return E(V("",null,null,"",null,null,0),e,{length:-e.length},t)}function U(){return j=F>0?A(B,--F):0,M--,10===j&&(M=1,O--),j}function q(){return j=F<L?A(B,F++):0,M++,10===j&&(M=1,O++),j}function W(){return A(B,F)}function H(){return F}function G(e,t){return N(B,e,t)}function K(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Q(e){return O=M=1,L=D(B=e),F=0,[]}function Y(e){return B="",e}function $(e){return C(G(F-1,Z(91===e?e+2:40===e?e+1:e)))}function X(e){for(;(j=W())&&j<33;)q();return K(e)>2||K(j)>3?"":" "}function J(e,t){for(;--t&&q()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return G(e,H()+(t<6&&32==W()&&32==q()))}function Z(e){for(;q();)switch(j){case e:return F;case 34:case 39:34!==e&&39!==e&&Z(j);break;case 40:41===e&&Z(e);break;case 92:q()}return F}function ee(e,t){for(;q()&&e+j!==57&&(e+j!==84||47!==W()););return"/*"+G(t,F-1)+"*"+S(47===e?e:q())}function te(e){for(;!K(W());)q();return G(e,F)}var ne="-ms-",re="-moz-",ie="-webkit-",ae="comm",oe="rule",se="decl",ue="@import",ce="@keyframes";function le(e,t){for(var n="",r=P(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function fe(e,t,n,r){switch(e.type){case ue:case se:return e.return=e.return||e.value;case ae:return"";case ce:return e.return=e.value+"{"+le(e.children,r)+"}";case oe:e.value=e.props.join(",")}return D(n=le(e.children,r))?e.return=e.value+"{"+n+"}":""}function he(e){return Y(de("",null,null,null,[""],e=Q(e),0,[0],e))}function de(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,b="",k=i,w=a,_=r,x=b;m;)switch(p=g,g=q()){case 40:if(108!=p&&58==A(x,f-1)){-1!=I(x+=T($(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=$(g);break;case 9:case 10:case 13:case 32:x+=X(p);break;case 92:x+=J(H()-1,7);continue;case 47:switch(W()){case 42:case 47:R(ve(ee(q(),H()),t,n),u);break;default:x+="/"}break;case 123*v:s[c++]=D(x)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&D(x)-f&&R(d>32?me(x+";",r,n,f-1):me(T(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(R(_=pe(x,t,n,c,l,i,s,b,k=[],w=[],f),a),123===g)if(0===l)de(x,t,_,_,k,a,f,s,w);else switch(99===h&&110===A(x,3)?100:h){case 100:case 109:case 115:de(e,_,_,r&&R(pe(e,_,_,0,0,i,s,b,i,k=[],f),w),i,w,f,s,r?k:w);break;default:de(x,_,_,_,[""],w,0,s,w)}}c=l=d=0,v=y=1,b=x="",f=o;break;case 58:f=1+D(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==U())continue;switch(x+=S(g),g*v){case 38:y=l>0?1:(x+="\f",-1);break;case 44:s[c++]=(D(x)-1)*y,y=1;break;case 64:45===W()&&(x+=$(q())),h=W(),l=f=D(b=x+=te(H())),g++;break;case 45:45===p&&2==D(x)&&(v=0)}}return a}function pe(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,h=0===i?a:[""],d=P(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=N(e,f+1,f=x(v=o[p])),b=e;y<d;++y)(b=C(v>0?h[y]+" "+g:T(g,/&\f/g,h[y])))&&(u[m++]=b);return V(e,t,n,0===i?oe:s,u,c,l)}function ve(e,t,n){return V(e,t,n,ae,S(j),N(e,2,-2),0)}function me(e,t,n,r){return V(e,t,n,se,N(e,0,r),N(e,r+1,-1),r)}var ye=function(e,t,n){for(var r=0,i=0;r=i,i=W(),38===r&&12===i&&(t[n]=1),!K(i);)q();return G(e,F)},ge=function(e,t){return Y(function(e,t){var n=-1,r=44;do{switch(K(r)){case 0:38===r&&12===W()&&(t[n]=1),e[n]+=ye(F-1,t,n);break;case 2:e[n]+=$(r);break;case 4:if(44===r){e[++n]=58===W()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=S(r)}}while(r=q());return e}(Q(e),t))},be=new WeakMap,ke=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||be.get(n))&&!r){be.set(e,!0);for(var i=[],a=ge(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},we=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function _e(e,t){switch(function(e,t){return 45^A(e,0)?(((t<<2^A(e,0))<<2^A(e,1))<<2^A(e,2))<<2^A(e,3):0}(e,t)){case 5103:return ie+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ie+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ie+e+re+e+ne+e+e;case 6828:case 4268:return ie+e+ne+e+e;case 6165:return ie+e+ne+"flex-"+e+e;case 5187:return ie+e+T(e,/(\w+).+(:[^]+)/,ie+"box-$1$2"+ne+"flex-$1$2")+e;case 5443:return ie+e+ne+"flex-item-"+T(e,/flex-|-self/,"")+e;case 4675:return ie+e+ne+"flex-line-pack"+T(e,/align-content|flex-|-self/,"")+e;case 5548:return ie+e+ne+T(e,"shrink","negative")+e;case 5292:return ie+e+ne+T(e,"basis","preferred-size")+e;case 6060:return ie+"box-"+T(e,"-grow","")+ie+e+ne+T(e,"grow","positive")+e;case 4554:return ie+T(e,/([^-])(transform)/g,"$1"+ie+"$2")+e;case 6187:return T(T(T(e,/(zoom-|grab)/,ie+"$1"),/(image-set)/,ie+"$1"),e,"")+e;case 5495:case 3959:return T(e,/(image-set\([^]*)/,ie+"$1$`$1");case 4968:return T(T(e,/(.+:)(flex-)?(.*)/,ie+"box-pack:$3"+ne+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ie+e+e;case 4095:case 3583:case 4068:case 2532:return T(e,/(.+)-inline(.+)/,ie+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(D(e)-1-t>6)switch(A(e,t+1)){case 109:if(45!==A(e,t+4))break;case 102:return T(e,/(.+:)(.+)-([^]+)/,"$1"+ie+"$2-$3$1"+re+(108==A(e,t+3)?"$3":"$2-$3"))+e;case 115:return~I(e,"stretch")?_e(T(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==A(e,t+1))break;case 6444:switch(A(e,D(e)-3-(~I(e,"!important")&&10))){case 107:return T(e,":",":"+ie)+e;case 101:return T(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ie+(45===A(e,14)?"inline-":"")+"box$3$1"+ie+"$2$3$1"+ne+"$2box$3")+e}break;case 5936:switch(A(e,t+11)){case 114:return ie+e+ne+T(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ie+e+ne+T(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ie+e+ne+T(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ie+e+ne+e+e}return e}var xe=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case se:e.return=_e(e.value,e.length);break;case ce:return le([z(e,{value:T(e.value,"@","@"+ie)})],r);case oe:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return le([z(e,{props:[T(t,/:(read-\w+)/,":"+re+"$1")]})],r);case"::placeholder":return le([z(e,{props:[T(t,/:(plac\w+)/,":"+ie+"input-$1")]}),z(e,{props:[T(t,/:(plac\w+)/,":"+re+"$1")]}),z(e,{props:[T(t,/:(plac\w+)/,ne+"input-$1")]})],r)}return""}))}}],Se=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||xe;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,c,l=[fe,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=P(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([ke,we].concat(r,l));a=function(e,t,n,r){u=n,function(e){le(he(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new _({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}var Ce=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var Te=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Ie={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Ae=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Ne=/[A-Z]|^ms/g,De=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Pe=function(e){return 45===e.charCodeAt(1)},Re=function(e){return null!=e&&"boolean"!==typeof e},Oe=Ae((function(e){return Pe(e)?e:e.replace(Ne,"-$&").toLowerCase()})),Me=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(De,(function(e,t,n){return Fe={name:t,styles:n,next:Fe},t}))}return 1===Ie[e]||Pe(e)||"number"!==typeof t||0===t?t:t+"px"};function Le(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Fe={name:n.name,styles:n.styles,next:Fe},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Fe={name:r.name,styles:r.styles,next:Fe},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Le(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Re(o)&&(r+=Oe(a)+":"+Me(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Le(e,t,o);switch(a){case"animation":case"animationName":r+=Oe(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)Re(o[u])&&(r+=Oe(a)+":"+Me(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Fe,a=n(e);return Fe=i,Le(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Fe,je=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Be=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Fe=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Le(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Le(n,t,e[o]),r&&(i+=a[o]);je.lastIndex=0;for(var s,u="";null!==(s=je.exec(i));)u+="-"+s[1];return{name:Te(i)+u,styles:i,next:Fe}},Ve=!!r.useInsertionEffect&&r.useInsertionEffect,ze=Ve||function(e){return e()},Ue=Ve||t.useLayoutEffect,qe=(0,t.createContext)("undefined"!==typeof HTMLElement?Se({key:"css"}):null);qe.Provider;var We=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(qe);return e(n,i,r)}))},He=(0,t.createContext)({});var Ge=Ce((function(e){return Ce((function(t){return function(e,t){return"function"===typeof t?t(e):Ee({},e,t)}(e,t)}))})),Ke=function(e){var n=(0,t.useContext)(He);return e.theme!==n&&(n=Ge(n)(e.theme)),(0,t.createElement)(He.Provider,{value:n},e.children)};var Qe=(0,t.createContext)({});function Ye(){var e=(0,t.useContext)(Qe);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function $e(){var e=Ye(),n=function(){var e=(0,t.useContext)(He);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}();return m(m({},e),{},{theme:n})}function Xe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Je(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ze(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Je(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e){return a(e)||Je(e)||s(e)||u()}Qe.displayName="ColorModeContext";var tt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};function nt(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Array.isArray(e)}function rt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return it(e)?e.apply(void 0,n):e}var it=function(e){return"function"===typeof e},at=function(e){return e?"":void 0};var ot=n(6198),st=["__cssMap","__cssVars","__breakpoints"],ut=function(e){return"string"===typeof e?e.replace(/!(important)?$/,"").trim():e},ct=function(e,t){return function(n){var r=String(t),i=function(e){return/!(important)?$/.test(e)}(r),a=ut(r),o=e?"".concat(e,".").concat(a):a,s=nt(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:t;return s=ut(s),i?"".concat(s," !important"):s}};function lt(e){var t=e.scale,n=e.transform,r=e.compose;return function(e,i){var a,o=ct(t,e)(i),s=null!=(a=null==n?void 0:n(o,i))?a:o;return r&&(s=r(s,i)),s}}var ft=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}};function ht(e,t){return function(n){var r={property:n,scale:e};return r.transform=lt({scale:e,transform:t}),r}}var dt=function(e){var t=e.rtl,n=e.ltr;return function(e){return"rtl"===e.direction?t:n}};var pt=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var vt={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},mt={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var yt={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},gt={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},bt=new Set(Object.values(gt)),kt=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),wt=function(e){return e.trim()};var _t=function(e){return"string"===typeof e&&e.includes("(")&&e.includes(")")};var xt=function(e){return function(t){return"".concat(e,"(").concat(t,")")}},St={filter:function(e){return"auto"!==e?e:vt},backdropFilter:function(e){return"auto"!==e?e:mt},ring:function(e){return function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(St.px(e))},bgClip:function(e){return"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform:function(e){return"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))"].concat(pt).join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)"].concat(pt).join(" "):e},vh:function(e){return"$100vh"===e?"var(--chakra-vh)":e},px:function(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t.unitless||"number"===typeof e?"".concat(e,"px"):e},fraction:function(e){return"number"!==typeof e||e>1?e:"".concat(100*e,"%")},float:function(e,t){return"rtl"===t.direction?{left:"right",right:"left"}[e]:e},degree:function(e){if(function(e){return/^var\(--.+\)$/.test(e)}(e)||null==e)return e;var t="string"===typeof e&&!e.endsWith("deg");return"number"===typeof e||t?"".concat(e,"deg"):e},gradient:function(e,t){return function(e,t){if(null==e||kt.has(e))return e;var n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),r=null==n?void 0:n[1],i=null==n?void 0:n[2];if(!r||!i)return e;var a=r.includes("-gradient")?r:"".concat(r,"-gradient"),o=et(i.split(",").map(wt).filter(Boolean)),s=o[0],u=o.slice(1);if(0===(null==u?void 0:u.length))return e;var l=s in gt?gt[s]:s;u.unshift(l);var f=u.map((function(e){if(bt.has(e))return e;var n=e.indexOf(" "),r=c(-1!==n?[e.substr(0,n),e.substr(n+1)]:[e],2),i=r[0],a=r[1],o=_t(a)?a:a&&a.split(" "),s="colors.".concat(i),u=s in t.__cssMap?t.__cssMap[s].varRef:i;return o?[u].concat(Ze(Array.isArray(o)?o:[o])).join(" "):u}));return"".concat(a,"(").concat(f.join(", "),")")}(e,null!=t?t:{})},blur:xt("blur"),opacity:xt("opacity"),brightness:xt("brightness"),contrast:xt("contrast"),dropShadow:xt("drop-shadow"),grayscale:xt("grayscale"),hueRotate:xt("hue-rotate"),invert:xt("invert"),saturate:xt("saturate"),sepia:xt("sepia"),bgImage:function(e){return null==e||_t(e)||kt.has(e)?e:"url(".concat(e,")")},outline:function(e){var t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection:function(e){var t,n=null!=(t=yt[e])?t:{},r=n.space,i=n.divide,a={flexDirection:e};return r&&(a[r]=1),i&&(a[i]=1),a}},Et={borderWidths:ht("borderWidths"),borderStyles:ht("borderStyles"),colors:ht("colors"),borders:ht("borders"),radii:ht("radii",St.px),space:ht("space",ft(St.vh,St.px)),spaceT:ht("space",ft(St.vh,St.px)),degreeT:function(e){return{property:e,transform:St.degree}},prop:function(e,t,n){return m({property:e,scale:t},t&&{transform:lt({scale:t,transform:n})})},propT:function(e,t){return{property:e,transform:t}},sizes:ht("sizes",ft(St.vh,St.px)),sizesT:ht("sizes",ft(St.vh,St.fraction)),shadows:ht("shadows"),logical:function(e){var t=e.property,n=e.scale,r=e.transform;return{scale:n,property:dt(t),transform:n?lt({scale:n,compose:r}):r}},blur:ht("blur",St.blur)},Ct={background:Et.colors("background"),backgroundColor:Et.colors("backgroundColor"),backgroundImage:Et.propT("backgroundImage",St.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:St.bgClip},bgSize:Et.prop("backgroundSize"),bgPosition:Et.prop("backgroundPosition"),bg:Et.colors("background"),bgColor:Et.colors("backgroundColor"),bgPos:Et.prop("backgroundPosition"),bgRepeat:Et.prop("backgroundRepeat"),bgAttachment:Et.prop("backgroundAttachment"),bgGradient:Et.propT("backgroundImage",St.gradient),bgClip:{transform:St.bgClip}};Object.assign(Ct,{bgImage:Ct.backgroundImage,bgImg:Ct.backgroundImage});var Tt={border:Et.borders("border"),borderWidth:Et.borderWidths("borderWidth"),borderStyle:Et.borderStyles("borderStyle"),borderColor:Et.colors("borderColor"),borderRadius:Et.radii("borderRadius"),borderTop:Et.borders("borderTop"),borderBlockStart:Et.borders("borderBlockStart"),borderTopLeftRadius:Et.radii("borderTopLeftRadius"),borderStartStartRadius:Et.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Et.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Et.radii("borderTopRightRadius"),borderStartEndRadius:Et.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Et.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Et.borders("borderRight"),borderInlineEnd:Et.borders("borderInlineEnd"),borderBottom:Et.borders("borderBottom"),borderBlockEnd:Et.borders("borderBlockEnd"),borderBottomLeftRadius:Et.radii("borderBottomLeftRadius"),borderBottomRightRadius:Et.radii("borderBottomRightRadius"),borderLeft:Et.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Et.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Et.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Et.borders(["borderLeft","borderRight"]),borderInline:Et.borders("borderInline"),borderY:Et.borders(["borderTop","borderBottom"]),borderBlock:Et.borders("borderBlock"),borderTopWidth:Et.borderWidths("borderTopWidth"),borderBlockStartWidth:Et.borderWidths("borderBlockStartWidth"),borderTopColor:Et.colors("borderTopColor"),borderBlockStartColor:Et.colors("borderBlockStartColor"),borderTopStyle:Et.borderStyles("borderTopStyle"),borderBlockStartStyle:Et.borderStyles("borderBlockStartStyle"),borderBottomWidth:Et.borderWidths("borderBottomWidth"),borderBlockEndWidth:Et.borderWidths("borderBlockEndWidth"),borderBottomColor:Et.colors("borderBottomColor"),borderBlockEndColor:Et.colors("borderBlockEndColor"),borderBottomStyle:Et.borderStyles("borderBottomStyle"),borderBlockEndStyle:Et.borderStyles("borderBlockEndStyle"),borderLeftWidth:Et.borderWidths("borderLeftWidth"),borderInlineStartWidth:Et.borderWidths("borderInlineStartWidth"),borderLeftColor:Et.colors("borderLeftColor"),borderInlineStartColor:Et.colors("borderInlineStartColor"),borderLeftStyle:Et.borderStyles("borderLeftStyle"),borderInlineStartStyle:Et.borderStyles("borderInlineStartStyle"),borderRightWidth:Et.borderWidths("borderRightWidth"),borderInlineEndWidth:Et.borderWidths("borderInlineEndWidth"),borderRightColor:Et.colors("borderRightColor"),borderInlineEndColor:Et.colors("borderInlineEndColor"),borderRightStyle:Et.borderStyles("borderRightStyle"),borderInlineEndStyle:Et.borderStyles("borderInlineEndStyle"),borderTopRadius:Et.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Et.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Et.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Et.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Tt,{rounded:Tt.borderRadius,roundedTop:Tt.borderTopRadius,roundedTopLeft:Tt.borderTopLeftRadius,roundedTopRight:Tt.borderTopRightRadius,roundedTopStart:Tt.borderStartStartRadius,roundedTopEnd:Tt.borderStartEndRadius,roundedBottom:Tt.borderBottomRadius,roundedBottomLeft:Tt.borderBottomLeftRadius,roundedBottomRight:Tt.borderBottomRightRadius,roundedBottomStart:Tt.borderEndStartRadius,roundedBottomEnd:Tt.borderEndEndRadius,roundedLeft:Tt.borderLeftRadius,roundedRight:Tt.borderRightRadius,roundedStart:Tt.borderInlineStartRadius,roundedEnd:Tt.borderInlineEndRadius,borderStart:Tt.borderInlineStart,borderEnd:Tt.borderInlineEnd,borderTopStartRadius:Tt.borderStartStartRadius,borderTopEndRadius:Tt.borderStartEndRadius,borderBottomStartRadius:Tt.borderEndStartRadius,borderBottomEndRadius:Tt.borderEndEndRadius,borderStartRadius:Tt.borderInlineStartRadius,borderEndRadius:Tt.borderInlineEndRadius,borderStartWidth:Tt.borderInlineStartWidth,borderEndWidth:Tt.borderInlineEndWidth,borderStartColor:Tt.borderInlineStartColor,borderEndColor:Tt.borderInlineEndColor,borderStartStyle:Tt.borderInlineStartStyle,borderEndStyle:Tt.borderInlineEndStyle});var It={color:Et.colors("color"),textColor:Et.colors("color"),fill:Et.colors("fill"),stroke:Et.colors("stroke")},At={boxShadow:Et.shadows("boxShadow"),mixBlendMode:!0,blendMode:Et.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Et.prop("backgroundBlendMode"),opacity:!0};Object.assign(At,{shadow:At.boxShadow});var Nt={filter:{transform:St.filter},blur:Et.blur("--chakra-blur"),brightness:Et.propT("--chakra-brightness",St.brightness),contrast:Et.propT("--chakra-contrast",St.contrast),hueRotate:Et.degreeT("--chakra-hue-rotate"),invert:Et.propT("--chakra-invert",St.invert),saturate:Et.propT("--chakra-saturate",St.saturate),dropShadow:Et.propT("--chakra-drop-shadow",St.dropShadow),backdropFilter:{transform:St.backdropFilter},backdropBlur:Et.blur("--chakra-backdrop-blur"),backdropBrightness:Et.propT("--chakra-backdrop-brightness",St.brightness),backdropContrast:Et.propT("--chakra-backdrop-contrast",St.contrast),backdropHueRotate:Et.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:Et.propT("--chakra-backdrop-invert",St.invert),backdropSaturate:Et.propT("--chakra-backdrop-saturate",St.saturate)},Dt={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:St.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Et.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Et.space("gap"),rowGap:Et.space("rowGap"),columnGap:Et.space("columnGap")};Object.assign(Dt,{flexDir:Dt.flexDirection});var Pt={gridGap:Et.space("gridGap"),gridColumnGap:Et.space("gridColumnGap"),gridRowGap:Et.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},Rt={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:St.outline},outlineOffset:!0,outlineColor:Et.colors("outlineColor")},Ot={width:Et.sizesT("width"),inlineSize:Et.sizesT("inlineSize"),height:Et.sizes("height"),blockSize:Et.sizes("blockSize"),boxSize:Et.sizes(["width","height"]),minWidth:Et.sizes("minWidth"),minInlineSize:Et.sizes("minInlineSize"),minHeight:Et.sizes("minHeight"),minBlockSize:Et.sizes("minBlockSize"),maxWidth:Et.sizes("maxWidth"),maxInlineSize:Et.sizes("maxInlineSize"),maxHeight:Et.sizes("maxHeight"),maxBlockSize:Et.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,hideFrom:{scale:"breakpoints",transform:function(e,t){var n,r,i;return p({},null!=(i=null==(r=null==(n=t.__breakpoints)?void 0:n.get(e))?void 0:r.minWQuery)?i:"@media screen and (min-width: ".concat(e,")"),{display:"none"})}},hideBelow:{scale:"breakpoints",transform:function(e,t){var n,r,i;return p({},null!=(i=null==(r=null==(n=t.__breakpoints)?void 0:n.get(e))?void 0:r.maxWQuery)?i:"@media screen and (max-width: ".concat(e,")"),{display:"none"})}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Et.propT("float",St.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Ot,{w:Ot.width,h:Ot.height,minW:Ot.minWidth,maxW:Ot.maxWidth,minH:Ot.minHeight,maxH:Ot.maxHeight,overscroll:Ot.overscrollBehavior,overscrollX:Ot.overscrollBehaviorX,overscrollY:Ot.overscrollBehaviorY});var Mt={listStyleType:!0,listStylePosition:!0,listStylePos:Et.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Et.prop("listStyleImage")};var Lt=function(e){var t=new WeakMap;return function(n,r,i,a){if("undefined"===typeof n)return e(n,r,i);t.has(n)||t.set(n,new Map);var o=t.get(n);if(o.has(r))return o.get(r);var s=e(n,r,i,a);return o.set(r,s),s}}((function(e,t,n,r){var i="string"===typeof t?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return void 0===e?n:e})),Ft={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},jt={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Bt=function(e,t,n){var r={},i=Lt(e,t,{});for(var a in i){a in n&&null!=n[a]||(r[a]=i[a])}return r},Vt={srOnly:{transform:function(e){return!0===e?Ft:"focusable"===e?jt:{}}},layerStyle:{processResult:!0,transform:function(e,t,n){return Bt(t,"layerStyles.".concat(e),n)}},textStyle:{processResult:!0,transform:function(e,t,n){return Bt(t,"textStyles.".concat(e),n)}},apply:{processResult:!0,transform:function(e,t,n){return Bt(t,e,n)}}},zt={position:!0,pos:Et.prop("position"),zIndex:Et.prop("zIndex","zIndices"),inset:Et.spaceT("inset"),insetX:Et.spaceT(["left","right"]),insetInline:Et.spaceT("insetInline"),insetY:Et.spaceT(["top","bottom"]),insetBlock:Et.spaceT("insetBlock"),top:Et.spaceT("top"),insetBlockStart:Et.spaceT("insetBlockStart"),bottom:Et.spaceT("bottom"),insetBlockEnd:Et.spaceT("insetBlockEnd"),left:Et.spaceT("left"),insetInlineStart:Et.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Et.spaceT("right"),insetInlineEnd:Et.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(zt,{insetStart:zt.insetInlineStart,insetEnd:zt.insetInlineEnd});var Ut={ring:{transform:St.ring},ringColor:Et.colors("--chakra-ring-color"),ringOffset:Et.prop("--chakra-ring-offset-width"),ringOffsetColor:Et.colors("--chakra-ring-offset-color"),ringInset:Et.prop("--chakra-ring-inset")},qt={margin:Et.spaceT("margin"),marginTop:Et.spaceT("marginTop"),marginBlockStart:Et.spaceT("marginBlockStart"),marginRight:Et.spaceT("marginRight"),marginInlineEnd:Et.spaceT("marginInlineEnd"),marginBottom:Et.spaceT("marginBottom"),marginBlockEnd:Et.spaceT("marginBlockEnd"),marginLeft:Et.spaceT("marginLeft"),marginInlineStart:Et.spaceT("marginInlineStart"),marginX:Et.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Et.spaceT("marginInline"),marginY:Et.spaceT(["marginTop","marginBottom"]),marginBlock:Et.spaceT("marginBlock"),padding:Et.space("padding"),paddingTop:Et.space("paddingTop"),paddingBlockStart:Et.space("paddingBlockStart"),paddingRight:Et.space("paddingRight"),paddingBottom:Et.space("paddingBottom"),paddingBlockEnd:Et.space("paddingBlockEnd"),paddingLeft:Et.space("paddingLeft"),paddingInlineStart:Et.space("paddingInlineStart"),paddingInlineEnd:Et.space("paddingInlineEnd"),paddingX:Et.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Et.space("paddingInline"),paddingY:Et.space(["paddingTop","paddingBottom"]),paddingBlock:Et.space("paddingBlock")};Object.assign(qt,{m:qt.margin,mt:qt.marginTop,mr:qt.marginRight,me:qt.marginInlineEnd,marginEnd:qt.marginInlineEnd,mb:qt.marginBottom,ml:qt.marginLeft,ms:qt.marginInlineStart,marginStart:qt.marginInlineStart,mx:qt.marginX,my:qt.marginY,p:qt.padding,pt:qt.paddingTop,py:qt.paddingY,px:qt.paddingX,pb:qt.paddingBottom,pl:qt.paddingLeft,ps:qt.paddingInlineStart,paddingStart:qt.paddingInlineStart,pr:qt.paddingRight,pe:qt.paddingInlineEnd,paddingEnd:qt.paddingInlineEnd});var Wt={textDecorationColor:Et.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Et.shadows("textShadow")},Ht={clipPath:!0,transform:Et.propT("transform",St.transform),transformOrigin:!0,translateX:Et.spaceT("--chakra-translate-x"),translateY:Et.spaceT("--chakra-translate-y"),skewX:Et.degreeT("--chakra-skew-x"),skewY:Et.degreeT("--chakra-skew-y"),scaleX:Et.prop("--chakra-scale-x"),scaleY:Et.prop("--chakra-scale-y"),scale:Et.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Et.degreeT("--chakra-rotate")},Gt={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Et.prop("transitionDuration","transition.duration"),transitionProperty:Et.prop("transitionProperty","transition.property"),transitionTimingFunction:Et.prop("transitionTimingFunction","transition.easing")},Kt={fontFamily:Et.prop("fontFamily","fonts"),fontSize:Et.prop("fontSize","fontSizes",St.px),fontWeight:Et.prop("fontWeight","fontWeights"),lineHeight:Et.prop("lineHeight","lineHeights"),letterSpacing:Et.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform:function(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},Qt={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Et.spaceT("scrollMargin"),scrollMarginTop:Et.spaceT("scrollMarginTop"),scrollMarginBottom:Et.spaceT("scrollMarginBottom"),scrollMarginLeft:Et.spaceT("scrollMarginLeft"),scrollMarginRight:Et.spaceT("scrollMarginRight"),scrollMarginX:Et.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Et.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Et.spaceT("scrollPadding"),scrollPaddingTop:Et.spaceT("scrollPaddingTop"),scrollPaddingBottom:Et.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Et.spaceT("scrollPaddingLeft"),scrollPaddingRight:Et.spaceT("scrollPaddingRight"),scrollPaddingX:Et.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Et.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function Yt(e){return nt(e)&&e.reference?e.reference:String(e)}var $t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(Yt).join(" ".concat(e," ")).replace(/calc/g,"")},Xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat($t.apply(void 0,["+"].concat(t)),")")},Jt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat($t.apply(void 0,["-"].concat(t)),")")},Zt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat($t.apply(void 0,["*"].concat(t)),")")},en=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat($t.apply(void 0,["/"].concat(t)),")")},tn=function(e){var t=Yt(e);return null==t||Number.isNaN(parseFloat(t))?Zt(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},nn=Object.assign((function(e){return{add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nn(Xt.apply(void 0,[e].concat(n)))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nn(Jt.apply(void 0,[e].concat(n)))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nn(Zt.apply(void 0,[e].concat(n)))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nn(en.apply(void 0,[e].concat(n)))},negate:function(){return nn(tn(e))},toString:function(){return e.toString()}}}),{add:Xt,subtract:Jt,multiply:Zt,divide:en,negate:tn});function rn(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return function(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}(function(e){if(e.includes("\\."))return e;var t=!Number.isInteger(parseFloat(e.toString()));return t?e.replace(".","\\."):e}(t))}function an(e,t){return"var(".concat(e).concat(t?", ".concat(t):"",")")}function on(e){return rn("--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")))}function sn(e,t,n){var r=on(e,n);return{variable:r,reference:an(r,t)}}function un(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function cn(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t.unitless||"number"===typeof e?"".concat(e,"px"):e}var ln=function(e,t){return parseInt(e[1],10)>parseInt(t[1],10)?1:-1},fn=function(e){return Object.fromEntries(Object.entries(e).sort(ln))};function hn(e){var t=fn(e);return Object.assign(Object.values(t),t)}function dn(e){var t;if(!e)return e;e=null!=(t=cn(e))?t:e;return"number"===typeof e?"".concat(e+-.02):e.replace(/([0-9]+\.?[0-9]*)/,(function(e){return"".concat(parseFloat(e)+-.02)}))}function pn(e,t){var n=["@media screen"];return e&&n.push("and","(min-width: ".concat(cn(e),")")),t&&n.push("and","(max-width: ".concat(cn(t),")")),n.join(" ")}function vn(e){var t;if(!e)return null;e.base=null!=(t=e.base)?t:"0px";var n=hn(e),r=Object.entries(e).sort(ln).map((function(e,t,n){var r,i=c(e,2),a=i[0],o=i[1],s=c(null!=(r=n[t+1])?r:[],2)[1];return s=parseFloat(s)>0?dn(s):void 0,{_minW:dn(o),breakpoint:a,minW:o,maxW:s,maxWQuery:pn(null,s),minWQuery:pn(o),minMaxQuery:pn(o,s)}})),i=function(e){var t=Object.keys(fn(e));return new Set(t)}(e),a=Array.from(i.values());return{keys:i,normalized:n,isResponsive:function(e){var t=Object.keys(e);return t.length>0&&t.every((function(e){return i.has(e)}))},asObject:fn(e),asArray:hn(e),details:r,get:function(e){return r.find((function(t){return t.breakpoint===e}))},media:[null].concat(Ze(n.map((function(e){return pn(e)})).slice(1))),toArrayValue:function(e){if(!nt(e))throw new Error("toArrayValue: value must be an object");for(var t=a.map((function(t){var n;return null!=(n=e[t])?n:null}));null===un(t);)t.pop();return t},toObjectValue:function(e){if(!Array.isArray(e))throw new Error("toObjectValue: value must be an array");return e.reduce((function(e,t,n){var r=a[n];return null!=r&&null!=t&&(e[r]=t),e}),{})}}}var mn=function(e,t){return"".concat(e,":hover ").concat(t,", ").concat(e,"[data-hover] ").concat(t)},yn=function(e,t){return"".concat(e,":focus ").concat(t,", ").concat(e,"[data-focus] ").concat(t)},gn=function(e,t){return"".concat(e,":focus-visible ").concat(t)},bn=function(e,t){return"".concat(e,":focus-within ").concat(t)},kn=function(e,t){return"".concat(e,":active ").concat(t,", ").concat(e,"[data-active] ").concat(t)},wn=function(e,t){return"".concat(e,":disabled ").concat(t,", ").concat(e,"[data-disabled] ").concat(t)},_n=function(e,t){return"".concat(e,":invalid ").concat(t,", ").concat(e,"[data-invalid] ").concat(t)},xn=function(e,t){return"".concat(e,":checked ").concat(t,", ").concat(e,"[data-checked] ").concat(t)},Sn=function(e,t){return"".concat(e,":placeholder-shown ").concat(t)},En=function(e){return Tn((function(t){return e(t,"&")}),"[role=group]","[data-group]",".group")},Cn=function(e){return Tn((function(t){return e(t,"~ &")}),"[data-peer]",".peer")},Tn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(e).join(", ")},In={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:En(mn),_peerHover:Cn(mn),_groupFocus:En(yn),_peerFocus:Cn(yn),_groupFocusVisible:En(gn),_peerFocusVisible:Cn(gn),_groupActive:En(kn),_peerActive:Cn(kn),_groupDisabled:En(wn),_peerDisabled:Cn(wn),_groupInvalid:En(_n),_peerInvalid:Cn(_n),_groupChecked:En(xn),_peerChecked:Cn(xn),_groupFocusWithin:En(bn),_peerFocusWithin:Cn(bn),_peerPlaceholderShown:Cn(Sn),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},An=Object.keys(In);function Nn(e,t){return sn(String(e).replace(/\./g,"-"),void 0,t)}function Dn(e,t){for(var n={},r={},i=function(){var i=c(o[a],2),s=i[0],u=i[1],l=u.isSemantic,f=u.value,h=Nn(s,null==t?void 0:t.cssVarPrefix),d=h.variable,v=h.reference;if(!l){if(s.startsWith("space")){var m=et(s.split(".")),y=m[0],g=m.slice(1),b="".concat(y,".-").concat(g.join(".")),k=nn.negate(f),w=nn.negate(v);r[b]={value:k,var:d,varRef:w}}return n[d]=f,r[s]={value:f,var:d,varRef:v},"continue"}var _=nt(f)?f:{default:f};n=ot(n,Object.entries(_).reduce((function(n,r){var i,a,o=c(r,2),u=o[0],l=function(n){var r=[String(s).split(".")[0],n].join(".");return e[r]?Nn(r,null==t?void 0:t.cssVarPrefix).reference:n}(o[1]);return"default"===u?(n[d]=l,n):(n[null!=(a=null==(i=In)?void 0:i[u])?a:u]=p({},d,l),n)}),{})),r[s]={value:v,var:d,varRef:v}},a=0,o=Object.entries(e);a<o.length;a++)i();return{cssVars:n,cssMap:r}}var Pn=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function Rn(e){return function(e,t){var n,r={},i=Xe(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a in e&&(r[a]=e[a])}}catch(o){i.e(o)}finally{i.f()}return r}(e,Pn)}function On(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return(nt(e)||Array.isArray(e))&&t?Object.entries(e).reduce((function(e,n){var r=c(n,2),i=r[0],a=r[1];return nt(a)||Array.isArray(a)?Object.entries(On(a,t-1)).forEach((function(t){var n=c(t,2),r=n[0],a=n[1];e["".concat(i,".").concat(r)]=a})):e[i]=a,e}),{}):e}function Mn(e){var t,n=function(e){return e.__cssMap,e.__cssVars,e.__breakpoints,y(e,st)}(e),r=Rn(n),i=function(e){return e.semanticTokens}(n),a=function(e){var t,n,r=e.tokens,i=e.semanticTokens,a=Object.entries(null!=(t=On(r))?t:{}).map((function(e){var t=c(e,2);return[t[0],{isSemantic:!1,value:t[1]}]})),o=Object.entries(null!=(n=On(i,1))?n:{}).map((function(e){var t=c(e,2);return[t[0],{isSemantic:!0,value:t[1]}]}));return Object.fromEntries([].concat(Ze(a),Ze(o)))}({tokens:r,semanticTokens:i}),o=Dn(a,{cssVarPrefix:null==(t=n.config)?void 0:t.cssVarPrefix}),s=o.cssMap,u=o.cssVars;return Object.assign(n,{__cssVars:m(m({},{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"}),u),__cssMap:s,__breakpoints:vn(n.breakpoints)}),n}var Ln=ot({},Ct,Tt,It,Dt,Ot,Nt,Ut,Rt,Pt,Vt,zt,At,qt,Qt,Kt,Wt,Ht,Mt,Gt),Fn=Object.assign({},qt,Ot,Dt,Pt,zt),jn=(Object.keys(Fn),[].concat(Ze(Object.keys(Ln)),An)),Bn=m(m({},Ln),In),Vn=function(e){return e in Bn},zn=function(e){return function(t){if(!t.__breakpoints)return e;var n=t.__breakpoints,r=n.isResponsive,i=n.toArrayValue,a=n.media,o={};for(var s in e){var u=rt(e[s],t);if(null!=u)if(u=nt(u)&&r(u)?i(u):u,Array.isArray(u))for(var c=u.slice(0,a.length).length,l=0;l<c;l+=1){var f=null==a?void 0:a[l];f?(o[f]=o[f]||{},null!=u[l]&&(o[f][s]=u[l])):o[s]=u[l]}else o[s]=u}return o}};var Un=function(e,t){return e.startsWith("--")&&"string"===typeof t&&!function(e){return/^var\(--.+\)$/.test(e)}(t)},qn=function(e,t){var n,r;if(null==t)return t;var i=function(t){var n,r;return null==(r=null==(n=e.__cssMap)?void 0:n[t])?void 0:r.varRef},a=function(e){var t;return null!=(t=i(e))?t:e},o=function(e){for(var t=[],n="",r=!1,i=0;i<e.length;i++){var a=e[i];"("===a?(r=!0,n+=a):")"===a?(r=!1,n+=a):","!==a||r?n+=a:(t.push(n),n="")}return(n=n.trim())&&t.push(n),t}(t),s=c(o,2),u=s[0],l=s[1];return t=null!=(r=null!=(n=i(u))?n:a(l))?r:a(t)};var Wn=function(e){return function(t){var n=function(e){var t=e.configs,n=void 0===t?{}:t,r=e.pseudos,i=void 0===r?{}:r,a=e.theme;return function e(t){var r,o,s,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=rt(t,a),l=zn(c)(a),f={};for(var h in l){var d=rt(l[h],a);h in i&&(h=i[h]),Un(h,d)&&(d=qn(a,d));var p=n[h];if(!0===p&&(p={property:h}),nt(d))f[h]=null!=(r=f[h])?r:{},f[h]=ot({},f[h],e(d,!0));else{var v=null!=(s=null==(o=null==p?void 0:p.transform)?void 0:o.call(p,d,a,c))?s:d;v=(null==p?void 0:p.processResult)?e(v,!0):v;var m=rt(null==p?void 0:p.property,a);if(!u&&(null==p?void 0:p.static)){var y=rt(p.static,a);f=ot({},f,y)}if(m&&Array.isArray(m)){var g,b=Xe(m);try{for(b.s();!(g=b.n()).done;)f[g.value]=v}catch(k){b.e(k)}finally{b.f()}}else m?"&"===m&&nt(v)?f=ot({},f,v):f[m]=v:nt(v)?f=ot({},f,v):f[h]=v}}return f}}({theme:t,pseudos:In,configs:Ln});return n(e)}};function Hn(e){return{definePartsStyle:function(e){return e},defineMultiStyleConfig:function(t){return m({parts:e},t)}}}function Gn(e){var t=e.__breakpoints;return function(e,n,r,i){var a,o;if(t){var s={},u=function(e,t){return Array.isArray(e)?e:nt(e)?t(e):null!=e?[e]:void 0}(r,t.toArrayValue);if(!u)return s;for(var c=u.length,l=1===c,f=!!e.parts,h=function(){var r=t.details[d],c=t.details[function(e,t){for(var n=t+1;n<e.length;n++)if(null!=e[n])return n;return-1}(u,d)],h=pn(r.minW,null==c?void 0:c._minW),v=rt(null==(a=e[n])?void 0:a[u[d]],i);return v?f?(null==(o=e.parts)||o.forEach((function(e){ot(s,p({},e,l?v[e]:p({},h,v[e])))})),"continue"):f?void(s[h]=v):(l?ot(s,v):s[h]=v,"continue"):"continue"},d=0;d<c;d++)h();return s}}}function Kn(e){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),i=Xe(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;a in r&&delete r[a]}}catch(o){i.e(o)}finally{i.f()}return r}(e,["styleConfig","size","variant","colorScheme"])}var Qn=function(e){var t=new WeakMap;return function(n,r,i,a){if("undefined"===typeof n)return e(n,r,i);t.has(n)||t.set(n,new Map);var o=t.get(n);if(o.has(r))return o.get(r);var s=e(n,r,i,a);return o.set(r,s),s}}((function(e,t,n,r){var i="string"===typeof t?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return void 0===e?n:e}));function Yn(e,t){var n={};return Object.keys(e).forEach((function(r){var i=e[r];t(i,r,e)&&(n[r]=i)})),n}var $n=function(e){return Yn(e,(function(e){return null!==e&&void 0!==e}))},Xn=n(77),Jn=["styleConfig"];function Zn(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.styleConfig,a=y(r,Jn),o=$e(),s=o.theme,u=o.colorMode,c=e?Qn(s,"components.".concat(e)):void 0,l=i||c,f=ot({theme:s,colorMode:u},null!=(n=null==l?void 0:l.defaultProps)?n:{},$n(function(e,t){var n={};return Object.keys(e).forEach((function(r){t.includes(r)||(n[r]=e[r])})),n}(a,["children"]))),h=(0,t.useRef)({});if(l){var d=function(e){return function(t){var n,r=t.variant,i=t.size,a=Gn(t.theme);return ot({},rt(null!=(n=e.baseStyle)?n:{},t),a(e,"sizes",i,t),a(e,"variants",r,t))}}(l),p=d(f);Xn(h.current,p)||(h.current=p)}return h.current}function er(e){return Zn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function tr(e){return Zn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var nr=new Set([].concat(Ze(jn),["textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),rr=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function ir(e){return rr.has(e)||!nr.has(e)}function ar(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e}var or=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var sr=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ur=function(e,t,n){sr(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},cr=Ae((function(e){return or.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),lr=function(e){return"theme"!==e},fr=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?cr:lr},hr=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},dr=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;sr(t,n,r);ze((function(){return ur(t,n,r)}));return null},pr=function e(n,r){var i,a,o=n.__emotion_real===n,s=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var u=hr(n,r,o),c=u||fr(s),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=We((function(e,n,r){var i=l&&e.as||s,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(He)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=Be(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===u?fr(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(dr,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=h,v.__emotion_forwardProp=u,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,n){return e(t,Ee({},r,n,{shouldForwardProp:hr(v,n,!0)})).apply(void 0,h)},v}},vr=pr.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){vr[e]=vr(e)}));var mr,yr=vr,gr=["theme","css","__css","sx"],br=["baseStyle"],kr=null!=(mr=yr.default)?mr:yr,wr=function(e){var t=e.baseStyle;return function(e){e.theme;var n=e.css,r=e.__css,i=e.sx,a=Yn(y(e,gr),(function(e,t){return Vn(t)})),o=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=m({},e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(null!=s)for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(u in t&&delete t[u],t[u]=s[u])}return t}({},r,ar(t,e),$n(a),i),s=Wn(o)(e.theme);return n?[s,n]:s}};function _r(e,n){var r=null!=n?n:{},i=r.baseStyle,a=y(r,br);a.shouldForwardProp||(a.shouldForwardProp=ir);var o=wr({baseStyle:i}),s=kr(e,a)(o),u=t.forwardRef((function(e,n){var r=Ye(),i=r.colorMode,a=r.forced;return t.createElement(s,m({ref:n,"data-theme":a?i:void 0},e))}));return u}var xr=function(){var e=new Map;return new Proxy(_r,{apply:function(e,t,n){return _r.apply(void 0,Ze(n))},get:function(t,n){return e.has(n)||e.set(n,_r(n)),e.get(n)}})}(),Sr=n(184),Er=["id","isRequired","isInvalid","isDisabled","isReadOnly"],Cr=["getRootProps","htmlProps"],Tr=c(g({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),2),Ir=Tr[0],Ar=Tr[1],Nr=c(g({strict:!1,name:"FormControlContext"}),2),Dr=Nr[0],Pr=Nr[1];var Rr=w((function(e,n){var r=tr("Form",e),i=function(e){var n=e.id,r=e.isRequired,i=e.isInvalid,a=e.isDisabled,o=e.isReadOnly,s=y(e,Er),u=(0,t.useId)(),l=n||"field-".concat(u),f="".concat(l,"-label"),h="".concat(l,"-feedback"),d="".concat(l,"-helptext"),p=c((0,t.useState)(!1),2),v=p[0],g=p[1],k=c((0,t.useState)(!1),2),w=k[0],_=k[1],x=c((0,t.useState)(!1),2),S=x[0],E=x[1],C=(0,t.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return m(m({id:d},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:b(e,(function(e){e&&_(!0)}))})}),[d]),T=(0,t.useCallback)((function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return m(m({},n),{},{ref:r,"data-focus":at(S),"data-disabled":at(a),"data-invalid":at(i),"data-readonly":at(o),id:null!=(e=n.id)?e:f,htmlFor:null!=(t=n.htmlFor)?t:l})}),[l,a,S,i,o,f]),I=(0,t.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return m(m({id:h},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:b(e,(function(e){e&&g(!0)})),"aria-live":"polite"})}),[h]),A=(0,t.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return m(m(m({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),s),{},{ref:e,role:"group"})}),[s]),N=(0,t.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return m(m({},e),{},{ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!r,isInvalid:!!i,isReadOnly:!!o,isDisabled:!!a,isFocused:!!S,onFocus:function(){return E(!0)},onBlur:function(){return E(!1)},hasFeedbackText:v,setHasFeedbackText:g,hasHelpText:w,setHasHelpText:_,id:l,labelId:f,feedbackId:h,helpTextId:d,htmlProps:s,getHelpTextProps:C,getErrorMessageProps:I,getRootProps:A,getLabelProps:T,getRequiredIndicatorProps:N}}(Kn(e)),a=i.getRootProps,o=(i.htmlProps,y(i,Cr)),s=tt("chakra-form-control",e.className);return(0,Sr.jsx)(Dr,{value:o,children:(0,Sr.jsx)(Ir,{value:r,children:(0,Sr.jsx)(xr.div,m(m({},a({},n)),{},{className:s,__css:r.container}))})})}));Rr.displayName="FormControl";var Or=w((function(e,t){var n=Pr(),r=Ar(),i=tt("chakra-form__helper-text",e.className);return(0,Sr.jsx)(xr.div,m(m({},null==n?void 0:n.getHelpTextProps(e,t)),{},{__css:r.helperText,className:i}))}));Or.displayName="FormHelperText";var Mr=["className","children","requiredIndicator","optionalIndicator"],Lr=w((function(e,t){var n,r=er("FormLabel",e),i=Kn(e),a=(i.className,i.children),o=i.requiredIndicator,s=void 0===o?(0,Sr.jsx)(Fr,{}):o,u=i.optionalIndicator,c=void 0===u?null:u,l=y(i,Mr),f=Pr(),h=null!=(n=null==f?void 0:f.getLabelProps(l,t))?n:m({ref:t},l);return(0,Sr.jsxs)(xr.label,m(m({},h),{},{className:tt("chakra-form__label",i.className),__css:m({display:"block",textAlign:"start"},r),children:[a,(null==f?void 0:f.isRequired)?s:c]}))}));Lr.displayName="FormLabel";var Fr=w((function(e,t){var n=Pr(),r=Ar();if(!(null==n?void 0:n.isRequired))return null;var i=tt("chakra-form__required-indicator",e.className);return(0,Sr.jsx)(xr.span,m(m({},null==n?void 0:n.getRequiredIndicatorProps(e,t)),{},{__css:r.requiredIndicator,className:i}))}));Fr.displayName="RequiredIndicator";var jr=c(g({strict:!1,name:"ButtonGroupContext"}),2),Br=(jr[0],jr[1]),Vr=["children","className"];function zr(e){var n=e.children,r=e.className,i=y(e,Vr),a=(0,t.isValidElement)(n)?(0,t.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,o=tt("chakra-button__icon",r);return(0,Sr.jsx)(xr.span,m(m({display:"inline-flex",alignSelf:"center",flexShrink:0},i),{},{className:o,children:a}))}zr.displayName="ButtonIcon";n(2110);var Ur=We((function(e,n){var r=e.styles,i=Be([r],void 0,(0,t.useContext)(He)),a=(0,t.useRef)();return Ue((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),Ue((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&ur(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function qr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Be(t)}var Wr=["label","thickness","speed","emptyColor","className"],Hr=function(){var e=qr.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Gr=w((function(e,t){var n=er("Spinner",e),r=Kn(e),i=r.label,a=void 0===i?"Loading...":i,o=r.thickness,s=void 0===o?"2px":o,u=r.speed,c=void 0===u?"0.45s":u,l=r.emptyColor,f=void 0===l?"transparent":l,h=r.className,d=y(r,Wr),p=tt("chakra-spinner",h),v=m({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:s,borderBottomColor:f,borderLeftColor:f,animation:"".concat(Hr," ").concat(c," linear infinite")},n);return(0,Sr.jsx)(xr.div,m(m({ref:t,__css:v,className:p},d),{},{children:a&&(0,Sr.jsx)(xr.span,{srOnly:!0,children:a})}))}));Gr.displayName="Spinner";var Kr=["label","placement","spacing","children","className","__css"];function Qr(e){var n=e.label,r=e.placement,i=e.spacing,a=void 0===i?"0.5rem":i,o=e.children,s=void 0===o?(0,Sr.jsx)(Gr,{color:"currentColor",width:"1em",height:"1em"}):o,u=e.className,c=e.__css,l=y(e,Kr),f=tt("chakra-button__spinner",u),h="start"===r?"marginEnd":"marginStart",d=(0,t.useMemo)((function(){var e;return m((p(e={display:"flex",alignItems:"center",position:n?"relative":"absolute"},h,n?a:0),p(e,"fontSize","1em"),p(e,"lineHeight","normal"),e),c)}),[c,n,h,a]);return(0,Sr.jsx)(xr.div,m(m({className:f},l),{},{__css:d,children:s}))}Qr.displayName="ButtonSpinner";var Yr=["isDisabled","isLoading","isActive","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],$r=w((function(e,n){var r=Br(),i=er("Button",m(m({},r),e)),a=Kn(e),o=a.isDisabled,s=void 0===o?null==r?void 0:r.isDisabled:o,u=a.isLoading,l=a.isActive,f=a.children,h=a.leftIcon,d=a.rightIcon,p=a.loadingText,v=a.iconSpacing,g=void 0===v?"0.5rem":v,b=a.type,w=a.spinner,_=a.spinnerPlacement,x=void 0===_?"start":_,S=a.className,E=a.as,C=y(a,Yr),T=(0,t.useMemo)((function(){var e=m(m({},null==i?void 0:i._focus),{},{zIndex:1});return m(m({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none"},i),!!r&&{_focus:e})}),[i,r]),I=function(e){var n=c((0,t.useState)(!e),2),r=n[0],i=n[1],a=(0,t.useCallback)((function(e){e&&i("BUTTON"===e.tagName)}),[]);return{ref:a,type:r?"button":void 0}}(E),A=I.ref,N=I.type,D={rightIcon:d,leftIcon:h,iconSpacing:g,children:f};return(0,Sr.jsxs)(xr.button,m(m({ref:k(n,A),as:E,type:null!=b?b:N,"data-active":at(l),"data-loading":at(u),__css:T,className:tt("chakra-button",S)},C),{},{disabled:s||u,children:[u&&"start"===x&&(0,Sr.jsx)(Qr,{className:"chakra-button__spinner--start",label:p,placement:"start",spacing:g,children:w}),u?p||(0,Sr.jsx)(xr.span,{opacity:0,children:(0,Sr.jsx)(Xr,m({},D))}):(0,Sr.jsx)(Xr,m({},D)),u&&"end"===x&&(0,Sr.jsx)(Qr,{className:"chakra-button__spinner--end",label:p,placement:"end",spacing:g,children:w})]}))}));function Xr(e){var t=e.leftIcon,n=e.rightIcon,r=e.children,i=e.iconSpacing;return(0,Sr.jsxs)(Sr.Fragment,{children:[t&&(0,Sr.jsx)(zr,{marginEnd:i,children:t}),r,n&&(0,Sr.jsx)(zr,{marginStart:i,children:n})]})}$r.displayName="Button";var Jr=n(7248),Zr=n(327),ei=n(4164);var ti=function(e){e()},ni=function(){return ti},ri=(0,t.createContext)(null);function ii(){return(0,t.useContext)(ri)}var ai=function(){throw new Error("uSES not initialized!")},oi=ai,si=function(e,t){return e===t};function ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,n=e===ri?ii:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=oi(o.addNestedSub,a.getState,s||a.getState,e,r);return(0,t.useDebugValue)(u),u}}var ci=ui();n(6900);var li={notify:function(){},get:function(){return[]}};function fi(e,t){var n,r=li;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=ni(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=li)},getListeners:function(){return r}};return o}var hi=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var di=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=fi(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);hi((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||ri;return t.createElement(u.Provider,{value:o},i)};function pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,n=e===ri?ii:function(){return(0,t.useContext)(e)};return function(){return n().store}}var vi=pi();function mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,t=e===ri?vi:pi(e);return function(){return t().dispatch}}var yi,gi=mi();!function(e){oi=e}(Zr.useSyncExternalStoreWithSelector),function(e){e}(Jr.useSyncExternalStore),yi=ei.unstable_batchedUpdates,ti=yi;var bi,ki=function(e){var t=e.lable,n=e.onClick;return(0,Sr.jsx)("div",{children:(0,Sr.jsx)($r,{colorScheme:"blue",zIndex:0,onClick:n,children:t})})};function wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function xi(e,t,n){return t&&_i(e.prototype,t),n&&_i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Si(e,t){return Si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Si(e,t)}function Ei(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Si(e,t)}function Ci(e){return Ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ci(e)}function Ti(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ii(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ai(e){var t=Ti();return function(){var n,r=Ci(e);if(t){var i=Ci(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ii(e)}(this,n)}}function Ni(e,t,n){return Ni=Ti()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Si(i,n.prototype),i},Ni.apply(null,arguments)}function Di(e){var t="function"===typeof Map?new Map:void 0;return Di=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ni(e,arguments,Ci(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Si(n,e)},Di(e)}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pi.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(bi||(bi={}));var Ri,Oi="popstate";function Mi(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Li(e,t){return{usr:e.state,key:e.key,idx:t}}function Fi(e,t,n,r){return void 0===n&&(n=null),Pi({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Bi(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ji(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Bi(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Vi(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=bi.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=bi.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:ji(e);return Mi(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(Pi({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Oi,p),f=e,function(){o.removeEventListener(Oi,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=bi.Push;var r=Fi(m.location,e,t);n&&n(r,e);var i=Li(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(s){o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=bi.Replace;var r=Fi(m.location,e,t);n&&n(r,e);var i=Li(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}function zi(e,t,n){void 0===n&&(n="/");var r=ta(("string"===typeof t?Bi(t):t).pathname||"/",n);if(null==r)return null;var i=Ui(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Ji(i[o],ea(r));return a}function Ui(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Mi(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=oa([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(Mi(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Ui(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Xi(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Xe(qi(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function qi(e){var t=e.split("/");if(0===t.length)return[];var n=et(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=qi(i.join("/")),u=[];return u.push.apply(u,Ze(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,Ze(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Ri||(Ri={}));var Wi=/^:\w+$/,Hi=3,Gi=2,Ki=1,Qi=10,Yi=-2,$i=function(e){return"*"===e};function Xi(e,t){var n=e.split("/"),r=n.length;return n.some($i)&&(r+=Yi),t&&(r+=Gi),n.filter((function(e){return!$i(e)})).reduce((function(e,t){return e+(Wi.test(t)?Hi:""===t?Ki:Qi)}),r)}function Ji(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Zi({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:oa([i,l.pathname]),pathnameBase:sa(oa([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=oa([i,l.pathnameBase]))}return a}function Zi(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);na("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return na(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function ea(e){try{return decodeURI(e)}catch(t){return na(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ta(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function na(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ra(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ia(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function aa(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Bi(e):(Mi(!(i=Pi({},e)).pathname||!i.pathname.includes("?"),ra("?","pathname","search",i)),Mi(!i.pathname||!i.pathname.includes("#"),ra("#","pathname","hash",i)),Mi(!i.search||!i.search.includes("#"),ra("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Bi(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ua(a),hash:ca(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var oa=function(e){return e.join("/").replace(/\/\/+/g,"/")},sa=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ua=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ca=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},la=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n)}(Di(Error));function fa(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ha=["post","put","patch","delete"],da=(new Set(ha),["get"].concat(ha));new Set(da),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa.apply(this,arguments)}var va="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ma=t.useState,ya=t.useEffect,ga=t.useLayoutEffect,ba=t.useDebugValue;function ka(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!va(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var wa=t.createContext(null);var _a=t.createContext(null);var xa=t.createContext(null);var Sa=t.createContext(null);var Ea=t.createContext(null);var Ca=t.createContext({outlet:null,matches:[]});var Ta=t.createContext(null);function Ia(){return null!=t.useContext(Ea)}function Aa(){return Ia()||Mi(!1),t.useContext(Ea).location}function Na(){Ia()||Mi(!1);var e=t.useContext(Sa),n=e.basename,r=e.navigator,i=t.useContext(Ca).matches,a=Aa().pathname,o=JSON.stringify(ia(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=aa(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:oa([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}var Da=t.createContext(null);function Pa(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(Ca).matches,a=Aa().pathname,o=JSON.stringify(ia(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return aa(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ra(){var e=function(){var e,n=t.useContext(Ta),r=Ba(Ma.UseRouteError),i=Va(Ma.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=fa(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Oa,Ma,La=function(e){Ei(r,e);var n=Ai(r);function r(e){var t;return wi(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return xi(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Ca.Provider,{value:this.props.routeContext},t.createElement(Ta.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Fa(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(wa);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Ca.Provider,{value:n},i)}function ja(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||Mi(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(Ra,null):null,l=n.concat(i.slice(0,s+1)),f=function(){return t.createElement(Fa,{match:o,routeContext:{outlet:e,matches:l}},u?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(La,{location:r.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Ba(e){var n=t.useContext(_a);return n||Mi(!1),n}function Va(e){var n=function(e){var n=t.useContext(Ca);return n||Mi(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Mi(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Oa||(Oa={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ma||(Ma={}));var za;function Ua(e){var n=e.to,r=e.replace,i=e.state,a=e.relative;Ia()||Mi(!1);var o=t.useContext(_a),s=Na();return t.useEffect((function(){o&&"idle"!==o.navigation.state||s(n,{replace:r,state:i,relative:a})})),null}function qa(e){return function(e){var n=t.useContext(Ca).outlet;return n?t.createElement(Da.Provider,{value:e},n):n}(e.context)}function Wa(e){Mi(!1)}function Ha(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?bi.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;Ia()&&Mi(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=Bi(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,k=void 0===b?"":b,w=p.state,_=void 0===w?null:w,x=p.key,S=void 0===x?"default":x,E=t.useMemo((function(){var e=ta(m,h);return null==e?null:{pathname:e,search:g,hash:k,state:_,key:S}}),[h,m,g,k,_,S]);return null==E?null:t.createElement(Sa.Provider,{value:d},t.createElement(Ea.Provider,{children:a,value:{location:E,navigationType:u}}))}function Ga(e){var n=e.children,r=e.location,i=t.useContext(wa);return function(e,n){Ia()||Mi(!1);var r,i=t.useContext(Sa).navigator,a=t.useContext(_a),o=t.useContext(Ca).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,Aa());if(n){var f,h="string"===typeof n?Bi(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||Mi(!1),r=h}else r=l;var d=r.pathname||"/",p=zi(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=ja(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:oa([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:oa([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(Ea.Provider,{value:{location:pa({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:bi.Pop}},v):v}(i&&!n?i.router.routes:Qa(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(za||(za={}));var Ka=new Promise((function(){}));t.Component;function Qa(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Wa&&Mi(!1),e.props.index&&e.props.children&&Mi(!1);var a=[].concat(Ze(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Qa(e.props.children,a)),r.push(o)}else r.push.apply(r,Qa(e.props.children,n))})),r}function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ya.apply(this,arguments)}function $a(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Xa=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ja(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),Vi((function(e,t){var n=e.location;return Fi("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:ji(t)}),null,n)));var s=o.current,u=c(t.useState({action:s.action,location:s.location}),2),l=u[0],f=u[1];return t.useLayoutEffect((function(){return s.listen(f)}),[s]),t.createElement(Ha,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var Za="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,eo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,to=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=$a(e,Xa),d=t.useContext(Sa).basename,p=!1;if("string"===typeof l&&eo.test(l)&&(r=l,Za)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=ta(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(e,n){var r=(void 0===n?{}:n).relative;Ia()||Mi(!1);var i=t.useContext(Sa),a=i.basename,o=i.navigator,s=Pa(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:oa([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),b=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=Na(),l=Aa(),f=Pa(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:ji(l)===ji(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return t.createElement("a",Ya({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:c}))}));var no,ro;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(no||(no={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ro||(ro={}));function io(){io=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function d(){}function p(){}function v(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=v.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==h(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ao(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function oo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ao(a,r,i,o,s,"next",e)}function s(e){ao(a,r,i,o,s,"throw",e)}o(void 0)}))}}var so={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},uo=function(e,t){if(!e)throw co(t)},co=function(e){return new Error("Firebase Database ("+so.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},lo=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lo(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new ho;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ho=function(e){Ei(n,e);var t=Ai(n);function n(){var e;return wi(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return xi(n)}(Di(Error)),po=function(e){var t=lo(e);return fo.encodeByteArray(t,!0)},vo=function(e){return po(e).replace(/\./g,"")},mo=function(e){try{return fo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&go(n)&&(e[n]=yo(e[n],t[n]));return e}function go(e){return"__proto__"!==e}var bo=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ko=function(){try{return bo()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/e-commerce-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&mo(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},wo=function(){var e;return null===(e=ko())||void 0===e?void 0:e.config},_o=function(){function e(){var t=this;wi(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return xi(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function xo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function So(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xo())}function Eo(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Co(){return!0===so.NODE_CLIENT||!0===so.NODE_ADMIN}function To(){return!function(){var e,t=null===(e=ko())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Io(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Ao(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}function No(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var Do="FirebaseError",Po=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i){var a;return wi(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=Do,Object.setPrototypeOf(Ii(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ii(a),Ro.prototype.create),a}return xi(n)}(Di(Error)),Ro=function(){function e(t,n,r){wi(this,e),this.service=t,this.serviceName=n,this.errors=r}return xi(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Oo,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Po(n,a,t)}}]),e}();var Oo=/\{\$([^}]+)}/g;function Mo(e){return JSON.parse(e)}function Lo(e){return JSON.stringify(e)}var Fo=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Mo(mo(a[0])||""),n=Mo(mo(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function jo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bo(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Vo(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zo(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Uo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(qo(s)&&qo(u)){if(!Uo(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function qo(e){return null!==e&&"object"===typeof e}var Wo=function(){function e(){wi(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return xi(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Ho(e,t){var n=new Go(e,t);return n.subscribe.bind(n)}var Go=function(){function e(t,n){var r=this;wi(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return xi(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Xe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ko),void 0===r.error&&(r.error=Ko),void 0===r.complete&&(r.complete=Ko);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ko(){}function Qo(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Yo=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},$o=1e3,Xo=2,Jo=144e5,Zo=.5;function es(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xo,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:$o)*Math.pow(t,e),r=Math.round(Zo*n*(Math.random()-.5)*2);return Math.min(Jo,n+r)}function ts(e){return e&&e._delegate?e._delegate:e}var ns=function(){function e(t,n,r){wi(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return xi(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),rs="[DEFAULT]",is=function(){function e(t,n){wi(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return xi(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new _o;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch(u){}var t,n=Xe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rs;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=oo(io().mark((function e(){var t;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ze(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ze(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rs;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rs;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Xe(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Xe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(mr){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:as(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(mr){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rs;return this.component?this.component.multipleInstances?e:rs:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function as(e){return e===rs?void 0:e}var os,ss,us=function(){function e(t){wi(this,e),this.name=t,this.providers=new Map}return xi(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new is(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),cs=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ss||(ss={}));var ls={debug:ss.DEBUG,verbose:ss.VERBOSE,info:ss.INFO,warn:ss.WARN,error:ss.ERROR,silent:ss.SILENT},fs=ss.INFO,hs=(p(os={},ss.DEBUG,"log"),p(os,ss.VERBOSE,"log"),p(os,ss.INFO,"info"),p(os,ss.WARN,"warn"),p(os,ss.ERROR,"error"),os),ds=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=hs[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ps=function(){function e(t){wi(this,e),this.name=t,this._logLevel=fs,this._logHandler=ds,this._userLogHandler=null,cs.push(this)}return xi(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ss))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ls[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ss.DEBUG].concat(t)),this._logHandler.apply(this,[this,ss.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ss.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ss.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ss.INFO].concat(t)),this._logHandler.apply(this,[this,ss.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ss.WARN].concat(t)),this._logHandler.apply(this,[this,ss.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ss.ERROR].concat(t)),this._logHandler.apply(this,[this,ss.ERROR].concat(t))}}]),e}();var vs,ms,ys=function(e,t){return t.some((function(t){return e instanceof t}))};var gs=new WeakMap,bs=new WeakMap,ks=new WeakMap,ws=new WeakMap,_s=new WeakMap;var xs={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ks.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ss(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ms||(ms=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ts(this),n),Cs(gs.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Cs(e.apply(Ts(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ts(this),t].concat(r));return ks.set(a,t.sort?t.sort():[t]),Cs(a)}}function Es(e){return"function"===typeof e?Ss(e):(e instanceof IDBTransaction&&function(e){if(!bs.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));bs.set(e,t)}}(e),ys(e,vs||(vs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xs):e)}function Cs(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Cs(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&gs.set(t,e)})).catch((function(){})),_s.set(t,e),t}(e);if(ws.has(e))return ws.get(e);var t=Es(e);return t!==e&&(ws.set(e,t),_s.set(t,e)),t}var Ts=function(e){return _s.get(e)};var Is,As,Ns=["get","getKey","getAll","getAllKeys","count"],Ds=["put","add","delete","clear"],Ps=new Map;function Rs(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ps.get(t))return Ps.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ds.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ns.includes(n))){var a=function(){var e=oo(io().mark((function e(t){var a,o,s,u,c,l,f=arguments;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ps.set(t,a),a}}}xs=function(e){return m(m({},e),{},{get:function(t,n,r){return Rs(t,n)||e.get(t,n,r)},has:function(t,n){return!!Rs(t,n)||e.has(t,n)}})}(xs);var Os=function(){function e(t){wi(this,e),this.container=t}return xi(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ms="@firebase/app",Ls="0.9.4",Fs=new ps("@firebase/app"),js="[DEFAULT]",Bs=(p(Is={},Ms,"fire-core"),p(Is,"@firebase/app-compat","fire-core-compat"),p(Is,"@firebase/analytics","fire-analytics"),p(Is,"@firebase/analytics-compat","fire-analytics-compat"),p(Is,"@firebase/app-check","fire-app-check"),p(Is,"@firebase/app-check-compat","fire-app-check-compat"),p(Is,"@firebase/auth","fire-auth"),p(Is,"@firebase/auth-compat","fire-auth-compat"),p(Is,"@firebase/database","fire-rtdb"),p(Is,"@firebase/database-compat","fire-rtdb-compat"),p(Is,"@firebase/functions","fire-fn"),p(Is,"@firebase/functions-compat","fire-fn-compat"),p(Is,"@firebase/installations","fire-iid"),p(Is,"@firebase/installations-compat","fire-iid-compat"),p(Is,"@firebase/messaging","fire-fcm"),p(Is,"@firebase/messaging-compat","fire-fcm-compat"),p(Is,"@firebase/performance","fire-perf"),p(Is,"@firebase/performance-compat","fire-perf-compat"),p(Is,"@firebase/remote-config","fire-rc"),p(Is,"@firebase/remote-config-compat","fire-rc-compat"),p(Is,"@firebase/storage","fire-gcs"),p(Is,"@firebase/storage-compat","fire-gcs-compat"),p(Is,"@firebase/firestore","fire-fst"),p(Is,"@firebase/firestore-compat","fire-fst-compat"),p(Is,"fire-js","fire-js"),p(Is,"firebase","fire-js-all"),Is),Vs=new Map,zs=new Map;function Us(e,t){try{e.container.addComponent(t)}catch(n){Fs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qs(e,t){e.container.addOrOverwriteComponent(t)}function Ws(e){var t=e.name;if(zs.has(t))return Fs.debug("There were multiple attempts to register component ".concat(t,".")),!1;zs.set(t,e);var n,r=Xe(Vs.values());try{for(r.s();!(n=r.n()).done;){Us(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Hs(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:js;Hs(e,t).clearInstance(n)}function Ks(){zs.clear()}var Qs=(p(As={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),p(As,"bad-app-name","Illegal App name: '{$appName}"),p(As,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),p(As,"app-deleted","Firebase App named '{$appName}' already deleted"),p(As,"no-options","Need to provide options, when not being deployed to hosting via source."),p(As,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),p(As,"invalid-log-argument","First argument to `onLog` must be null or a function."),p(As,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),p(As,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),p(As,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),p(As,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),As),Ys=new Ro("app","Firebase",Qs),$s=function(){function e(t,n,r){var i=this;wi(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",(function(){return i}),"PUBLIC"))}return xi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}]),e}(),Xs="9.17.2";function Js(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:js,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=wo()),!n)throw Ys.create("no-options");var a=Vs.get(i);if(a){if(Uo(n,a.options)&&Uo(r,a.config))return a;throw Ys.create("duplicate-app",{appName:i})}var o,s=new us(i),u=Xe(zs.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new $s(n,r,s);return Vs.set(i,l),l}function Zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:js,t=Vs.get(e);if(!t&&e===js)return Js();if(!t)throw Ys.create("no-app",{appName:e});return t}function eu(){return Array.from(Vs.values())}function tu(e){return nu.apply(this,arguments)}function nu(){return(nu=oo(io().mark((function e(t){var n;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Vs.has(n)){e.next=6;break}return Vs.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(e,t,n){var r,i=null!==(r=Bs[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fs.warn(s.join(" "))}Ws(new ns("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function iu(e,t){if(null!==e&&"function"!==typeof e)throw Ys.create("invalid-log-argument");!function(e,t){var n,r=Xe(cs);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ls[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ss[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function au(e){var t;t=e,cs.forEach((function(e){e.setLogLevel(t)}))}var ou="firebase-heartbeat-database",su=1,uu="firebase-heartbeat-store",cu=null;function lu(){return cu||(cu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Cs(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Cs(s.result),e.oldVersion,e.newVersion,Cs(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(ou,su,{upgrade:function(e,t){if(0===t)e.createObjectStore(uu)}}).catch((function(e){throw Ys.create("idb-open",{originalErrorMessage:e.message})}))),cu}function fu(e){return hu.apply(this,arguments)}function hu(){return hu=oo(io().mark((function e(t){var n,r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lu();case 3:return n=e.sent,e.abrupt("return",n.transaction(uu).objectStore(uu).get(vu(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Po?Fs.warn(e.t0.message):(r=Ys.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Fs.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),hu.apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return pu=oo(io().mark((function e(t,n){var r,i,a,o;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lu();case 3:return r=e.sent,i=r.transaction(uu,"readwrite"),a=i.objectStore(uu),e.next=8,a.put(n,vu(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Po?Fs.warn(e.t0.message):(o=Ys.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Fs.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),pu.apply(this,arguments)}function vu(e){return"".concat(e.name,"!").concat(e.options.appId)}var mu=1024,yu=function(){function e(t){var n=this;wi(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new _u(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return xi(e,[{key:"triggerHeartbeat",value:function(){var e=oo(io().mark((function e(){var t,n,r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=gu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=oo(io().mark((function e(){var t,n,r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=gu(),n=bu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=vo(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gu(){return(new Date).toISOString().substring(0,10)}function bu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mu,r=[],i=e.slice(),a=Xe(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),xu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),xu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ku,wu,_u=function(){function e(t){wi(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return xi(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Ao().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=oo(io().mark((function e(){var t;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,fu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=oo(io().mark((function e(t){var n,r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",du(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=oo(io().mark((function e(t){var n,r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",du(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ze(r.heartbeats),Ze(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function xu(e){return vo(JSON.stringify({version:2,heartbeats:e})).length}ku="",Ws(new ns("platform-logger",(function(e){return new Os(e)}),"PRIVATE")),Ws(new ns("heartbeat",(function(e){return new yu(e)}),"PRIVATE")),ru(Ms,Ls,ku),ru(Ms,Ls,"esm2017"),ru("fire-js","");var Su=function(){function e(t,n){var r=this;wi(this,e),this._delegate=t,this.firebase=n,Us(t,new ns("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return xi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),tu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:js;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:js;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Us(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){qs(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Eu=(p(wu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),p(wu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),wu),Cu=new Ro("app-compat","Firebase",Eu);var Tu=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Js(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(jo(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ru,setLogLevel:au,onLog:iu,apps:null,SDK_VERSION:Xs,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ws(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Cu.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&yo(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!jo(n,e=e||js))throw Cu.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Su);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){yo(n,e)},createSubscribe:Ho,ErrorFactory:Ro,deepExtend:yo}),n}(),Iu=new ps("@firebase/app-compat"),Au="@firebase/app-compat",Nu="0.2.4";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Iu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Du=self.firebase.SDK_VERSION;Du&&Du.indexOf("LITE")>=0&&Iu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Pu=Tu;!function(e){ru(Au,Nu,e)}();function Ru(){return Ru="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ci(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ru.apply(this,arguments)}Pu.registerVersion("firebase","9.17.2","app-compat");var Ou,Mu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Lu={},Fu=Fu||{},ju=Mu||self;function Bu(){}function Vu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function zu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Uu="closure_uid_"+(1e9*Math.random()>>>0),qu=0;function Wu(e,t,n){return e.call.apply(e.bind,arguments)}function Hu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Gu(e,t,n){return(Gu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wu:Hu).apply(null,arguments)}function Ku(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qu(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Yu(){this.s=this.s,this.o=this.o}Yu.prototype.s=!1,Yu.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Uu)&&e[Uu]||(e[Uu]=++qu))},Yu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $u=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ju(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Vu(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Zu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zu.prototype.h=function(){this.defaultPrevented=!0};var ec=function(){if(!ju.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ju.addEventListener("test",Bu,t),ju.removeEventListener("test",Bu,t)}catch(n){}return e}();function tc(e){return/^[\s\xa0]*$/.test(e)}var nc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function rc(e,t){return e<t?-1:e>t?1:0}function ic(){var e=ju.navigator;return e&&(e=e.userAgent)?e:""}function ac(e){return-1!=ic().indexOf(e)}function oc(e){return oc[" "](e),e}oc[" "]=Bu;var sc,uc=ac("Opera"),cc=ac("Trident")||ac("MSIE"),lc=ac("Edge"),fc=lc||cc,hc=ac("Gecko")&&!(-1!=ic().toLowerCase().indexOf("webkit")&&!ac("Edge"))&&!(ac("Trident")||ac("MSIE"))&&!ac("Edge"),dc=-1!=ic().toLowerCase().indexOf("webkit")&&!ac("Edge");function pc(){var e=ju.document;return e?e.documentMode:void 0}e:{var vc="",mc=function(){var e=ic();return hc?/rv:([^\);]+)(\)|;)/.exec(e):lc?/Edge\/([\d\.]+)/.exec(e):cc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):dc?/WebKit\/(\S+)/.exec(e):uc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(mc&&(vc=mc?mc[1]:""),cc){var yc=pc();if(null!=yc&&yc>parseFloat(vc)){sc=String(yc);break e}}sc=vc}var gc,bc={};function kc(){return function(e){var t=bc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=nc(String(sc)).split("."),n=nc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=rc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||rc(0==a[2].length,0==o[2].length)||rc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ju.document&&cc){var wc=pc();gc=wc||(parseInt(sc,10)||void 0)}else gc=void 0;var _c=gc;function xc(e,t){if(Zu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(hc){e:{try{oc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Sc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xc.X.h.call(this)}}Qu(xc,Zu);var Sc={2:"touch",3:"pen",4:"mouse"};xc.prototype.h=function(){xc.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ec="closure_listenable_"+(1e6*Math.random()|0),Cc=0;function Tc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Cc,this.ba=this.ea=!1}function Ic(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Ac(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Nc(e){var t={};for(var n in e)t[n]=e[n];return t}var Dc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Dc.length;a++)n=Dc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Rc(e){this.src=e,this.g={},this.h=0}function Oc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=$u(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ic(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Mc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Rc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Mc(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Tc(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Lc="closure_lm_"+(1e6*Math.random()|0),Fc={};function jc(e,t,n,r,i){if(r&&r.once)return Vc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)jc(e,t[a],n,r,i);return null}return n=Kc(n),e&&e[Ec]?e.N(t,n,zu(r)?!!r.capture:!!r,i):Bc(e,t,n,!1,r,i)}function Bc(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=zu(i)?!!i.capture:!!i,s=Hc(e);if(s||(e[Lc]=s=new Rc(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Wc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ec||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Vc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Vc(e,t[a],n,r,i);return null}return n=Kc(n),e&&e[Ec]?e.O(t,n,zu(r)?!!r.capture:!!r,i):Bc(e,t,n,!0,r,i)}function zc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)zc(e,t[a],n,r,i);else r=zu(r)?!!r.capture:!!r,n=Kc(n),e&&e[Ec]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Mc(a=e.g[t],n,r,i))&&(Ic(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Hc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Mc(t,n,r,i)),(n=-1<e?t[e]:null)&&Uc(n))}function Uc(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Ec])Oc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hc(t))?(Oc(n,e),0==n.h&&(n.src=null,t[Lc]=null)):Ic(e)}}}function qc(e){return e in Fc?Fc[e]:Fc[e]="on"+e}function Wc(e,t){if(e.ba)e=!0;else{t=new xc(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Uc(e),e=n.call(r,t)}return e}function Hc(e){return(e=e[Lc])instanceof Rc?e:null}var Gc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kc(e){return"function"===typeof e?e:(e[Gc]||(e[Gc]=function(t){return e.handleEvent(t)}),e[Gc])}function Qc(){Yu.call(this),this.i=new Rc(this),this.P=this,this.I=null}function Yc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Zu(t,e);else if(t instanceof Zu)t.target=t.target||e;else{var i=t;Pc(t=new Zu(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=$c(o,r,!0,t)&&i}if(i=$c(o=t.g=e,r,!0,t)&&i,i=$c(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=$c(o=t.g=n[a],r,!1,t)&&i}function $c(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Oc(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Qu(Qc,Yu),Qc.prototype[Ec]=!0,Qc.prototype.removeEventListener=function(e,t,n,r){zc(this,e,t,n,r)},Qc.prototype.M=function(){if(Qc.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ic(n[r]);delete t.g[e],t.h--}}this.I=null},Qc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xc=ju.JSON.stringify;function Jc(){var e=ol,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zc,el=function(){function e(){wi(this,e),this.h=this.g=null}return xi(e,[{key:"add",value:function(e,t){var n=tl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),tl=new(function(){function e(t,n){wi(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return xi(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new nl}),(function(e){return e.reset()})),nl=function(){function e(){wi(this,e),this.next=this.g=this.h=null}return xi(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function rl(e){ju.setTimeout((function(){throw e}),0)}function il(e,t){Zc||function(){var e=ju.Promise.resolve(void 0);Zc=function(){e.then(sl)}}(),al||(Zc(),al=!0),ol.add(e,t)}var al=!1,ol=new el;function sl(){for(var e;e=Jc();){try{e.h.call(e.g)}catch(n){rl(n)}var t=tl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}al=!1}function ul(e,t){Qc.call(this),this.h=e||1,this.g=t||ju,this.j=Gu(this.lb,this),this.l=Date.now()}function cl(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function ll(e,t,n){if("function"===typeof e)n&&(e=Gu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Gu(e.handleEvent,e)}return 2147483647<Number(t)?-1:ju.setTimeout(e,t||0)}function fl(e){e.g=ll((function(){e.g=null,e.i&&(e.i=!1,fl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Qu(ul,Qc),(Ou=ul.prototype).ca=!1,Ou.R=null,Ou.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Yc(this,"tick"),this.ca&&(cl(this),this.start()))}},Ou.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ou.M=function(){ul.X.M.call(this),cl(this),delete this.g};var hl=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return xi(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:fl(this)}},{key:"M",value:function(){Ru(Ci(n.prototype),"M",this).call(this),this.g&&(ju.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Yu);function dl(e){Yu.call(this),this.h=e,this.g={}}Qu(dl,Yu);var pl=[];function vl(e,t,n,r){Array.isArray(n)||(n&&(pl[0]=n.toString()),n=pl);for(var i=0;i<n.length;i++){var a=jc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ml(e){Ac(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Uc(e)}),e),e.g={}}function yl(){this.g=!0}function gl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Xc(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}dl.prototype.M=function(){dl.X.M.call(this),ml(this)},dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yl.prototype.Aa=function(){this.g=!1},yl.prototype.info=function(){};var bl={},kl=null;function wl(){return kl=kl||new Qc}function _l(e){Zu.call(this,bl.Pa,e)}function xl(e){var t=wl();Yc(t,new _l(t))}function Sl(e,t){Zu.call(this,bl.STAT_EVENT,e),this.stat=t}function El(e){var t=wl();Yc(t,new Sl(t,e))}function Cl(e,t){Zu.call(this,bl.Qa,e),this.size=t}function Tl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ju.setTimeout((function(){e()}),t)}bl.Pa="serverreachability",Qu(_l,Zu),bl.STAT_EVENT="statevent",Qu(Sl,Zu),bl.Qa="timingevent",Qu(Cl,Zu);var Il={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Al={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Nl(){}function Dl(e){return e.h||(e.h=e.i())}function Pl(){}Nl.prototype.h=null;var Rl,Ol={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ml(){Zu.call(this,"d")}function Ll(){Zu.call(this,"c")}function Fl(){}function jl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new dl(this),this.O=Vl,e=fc?125:void 0,this.T=new ul(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Bl}function Bl(){this.i=null,this.g="",this.h=!1}Qu(Ml,Zu),Qu(Ll,Zu),Qu(Fl,Nl),Fl.prototype.g=function(){return new XMLHttpRequest},Fl.prototype.i=function(){return{}},Rl=new Fl;var Vl=45e3,zl={},Ul={};function ql(e,t,n){e.K=1,e.v=cf(rf(t)),e.s=n,e.P=!0,Wl(e,null)}function Wl(e,t){e.F=Date.now(),Ql(e),e.A=rf(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),_f(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Bl,e.g=xh(e.l,n?t:null,!e.s),0<e.N&&(e.L=new hl(Gu(e.La,e,e.g),e.N)),vl(e.S,e.g,"readystatechange",e.ib),t=e.H?Nc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),xl(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Hl(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Gl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Kl(e,n))==Ul){4==t&&(e.o=4,El(14),i=!1),gl(e.j,e.m,null,"[Incomplete Response]");break}if(r==zl){e.o=4,El(15),gl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gl(e.j,e.m,r,null),Zl(e,r)}Hl(e)&&r!=Ul&&r!=zl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,El(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),vh(t),t.K=!0,El(11))):(gl(e.j,e.m,n,"[Invalid Chunked Response]"),Jl(e),Xl(e))}function Kl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ul:(n=Number(t.substring(n,r)),isNaN(n)?zl:(r+=1)+n>t.length?Ul:(t=t.substr(r,n),e.C=r+n,t))}function Ql(e){e.V=Date.now()+e.O,Yl(e,e.O)}function Yl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Tl(Gu(e.gb,e),t)}function $l(e){e.B&&(ju.clearTimeout(e.B),e.B=null)}function Xl(e){0==e.l.G||e.I||gh(e.l,e)}function Jl(e){$l(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,cl(e.T),ml(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Zl(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Nf(n.h,e)))if(!e.J&&Nf(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yh(n),sh(n)}ph(n),El(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Tl(Gu(n.cb,n),6e3));if(1>=Af(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else kh(n,11)}else if((e.J||n.g==e)&&yh(n),!tc(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Df(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,uf(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=_h(r,r.H?r.ka:null,r.V),d.J){Pf(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&($l(p),Ql(p)),r.g=d}else dh(r);0<n.i.length&&ch(n)}else"stop"!=a[0]&&"close"!=a[0]||kh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?kh(n,7):oh(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}xl()}catch(a){}}function ef(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Vu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Vu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Vu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ou=jl.prototype).setTimeout=function(e){this.O=e},Ou.ib=function(e){e=e.target;var t=this.L;t&&3==eh(e)?t.l():this.La(e)},Ou.La=function(e){try{if(e==this.g)e:{var t=eh(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||fc||this.g&&(this.h.h||this.g.fa()||th(this.g)))){this.I||4!=t||7==n||xl(),$l(this);var r=this.g.aa();this.Y=r;t:if(Hl(this)){var i=th(this.g);e="";var a=i.length,o=4==eh(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Jl(this),Xl(this);var s="";break t}this.h.i=new ju.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tc(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,El(12),Jl(this),Xl(this);break e}gl(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zl(this,r)}this.P?(Gl(this,t,s),fc&&this.i&&3==t&&(vl(this.S,this.T,"tick",this.hb),this.T.start())):(gl(this.j,this.m,s,null),Zl(this,s)),4==t&&Jl(this),this.i&&!this.I&&(4==t?gh(this.l,this):(this.i=!1,Ql(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,El(12)):(this.o=0,El(13)),Jl(this),Xl(this)}}}catch(t){}},Ou.hb=function(){if(this.g){var e=eh(this.g),t=this.g.fa();this.C<t.length&&($l(this),Gl(this,e,t),this.i&&4!=e&&Ql(this))}},Ou.cancel=function(){this.I=!0,Jl(this)},Ou.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(xl(),El(17)),Jl(this),this.o=2,Xl(this)):Yl(this,this.V-e)};var tf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nf(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof nf){this.h=void 0!==t?t:e.h,af(this,e.j),this.s=e.s,this.g=e.g,of(this,e.m),this.l=e.l,t=e.i;var n=new gf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sf(this,n),this.o=e.o}else e&&(n=String(e).match(tf))?(this.h=!!t,af(this,n[1]||"",!0),this.s=lf(n[2]||""),this.g=lf(n[3]||"",!0),of(this,n[4]),this.l=lf(n[5]||"",!0),sf(this,n[6]||"",!0),this.o=lf(n[7]||"")):(this.h=!!t,this.i=new gf(null,this.h))}function rf(e){return new nf(e)}function af(e,t,n){e.j=n?lf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function of(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sf(e,t,n){t instanceof gf?(e.i=t,function(e,t){t&&!e.j&&(bf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kf(this,t),_f(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ff(t,mf)),e.i=new gf(t,e.h))}function uf(e,t,n){e.i.set(t,n)}function cf(e){return uf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function lf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ff(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,hf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ff(t,df,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ff(t,df,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ff(n,"/"==n.charAt(0)?vf:pf,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ff(n,yf)),e.join("")};var df=/[#\/\?@]/g,pf=/[#\?:]/g,vf=/[#\?]/g,mf=/[#\?@]/g,yf=/#/g;function gf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bf(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kf(e,t){bf(e),t=xf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wf(e,t){return bf(e),t=xf(e,t),e.g.has(t)}function _f(e,t,n){kf(e,t),0<n.length&&(e.i=null,e.g.set(xf(e,t),Xu(n)),e.h+=n.length)}function xf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ou=gf.prototype).add=function(e,t){bf(this),this.i=null,e=xf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ou.forEach=function(e,t){bf(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ou.oa=function(){bf(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ou.W=function(e){bf(this);var t=[];if("string"===typeof e)wf(this,e)&&(t=t.concat(this.g.get(xf(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ou.set=function(e,t){return bf(this),this.i=null,wf(this,e=xf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ou.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Ou.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Sf=xi((function e(t,n){wi(this,e),this.h=t,this.g=n}));function Ef(e){this.l=e||Tf,ju.PerformanceNavigationTiming?e=0<(e=ju.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ju.g&&ju.g.Ga&&ju.g.Ga()&&ju.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cf,Tf=10;function If(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Af(e){return e.h?1:e.g?e.g.size:0}function Nf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Df(e,t){e.g?e.g.add(t):e.h=t}function Pf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Rf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Xe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Xu(e.i)}function Of(){}function Mf(){this.g=new Of}function Lf(e,t,n){var r=n||"";try{ef(e,(function(e,n){var i=e;zu(e)&&(i=Xc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ff(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function jf(e){this.l=e.ac||null,this.j=e.jb||!1}function Bf(e,t){Qc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Vf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ef.prototype.cancel=function(){if(this.i=Rf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Xe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Of.prototype.stringify=function(e){return ju.JSON.stringify(e,void 0)},Of.prototype.parse=function(e){return ju.JSON.parse(e,void 0)},Qu(jf,Nl),jf.prototype.g=function(){return new Bf(this.l,this.j)},jf.prototype.i=(Cf={},function(){return Cf}),Qu(Bf,Qc);var Vf=0;function zf(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Uf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qf(e)}function qf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ou=Bf.prototype).open=function(e,t){if(this.readyState!=Vf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qf(this)},Ou.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ju).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Ou.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uf(this)),this.readyState=Vf},Ou.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qf(this)),this.g&&(this.readyState=3,qf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof ju.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zf(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Ou.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Uf(this):qf(this),3==this.readyState&&zf(this)}},Ou.Va=function(e){this.g&&(this.response=this.responseText=e,Uf(this))},Ou.Ua=function(e){this.g&&(this.response=e,Uf(this))},Ou.ga=function(){this.g&&Uf(this)},Ou.setRequestHeader=function(e,t){this.v.append(e,t)},Ou.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ou.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Wf=ju.JSON.parse;function Hf(e){Qc.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gf,this.K=this.L=!1}Qu(Hf,Qc);var Gf="",Kf=/^https?$/i,Qf=["POST","PUT"];function Yf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$f(e),Jf(e)}function $f(e){e.D||(e.D=!0,Yc(e,"complete"),Yc(e,"error"))}function Xf(e){if(e.h&&"undefined"!=typeof Fu&&(!e.C[1]||4!=eh(e)||2!=e.aa()))if(e.v&&4==eh(e))ll(e.Ha,0,e);else if(Yc(e,"readystatechange"),4==eh(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(tf)[1]||null;if(!a&&ju.self&&ju.self.location){var o=ju.self.location.protocol;a=o.substr(0,o.length-1)}i=!Kf.test(a?a.toLowerCase():"")}t=i}if(t)Yc(e,"complete"),Yc(e,"success");else{e.m=6;try{var s=2<eh(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",$f(e)}}finally{Jf(e)}}}function Jf(e,t){if(e.g){Zf(e);var n=e.g,r=e.C[0]?Bu:null;e.g=null,e.C=null,t||Yc(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Zf(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ju.clearTimeout(e.A),e.A=null)}function eh(e){return e.g?e.g.readyState:0}function th(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Gf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Bh){return null}}function nh(e){var t="";return Ac(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function rh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nh(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):uf(e,t,n))}function ih(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ah(e){this.Ca=0,this.i=[],this.j=new yl,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ih("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ih("baseRetryDelayMs",5e3,e),this.bb=ih("retryDelaySeedMs",1e4,e),this.$a=ih("forwardChannelMaxRetries",2,e),this.ta=ih("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Ef(e&&e.concurrentRequestLimit),this.Fa=new Mf,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function oh(e){if(uh(e),3==e.G){var t=e.U++,n=rf(e.F);uf(n,"SID",e.I),uf(n,"RID",t),uf(n,"TYPE","terminate"),fh(e,n),(t=new jl(e,e.j,t,void 0)).K=2,t.v=cf(rf(n)),n=!1,ju.navigator&&ju.navigator.sendBeacon&&(n=ju.navigator.sendBeacon(t.v.toString(),"")),!n&&ju.Image&&((new Image).src=t.v,n=!0),n||(t.g=xh(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ql(t)}wh(e)}function sh(e){e.g&&(vh(e),e.g.cancel(),e.g=null)}function uh(e){sh(e),e.u&&(ju.clearTimeout(e.u),e.u=null),yh(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ju.clearTimeout(e.m),e.m=null)}function ch(e){If(e.h)||e.m||(e.m=!0,il(e.Ja,e),e.C=0)}function lh(e,t){var n;n=t?t.m:e.U++;var r=rf(e.F);uf(r,"SID",e.I),uf(r,"RID",n),uf(r,"AID",e.T),fh(e,r),e.o&&e.s&&rh(r,e.o,e.s),n=new jl(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=hh(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Df(e.h,n),ql(n,r,t)}function fh(e,t){e.ia&&Ac(e.ia,(function(e,n){uf(t,n,e)})),e.l&&ef({},(function(e,n){uf(t,n,e)}))}function hh(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Gu(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Lf(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function dh(e){e.g||e.u||(e.Z=1,il(e.Ia,e),e.A=0)}function ph(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Tl(Gu(e.Ia,e),bh(e,e.A)),e.A++,!0)}function vh(e){null!=e.B&&(ju.clearTimeout(e.B),e.B=null)}function mh(e){e.g=new jl(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=rf(e.sa);uf(t,"RID","rpc"),uf(t,"SID",e.I),uf(t,"CI",e.L?"0":"1"),uf(t,"AID",e.T),uf(t,"TYPE","xmlhttp"),fh(e,t),e.o&&e.s&&rh(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=cf(rf(t)),n.s=null,n.P=!0,Wl(n,e)}function yh(e){null!=e.v&&(ju.clearTimeout(e.v),e.v=null)}function gh(e,t){var n=null;if(e.g==t){yh(e),vh(e),e.g=null;var r=2}else{if(!Nf(e.h,t))return;n=t.D,Pf(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Yc(r=wl(),new Cl(r,n)),ch(e)}else dh(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Af(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Tl(Gu(e.Ja,e,t),bh(e,e.C)),e.C++,!0))}(e,t)||2==r&&ph(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:kh(e,5);break;case 4:kh(e,10);break;case 3:kh(e,6);break;default:kh(e,2)}}function bh(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function kh(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Gu(e.kb,e);n||(n=new nf("//www.google.com/images/cleardot.gif"),ju.location&&"http"==ju.location.protocol||af(n,"https"),cf(n)),function(e,t){var n=new yl;if(ju.Image){var r=new Image;r.onload=Ku(Ff,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ku(Ff,n,r,"TestLoadImage: error",!1,t),r.onabort=Ku(Ff,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ku(Ff,n,r,"TestLoadImage: timeout",!1,t),ju.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else El(2);e.G=0,e.l&&e.l.va(t),wh(e),uh(e)}function wh(e){if(e.G=0,e.la=[],e.l){var t=Rf(e.h);0==t.length&&0==e.i.length||(Ju(e.la,t),Ju(e.la,e.i),e.h.i.length=0,Xu(e.i),e.i.length=0),e.l.ua()}}function _h(e,t,n){var r=n instanceof nf?rf(n):new nf(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),of(r,r.m);else{var i=ju.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new nf(null,void 0);r&&af(a,r),t&&(a.g=t),i&&of(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&uf(r,n,t),uf(r,"VER",e.ma),fh(e,r),r}function xh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Hf(new jf({jb:!0})):new Hf(e.ra)).Ka(e.H),t}function Sh(){}function Eh(){if(cc&&!(10<=Number(_c)))throw Error("Environmental error: no available transport.")}function Ch(e,t){Qc.call(this),this.g=new ah(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!tc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ah(this)}function Th(e){Ml.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ih(){Ll.call(this),this.status=1}function Ah(e){this.g=e}(Ou=Hf.prototype).Ka=function(e){this.L=e},Ou.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rl.g(),this.C=this.u?Dl(this.u):Dl(Rl),this.g.onreadystatechange=Gu(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Yf(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Xe(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ju.FormData&&e instanceof ju.FormData,!(0<=$u(Qf,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=Xe(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zf(this),0<this.B&&((this.K=function(e){return cc&&kc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gu(this.qa,this)):this.A=ll(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Yf(this,s)}},Ou.qa=function(){"undefined"!=typeof Fu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yc(this,"timeout"),this.abort(8))},Ou.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yc(this,"complete"),Yc(this,"abort"),Jf(this))},Ou.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jf(this,!0)),Hf.X.M.call(this)},Ou.Ha=function(){this.s||(this.F||this.v||this.l?Xf(this):this.fb())},Ou.fb=function(){Xf(this)},Ou.aa=function(){try{return 2<eh(this)?this.g.status:-1}catch(Cf){return-1}},Ou.fa=function(){try{return this.g?this.g.responseText:""}catch(Cf){return""}},Ou.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Wf(t)}},Ou.Ea=function(){return this.m},Ou.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ou=ah.prototype).ma=8,Ou.G=1,Ou.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new jl(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Pc(n=Nc(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=hh(this,t,r),uf(i=rf(this.F),"RID",e),uf(i,"CVER",22),this.D&&uf(i,"X-HTTP-Session-Id",this.D),fh(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(nh(n)))+"&"+r:this.o&&rh(i,this.o,n)),Df(this.h,t),this.Ya&&uf(i,"TYPE","init"),this.O?(uf(i,"$req",r),uf(i,"SID","null"),t.Z=!0,ql(t,i,null)):ql(t,i,r),this.G=2}}else 3==this.G&&(e?lh(this,e):0==this.i.length||If(this.h)||lh(this))},Ou.Ia=function(){if(this.u=null,mh(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Tl(Gu(this.eb,this),e)}},Ou.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,El(10),sh(this),mh(this))},Ou.cb=function(){null!=this.v&&(this.v=null,sh(this),ph(this),El(19))},Ou.kb=function(e){e?(this.j.info("Successfully pinged google.com"),El(2)):(this.j.info("Failed to ping google.com"),El(1))},(Ou=Sh.prototype).xa=function(){},Ou.wa=function(){},Ou.va=function(){},Ou.ua=function(){},Ou.Ra=function(){},Eh.prototype.g=function(e,t){return new Ch(e,t)},Qu(Ch,Qc),Ch.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;El(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=_h(e,null,e.V),ch(e)},Ch.prototype.close=function(){oh(this.g)},Ch.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xc(e),e=n);t.i.push(new Sf(t.ab++,e)),3==t.G&&ch(t)},Ch.prototype.M=function(){this.g.l=null,delete this.j,oh(this.g),delete this.g,Ch.X.M.call(this)},Qu(Th,Ml),Qu(Ih,Ll),Qu(Ah,Sh),Ah.prototype.xa=function(){Yc(this.g,"a")},Ah.prototype.wa=function(e){Yc(this.g,new Th(e))},Ah.prototype.va=function(e){Yc(this.g,new Ih)},Ah.prototype.ua=function(){Yc(this.g,"b")},Eh.prototype.createWebChannel=Eh.prototype.g,Ch.prototype.send=Ch.prototype.u,Ch.prototype.open=Ch.prototype.m,Ch.prototype.close=Ch.prototype.close,Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,Al.COMPLETE="complete",Pl.EventType=Ol,Ol.OPEN="a",Ol.CLOSE="b",Ol.ERROR="c",Ol.MESSAGE="d",Qc.prototype.listen=Qc.prototype.N,Hf.prototype.listenOnce=Hf.prototype.O,Hf.prototype.getLastError=Hf.prototype.Oa,Hf.prototype.getLastErrorCode=Hf.prototype.Ea,Hf.prototype.getStatus=Hf.prototype.aa,Hf.prototype.getResponseJson=Hf.prototype.Sa,Hf.prototype.getResponseText=Hf.prototype.fa,Hf.prototype.send=Hf.prototype.da,Hf.prototype.setWithCredentials=Hf.prototype.Ka;var Nh=Lu.createWebChannelTransport=function(){return new Eh},Dh=Lu.getStatEventTarget=function(){return wl()},Ph=Lu.ErrorCode=Il,Rh=Lu.EventType=Al,Oh=Lu.Event=bl,Mh=Lu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Lh=Lu.FetchXmlHttpFactory=jf,Fh=Lu.WebChannel=Pl,jh=Lu.XhrIo=Hf,Bh="@firebase/firestore",Vh=function(){function e(t){wi(this,e),this.uid=t}return xi(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Vh.UNAUTHENTICATED=new Vh(null),Vh.GOOGLE_CREDENTIALS=new Vh("google-credentials-uid"),Vh.FIRST_PARTY=new Vh("first-party-uid"),Vh.MOCK_USER=new Vh("mock-user");var zh="9.17.2",Uh=new ps("@firebase/firestore");function qh(){return Uh.logLevel}function Wh(e){if(Uh.logLevel<=ss.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Kh);Uh.debug.apply(Uh,["Firestore (".concat(zh,"): ").concat(e)].concat(Ze(i)))}}function Hh(e){if(Uh.logLevel<=ss.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Kh);Uh.error.apply(Uh,["Firestore (".concat(zh,"): ").concat(e)].concat(Ze(i)))}}function Gh(e){if(Uh.logLevel<=ss.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Kh);Uh.warn.apply(Uh,["Firestore (".concat(zh,"): ").concat(e)].concat(Ze(i)))}}function Kh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Qh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(zh,") INTERNAL ASSERTION FAILED: ")+e;throw Hh(t),new Error(t)}function Yh(e,t){e||Qh()}function $h(e,t){return e}var Xh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Jh=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return xi(n)}(Po),Zh=xi((function e(){var t=this;wi(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ed=xi((function e(t,n){wi(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),td=function(){function e(){wi(this,e)}return xi(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Vh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),nd=function(){function e(t){wi(this,e),this.token=t,this.changeListener=null}return xi(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),rd=function(){function e(t){wi(this,e),this.t=t,this.currentUser=Vh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return xi(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Zh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Zh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Wh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Wh("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Wh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Yh("string"==typeof n.accessToken),new ed(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Yh(null===e||"string"==typeof e),new Vh(e)}}]),e}(),id=function(){function e(t,n,r,i){wi(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Vh.FIRST_PARTY,this.p=new Map}return xi(e,[{key:"I",value:function(){return this.g?this.g():(Yh(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),ad=function(){function e(t,n,r,i){wi(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return xi(e,[{key:"getToken",value:function(){return Promise.resolve(new id(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Vh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),od=xi((function e(t){wi(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),sd=function(){function e(t){wi(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return xi(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Wh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Wh("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Wh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Wh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Yh("string"==typeof t.token),e.A=t.token,new od(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function ud(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var cd=function(){function e(){wi(this,e)}return xi(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ud(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ld(e,t){return e<t?-1:e>t?1:0}function fd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function hd(e){return e+"\0"}var dd=function(){function e(t,n){if(wi(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Jh(Xh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Jh(Xh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Jh(Xh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jh(Xh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return xi(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ld(this.nanoseconds,e.nanoseconds):ld(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),pd=function(){function e(t){wi(this,e),this.timestamp=t}return xi(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new dd(0,0))}},{key:"max",value:function(){return new e(new dd(253402300799,999999999))}}]),e}(),vd=function(){function e(t,n,r){wi(this,e),void 0===n?n=0:n>t.length&&Qh(),void 0===r?r=t.length-n:r>t.length-n&&Qh(),this.segments=t,this.offset=n,this.len=r}return xi(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),md=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Jh(Xh.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Ze(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vd),yd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gd=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return yd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Jh(Xh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Jh(Xh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Jh(Xh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Jh(Xh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vd),bd=function(){function e(t){wi(this,e),this.path=t}return xi(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===md.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(md.fromString(t))}},{key:"fromName",value:function(t){return new e(md.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(md.emptyPath())}},{key:"comparator",value:function(e,t){return md.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new md(t.slice()))}}]),e}(),kd=xi((function e(t,n,r,i){wi(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function wd(e){return e.fields.find((function(e){return 2===e.kind}))}function _d(e){return e.fields.filter((function(e){return 2!==e.kind}))}kd.UNKNOWN_ID=-1;var xd=xi((function e(t,n){wi(this,e),this.fieldPath=t,this.kind=n}));var Sd=function(){function e(t,n){wi(this,e),this.sequenceNumber=t,this.offset=n}return xi(e,null,[{key:"empty",value:function(){return new e(0,Td.min())}}]),e}();function Ed(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pd.fromTimestamp(1e9===r?new dd(n+1,0):new dd(n,r));return new Td(i,bd.empty(),t)}function Cd(e){return new Td(e.readTime,e.key,-1)}var Td=function(){function e(t,n,r){wi(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return xi(e,null,[{key:"min",value:function(){return new e(pd.min(),bd.empty(),-1)}},{key:"max",value:function(){return new e(pd.max(),bd.empty(),-1)}}]),e}();function Id(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=bd.comparator(e.documentKey,t.documentKey))?n:ld(e.largestBatchId,t.largestBatchId)}var Ad="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Nd=function(){function e(){wi(this,e),this.onCommittedListeners=[]}return xi(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Dd(e){return Pd.apply(this,arguments)}function Pd(){return Pd=oo(io().mark((function e(t){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Xh.FAILED_PRECONDITION&&t.message===Ad){e.next=2;break}throw t;case 2:Wh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Pd.apply(this,arguments)}var Rd=function(){function e(t){var n=this;wi(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return xi(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Qh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Xe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Od=function(){function e(t,n){var r=this;wi(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new Zh,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new Fd(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=Ud(e.target.error);r.v.reject(new Fd(t,n))}}return xi(e,[{key:"P",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(Wh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Bd(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fd(n,t)}}}]),e}(),Md=function(){function e(t,n,r){wi(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(xo())&&Hh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return xi(e,[{key:"F",value:function(){var e=oo(io().mark((function e(t){var n=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Wh("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Fd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Jh(Xh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Jh(Xh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Fd(t,n))},i.onupgradeneeded=function(e){Wh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Wh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=oo(io().mark((function e(t,n,r,i){var a,o,s,u,c=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=io().mark((function e(){var n,s,u,l;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=Od.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Rd.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.P;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,Wh("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Wh("SimpleDb","Removing database:",e),Vd(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Io())return!1;if(e.N())return!0;var t=xo(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/e-commerce-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ld=function(){function e(t){wi(this,e),this.q=t,this.U=!1,this.K=null}return xi(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Vd(this.q.delete())}}]),e}(),Fd=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this,Xh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return xi(n)}(Jh);function jd(e){return"IndexedDbTransactionError"===e.name}var Bd=function(){function e(t){wi(this,e),this.store=t}return xi(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Wh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Wh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Vd(n)}},{key:"add",value:function(e){return Wh("SimpleDb","ADD",this.store.name,e,e),Vd(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Vd(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Wh("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Wh("SimpleDb","DELETE",this.store.name,e),Vd(this.store.delete(e))}},{key:"count",value:function(){return Wh("SimpleDb","COUNT",this.store.name),Vd(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Rd((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Rd((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Wh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Rd((function(n,r){t.onerror=function(e){var t=Ud(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Rd((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ld(i),o=t(i.primaryKey,i.value,a);if(o instanceof Rd){var s=o.catch((function(e){return a.done(),Rd.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Rd.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Vd(e){return new Rd((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ud(e.target.error);n(t)}}))}var zd=!1;function Ud(e){var t=Md.D(xo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Jh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return zd||(zd=!0,setTimeout((function(){throw r}),0)),r}}return e}var qd=function(){function e(t,n){wi(this,e),this.asyncQueue=t,this.et=n,this.task=null}return xi(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Wh("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Wh,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!jd(e.t4)){e.next=17;break}Wh("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Dd(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Wd=function(){function e(t,n){wi(this,e),this.localStore=t,this.persistence=n}return xi(e,[{key:"st",value:function(){var e=oo(io().mark((function e(){var t,n=this,r=arguments;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Rd.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Wh("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Wh("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Cd(t);Id(r,n)>0&&(n=r)})),new Td(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Hd=function(){function e(t,n){var r=this;wi(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return xi(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Hd.at=-1;var Gd=xi((function e(t,n,r,i,a,o,s,u){wi(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Kd=function(){function e(t,n){wi(this,e),this.projectId=t,this.database=n||"(default)"}return xi(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Qd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $d(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xd(e){return null==e}function Jd(e){return 0===e&&1/e==-1/0}function Zd(e){return"number"==typeof e&&Number.isInteger(e)&&!Jd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ep=function(e){Ei(n,e);var t=Ai(n);function n(){var e;return wi(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return xi(n)}(Di(Error));var tp=function(e){function t(e){wi(this,t),this.binaryString=e}return xi(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ld(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new ep("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();tp.EMPTY_BYTE_STRING=new tp("");var np=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rp(e){if(Yh(!!e),"string"==typeof e){var t=0,n=np.exec(e);if(Yh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ip(e.seconds),nanos:ip(e.nanos)}}function ip(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ap(e){return"string"==typeof e?tp.fromBase64String(e):tp.fromUint8Array(e)}function op(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sp(e){var t=e.mapValue.fields.__previous_value__;return op(t)?sp(t):t}function up(e){var t=rp(e.mapValue.fields.__local_write_time__.timestampValue);return new dd(t.seconds,t.nanos)}var cp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lp={nullValue:"NULL_VALUE"};function fp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?op(e)?4:Ep(e)?9007199254740991:10:Qh()}function hp(e,t){if(e===t)return!0;var n=fp(e);if(n!==fp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return up(e).isEqual(up(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=rp(e.timestampValue),r=rp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ap(e.bytesValue).isEqual(ap(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ip(e.geoPointValue.latitude)===ip(t.geoPointValue.latitude)&&ip(e.geoPointValue.longitude)===ip(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ip(e.integerValue)===ip(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ip(e.doubleValue),r=ip(t.doubleValue);return n===r?Jd(n)===Jd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fd(e.arrayValue.values||[],t.arrayValue.values||[],hp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qd(n)!==Qd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hp(n[i],r[i])))return!1;return!0}(e,t);default:return Qh()}}function dp(e,t){return void 0!==(e.values||[]).find((function(e){return hp(e,t)}))}function pp(e,t){if(e===t)return 0;var n=fp(e),r=fp(t);if(n!==r)return ld(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ld(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ip(e.integerValue||e.doubleValue),r=ip(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vp(e.timestampValue,t.timestampValue);case 4:return vp(up(e),up(t));case 5:return ld(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ap(e),r=ap(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ld(n[i],r[i]);if(0!==a)return a}return ld(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ld(ip(e.latitude),ip(t.latitude));return 0!==n?n:ld(ip(e.longitude),ip(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=pp(n[i],r[i]);if(a)return a}return ld(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===cp.mapValue&&t===cp.mapValue)return 0;if(e===cp.mapValue)return 1;if(t===cp.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=ld(r[o],a[o]);if(0!==s)return s;var u=pp(n[r[o]],i[a[o]]);if(0!==u)return u}return ld(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Qh()}}function vp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ld(e,t);var n=rp(e),r=rp(t),i=ld(n.seconds,r.seconds);return 0!==i?i:ld(n.nanos,r.nanos)}function mp(e){return yp(e)}function yp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=rp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ap(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,bd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Xe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=yp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Xe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(yp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Qh();var t,n}function gp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function bp(e){return!!e&&"integerValue"in e}function kp(e){return!!e&&"arrayValue"in e}function wp(e){return!!e&&"nullValue"in e}function _p(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xp(e){return!!e&&"mapValue"in e}function Sp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Sp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Sp(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ep(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cp(e){return"nullValue"in e?lp:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?gp(Kd.empty(),bd.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Qh()}function Tp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?gp(Kd.empty(),bd.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?cp:Qh()}function Ip(e,t){var n=pp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ap(e,t){var n=pp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Np=xi((function e(t,n){wi(this,e),this.position=t,this.inclusive=n}));function Dp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?bd.comparator(bd.fromName(o.referenceValue),n.key):pp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Pp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!hp(e.position[n],t.position[n]))return!1;return!0}var Rp=xi((function e(){wi(this,e)})),Op=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i){var a;return wi(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return xi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(pp(t,this.value)):null!==t&&fp(this.value)===fp(t)&&this.matchesComparison(pp(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qh()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Wp(e,t,r):"array-contains"===t?new Qp(e,r):"in"===t?new Yp(e,r):"not-in"===t?new $p(e,r):"array-contains-any"===t?new Xp(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Hp(e,n):new Gp(e,n)}}]),n}(Rp),Mp=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return xi(n,[{key:"matches",value:function(e){return Lp(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=Xe(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Rp);function Lp(e){return"and"===e.op}function Fp(e){return"or"===e.op}function jp(e){return Bp(e)&&Lp(e)}function Bp(e){var t,n=Xe(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Mp)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Vp(e){if(e instanceof Op)return e.field.canonicalString()+e.op.toString()+mp(e.value);if(jp(e))return e.filters.map((function(e){return Vp(e)})).join(",");var t=e.filters.map((function(e){return Vp(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function zp(e,t){return e instanceof Op?function(e,t){return t instanceof Op&&e.op===t.op&&e.field.isEqual(t.field)&&hp(e.value,t.value)}(e,t):e instanceof Mp?function(e,t){return t instanceof Mp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&zp(n,t.filters[r])}),!0)}(e,t):void Qh()}function Up(e,t){var n=e.filters.concat(t);return Mp.create(n,e.op)}function qp(e){return e instanceof Op?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(mp(e.value))}(e):e instanceof Mp?function(e){return e.op.toString()+" {"+e.getFilters().map(qp).join(" ,")+"}"}(e):"Filter"}var Wp=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i){var a;return wi(this,n),(a=t.call(this,e,r,i)).key=bd.fromName(i.referenceValue),a}return xi(n,[{key:"matches",value:function(e){var t=bd.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Op),Hp=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this,e,"in",r)).keys=Kp("in",r),i}return xi(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Op),Gp=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this,e,"not-in",r)).keys=Kp("not-in",r),i}return xi(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Op);function Kp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return bd.fromName(e.referenceValue)}))}var Qp=function(e){Ei(n,e);var t=Ai(n);function n(e,r){return wi(this,n),t.call(this,e,"array-contains",r)}return xi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return kp(t)&&dp(t.arrayValue,this.value)}}]),n}(Op),Yp=function(e){Ei(n,e);var t=Ai(n);function n(e,r){return wi(this,n),t.call(this,e,"in",r)}return xi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&dp(this.value.arrayValue,t)}}]),n}(Op),$p=function(e){Ei(n,e);var t=Ai(n);function n(e,r){return wi(this,n),t.call(this,e,"not-in",r)}return xi(n,[{key:"matches",value:function(e){if(dp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!dp(this.value.arrayValue,t)}}]),n}(Op),Xp=function(e){Ei(n,e);var t=Ai(n);function n(e,r){return wi(this,n),t.call(this,e,"array-contains-any",r)}return xi(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return dp(t.value.arrayValue,e)}))}}]),n}(Op),Jp=xi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";wi(this,e),this.field=t,this.dir=n}));function Zp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ev=function(){function e(t,n){wi(this,e),this.comparator=t,this.root=n||nv.EMPTY}return xi(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,nv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new tv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new tv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new tv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new tv(this.root,e,this.comparator,!0)}}]),e}(),tv=function(){function e(t,n,r,i){wi(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return xi(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),nv=function(){function e(t,n,r,i,a){wi(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return xi(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Qh();if(this.right.isRed())throw Qh();var e=this.left.check();if(e!==this.right.check())throw Qh();return e+(this.isRed()?0:1)}}]),e}();nv.EMPTY=null,nv.RED=!0,nv.BLACK=!1,nv.EMPTY=new(function(){function e(){wi(this,e),this.size=0}return xi(e,[{key:"key",get:function(){throw Qh()}},{key:"value",get:function(){throw Qh()}},{key:"color",get:function(){throw Qh()}},{key:"left",get:function(){throw Qh()}},{key:"right",get:function(){throw Qh()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new nv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var rv=function(){function e(t){wi(this,e),this.comparator=t,this.data=new ev(this.comparator)}return xi(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new iv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new iv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),iv=function(){function e(t){wi(this,e),this.iter=t}return xi(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function av(e){return e.hasNext()?e.getNext():void 0}var ov=function(){function e(t){wi(this,e),this.fields=t,t.sort(gd.comparator)}return xi(e,[{key:"unionWith",value:function(t){var n,r=new rv(gd.comparator),i=Xe(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Xe(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Xe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return fd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),sv=function(){function e(t){wi(this,e),this.value=t}return xi(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!xp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sp(t)}},{key:"setAll",value:function(e){var t=this,n=gd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Sp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());xp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return hp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];xp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Yd(t,(function(t,n){return e[t]=n}));var r,i=Xe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Sp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function uv(e){var t=[];return Yd(e.fields,(function(e,n){var r=new gd([e]);if(xp(n)){var i=uv(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Xe(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new ov(t)}var cv=function(){function e(t,n,r,i,a,o,s){wi(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return xi(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(pd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=sv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=sv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=pd.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,pd.min(),pd.min(),pd.min(),sv.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,pd.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,pd.min(),pd.min(),sv.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,pd.min(),pd.min(),sv.empty(),2)}}]),e}(),lv=xi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;wi(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this._t=null}));function fv(e){return new lv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function hv(e){var t=$h(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Vp(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Xd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return mp(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return mp(e)})).join(",")),t._t=n}return t._t}function dv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Zp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!zp(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pp(e.startAt,t.startAt)&&Pp(e.endAt,t.endAt)}function pv(e){return bd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function vv(e,t){return e.filters.filter((function(e){return e instanceof Op&&e.field.isEqual(t)}))}function mv(e,t,n){var r,i=lp,a=!0,o=Xe(vv(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=lp,c=!0;switch(s.op){case"<":case"<=":u=Cp(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=lp}Ip({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ip({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function yv(e,t,n){var r,i=cp,a=!0,o=Xe(vv(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=cp,c=!0;switch(s.op){case">=":case">":u=Tp(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=cp}Ap({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ap({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var gv=xi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;wi(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this.gt=null,this.startAt,this.endAt}));function bv(e,t,n,r,i,a,o,s){return new gv(e,t,n,r,i,a,o,s)}function kv(e){return new gv(e)}function wv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function _v(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xv(e){var t,n=Xe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Sv(e){return null!==e.collectionGroup}function Ev(e){var t=$h(e);if(null===t.wt){t.wt=[];var n=xv(t),r=_v(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Jp(n)),t.wt.push(new Jp(gd.keyField(),"asc"));else{var i,a=!1,o=Xe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Jp(gd.keyField(),u))}}}return t.wt}function Cv(e){var t=$h(e);if(!t.gt)if("F"===t.limitType)t.gt=fv(t.path,t.collectionGroup,Ev(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Xe(Ev(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Jp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Np(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Np(t.startAt.position,t.startAt.inclusive):null;t.gt=fv(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.gt}function Tv(e,t){t.getFirstInequalityField(),xv(e);var n=e.filters.concat([t]);return new gv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Iv(e,t,n){return new gv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Av(e,t){return dv(Cv(e),Cv(t))&&e.limitType===t.limitType}function Nv(e){return"".concat(hv(Cv(e)),"|lt:").concat(e.limitType)}function Dv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return qp(e)})).join(", "),"]")),Xd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return mp(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return mp(e)})).join(",")),"Target(".concat(t,")")}(Cv(e)),"; limitType=").concat(e.limitType,")")}function Pv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Xe(Ev(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Xe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Dp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ev(e),t))&&!(e.endAt&&!function(e,t,n){var r=Dp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ev(e),t))}(e,t)}function Rv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ov(e){return function(t,n){var r,i=!1,a=Xe(Ev(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Mv(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Mv(e,t,n){var r=e.field.isKeyField()?bd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?pp(r,i):Qh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Qh()}}function Lv(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(t)?"-0":t}}function Fv(e){return{integerValue:""+e}}function jv(e,t){return Zd(t)?Fv(t):Lv(e,t)}var Bv=xi((function e(){wi(this,e),this._=void 0}));function Vv(e,t,n){return e instanceof qv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Wv?Hv(e,t):e instanceof Gv?Kv(e,t):function(e,t){var n=Uv(e,t),r=Yv(n)+Yv(e.It);return bp(n)&&bp(e.It)?Fv(r):Lv(e.Tt,r)}(e,t)}function zv(e,t,n){return e instanceof Wv?Hv(e,t):e instanceof Gv?Kv(e,t):n}function Uv(e,t){return e instanceof Qv?bp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var qv=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n)}(Bv),Wv=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),(r=t.call(this)).elements=e,r}return xi(n)}(Bv);function Hv(e,t){var n,r=$v(t),i=Xe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return hp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gv=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),(r=t.call(this)).elements=e,r}return xi(n)}(Bv);function Kv(e,t){var n,r=$v(t),i=Xe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!hp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Qv=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return xi(n)}(Bv);function Yv(e){return ip(e.integerValue||e.doubleValue)}function $v(e){return kp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Xv=xi((function e(t,n){wi(this,e),this.field=t,this.transform=n}));var Jv=xi((function e(t,n){wi(this,e),this.version=t,this.transformResults=n})),Zv=function(){function e(t,n){wi(this,e),this.updateTime=t,this.exists=n}return xi(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function em(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var tm=xi((function e(){wi(this,e)}));function nm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new pm(e.key,Zv.none()):new sm(e.key,e.data,Zv.none());var n,r=e.data,i=sv.empty(),a=new rv(gd.comparator),o=Xe(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new um(e.key,i,new ov(a.toArray()),Zv.none())}function rm(e,t,n){e instanceof sm?function(e,t,n){var r=e.value.clone(),i=lm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof um?function(e,t,n){if(em(e.precondition,t)){var r=lm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function im(e,t,n,r){return e instanceof sm?function(e,t,n,r){if(!em(e.precondition,t))return n;var i=e.value.clone(),a=fm(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof um?function(e,t,n,r){if(!em(e.precondition,t))return n;var i=fm(e.fieldTransforms,r,t),a=t.data;return a.setAll(cm(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return em(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function am(e,t){var n,r=null,i=Xe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Uv(a.transform,o||null);null!=s&&(null===r&&(r=sv.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function om(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Wv&&t instanceof Wv||e instanceof Gv&&t instanceof Gv?fd(e.elements,t.elements,hp):e instanceof Qv&&t instanceof Qv?hp(e.It,t.It):e instanceof qv&&t instanceof qv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var sm=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return wi(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return xi(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tm),um=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return wi(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return xi(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(tm);function cm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function lm(e,t,n){var r=new Map;Yh(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,zv(o,s,n[i]))}return r}function fm(e,t,n){var r,i=new Map,a=Xe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Vv(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var hm,dm,pm=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return xi(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tm),vm=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return xi(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tm),mm=xi((function e(t){wi(this,e),this.count=t}));function ym(e){switch(e){default:return Qh();case Xh.CANCELLED:case Xh.UNKNOWN:case Xh.DEADLINE_EXCEEDED:case Xh.RESOURCE_EXHAUSTED:case Xh.INTERNAL:case Xh.UNAVAILABLE:case Xh.UNAUTHENTICATED:return!1;case Xh.INVALID_ARGUMENT:case Xh.NOT_FOUND:case Xh.ALREADY_EXISTS:case Xh.PERMISSION_DENIED:case Xh.FAILED_PRECONDITION:case Xh.ABORTED:case Xh.OUT_OF_RANGE:case Xh.UNIMPLEMENTED:case Xh.DATA_LOSS:return!0}}function gm(e){if(void 0===e)return Hh("GRPC error has no .code"),Xh.UNKNOWN;switch(e){case hm.OK:return Xh.OK;case hm.CANCELLED:return Xh.CANCELLED;case hm.UNKNOWN:return Xh.UNKNOWN;case hm.DEADLINE_EXCEEDED:return Xh.DEADLINE_EXCEEDED;case hm.RESOURCE_EXHAUSTED:return Xh.RESOURCE_EXHAUSTED;case hm.INTERNAL:return Xh.INTERNAL;case hm.UNAVAILABLE:return Xh.UNAVAILABLE;case hm.UNAUTHENTICATED:return Xh.UNAUTHENTICATED;case hm.INVALID_ARGUMENT:return Xh.INVALID_ARGUMENT;case hm.NOT_FOUND:return Xh.NOT_FOUND;case hm.ALREADY_EXISTS:return Xh.ALREADY_EXISTS;case hm.PERMISSION_DENIED:return Xh.PERMISSION_DENIED;case hm.FAILED_PRECONDITION:return Xh.FAILED_PRECONDITION;case hm.ABORTED:return Xh.ABORTED;case hm.OUT_OF_RANGE:return Xh.OUT_OF_RANGE;case hm.UNIMPLEMENTED:return Xh.UNIMPLEMENTED;case hm.DATA_LOSS:return Xh.DATA_LOSS;default:return Qh()}}(dm=hm||(hm={}))[dm.OK=0]="OK",dm[dm.CANCELLED=1]="CANCELLED",dm[dm.UNKNOWN=2]="UNKNOWN",dm[dm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dm[dm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dm[dm.NOT_FOUND=5]="NOT_FOUND",dm[dm.ALREADY_EXISTS=6]="ALREADY_EXISTS",dm[dm.PERMISSION_DENIED=7]="PERMISSION_DENIED",dm[dm.UNAUTHENTICATED=16]="UNAUTHENTICATED",dm[dm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dm[dm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dm[dm.ABORTED=10]="ABORTED",dm[dm.OUT_OF_RANGE=11]="OUT_OF_RANGE",dm[dm.UNIMPLEMENTED=12]="UNIMPLEMENTED",dm[dm.INTERNAL=13]="INTERNAL",dm[dm.UNAVAILABLE=14]="UNAVAILABLE",dm[dm.DATA_LOSS=15]="DATA_LOSS";var bm=function(){function e(t,n){wi(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return xi(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Xe(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Yd(this.inner,(function(t,n){var r,i=Xe(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return $d(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),km=new ev(bd.comparator);function wm(){return km}var _m=new ev(bd.comparator);function xm(){for(var e=_m,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Sm(e){var t=_m;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Em(){return Tm()}function Cm(){return Tm()}function Tm(){return new bm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Im=new ev(bd.comparator),Am=new rv(bd.comparator);function Nm(){for(var e=Am,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Dm=new rv(ld);function Pm(){return Dm}var Rm=function(){function e(t,n,r,i,a){wi(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return xi(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Om.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(pd.min(),i,Pm(),wm(),Nm())}}]),e}(),Om=function(){function e(t,n,r,i,a){wi(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return xi(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Nm(),Nm(),Nm())}}]),e}(),Mm=xi((function e(t,n,r,i){wi(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),Lm=xi((function e(t,n){wi(this,e),this.targetId=t,this.Rt=n})),Fm=xi((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tp.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;wi(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),jm=function(){function e(){wi(this,e),this.bt=0,this.vt=zm(),this.Pt=tp.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return xi(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"Dt",get:function(){return 0!==this.bt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}},{key:"Nt",value:function(){var e=Nm(),t=Nm(),n=Nm();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Qh()}})),new Om(this.Pt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=zm()}},{key:"Ot",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ft",value:function(){this.bt+=1}},{key:"$t",value:function(){this.bt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),Bm=function(){function e(t){wi(this,e),this.Lt=t,this.qt=new Map,this.Ut=wm(),this.Kt=Vm(),this.Gt=new rv(ld)}return xi(e,[{key:"Qt",value:function(e){var t,n=Xe(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(s){n.e(s)}finally{n.f()}var i,a=Xe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:Qh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(pv(i))if(0===n){var a=new bd(i.path);this.zt(t,a,cv.newNoDocument(a,pd.min()))}else Yh(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&pv(a.target)){var o=new bd(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,cv.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=Nm();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Rm(e,n,this.Gt,this.Ut,r);return this.Ut=wm(),this.Kt=Vm(),this.Gt=new rv(ld),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.Ot(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ft",value:function(e){this.Ht(e).Ft()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new jm,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new rv(ld),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||Wh("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new jm),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Vm(){return new ev(bd.comparator)}function zm(){return new ev(bd.comparator)}var Um={asc:"ASCENDING",desc:"DESCENDING"},qm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wm={and:"AND",or:"OR"},Hm=xi((function e(t,n){wi(this,e),this.databaseId=t,this.yt=n}));function Gm(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Km(e,t){return e.yt?t.toBase64():t.toUint8Array()}function Qm(e,t){return Gm(e,t.toTimestamp())}function Ym(e){return Yh(!!e),pd.fromTimestamp(function(e){var t=rp(e);return new dd(t.seconds,t.nanos)}(e))}function $m(e,t){return function(e){return new md(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Xm(e){var t=md.fromString(e);return Yh(ky(t)),t}function Jm(e,t){return $m(e.databaseId,t.path)}function Zm(e,t){var n=Xm(t);if(n.get(1)!==e.databaseId.projectId)throw new Jh(Xh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Jh(Xh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bd(ry(n))}function ey(e,t){return $m(e.databaseId,t)}function ty(e){var t=Xm(e);return 4===t.length?md.emptyPath():ry(t)}function ny(e){return new md(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ry(e){return Yh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function iy(e,t,n){return{name:Jm(e,t),fields:n.value.mapValue.fields}}function ay(e,t,n){var r=Zm(e,t.name),i=Ym(t.updateTime),a=t.createTime?Ym(t.createTime):pd.min(),o=new sv({mapValue:{fields:t.fields}}),s=cv.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function oy(e,t){return"found"in t?function(e,t){Yh(!!t.found),t.found.name,t.found.updateTime;var n=Zm(e,t.found.name),r=Ym(t.found.updateTime),i=t.found.createTime?Ym(t.found.createTime):pd.min(),a=new sv({mapValue:{fields:t.found.fields}});return cv.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Yh(!!t.missing),Yh(!!t.readTime);var n=Zm(e,t.missing),r=Ym(t.readTime);return cv.newNoDocument(n,r)}(e,t):Qh()}function sy(e,t){var n;if(t instanceof sm)n={update:iy(e,t.key,t.value)};else if(t instanceof pm)n={delete:Jm(e,t.key)};else if(t instanceof um)n={update:iy(e,t.key,t.data),updateMask:by(t.fieldMask)};else{if(!(t instanceof vm))return Qh();n={verify:Jm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof qv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Wv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qv)return{fieldPath:t.field.canonicalString(),increment:n.It};throw Qh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Qh()}(e,t.precondition)),n}function uy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Zv.updateTime(Ym(e.updateTime)):void 0!==e.exists?Zv.exists(e.exists):Zv.none()}(t.currentDocument):Zv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Yh("REQUEST_TIME"===t.setToServerValue),n=new qv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Wv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Gv(i)}else"increment"in t?n=new Qv(e,t.increment):Qh();var a=gd.fromServerFormat(t.fieldPath);return new Xv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Zm(e,t.update.name),a=new sv({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ov(t.map((function(e){return gd.fromServerFormat(e)})))}(t.updateMask);return new um(i,a,o,n,r)}return new sm(i,a,n,r)}if(t.delete){var s=Zm(e,t.delete);return new pm(s,n)}if(t.verify){var u=Zm(e,t.verify);return new vm(u,n)}return Qh()}function cy(e,t){return{documents:[ey(e,t.path)]}}function ly(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ey(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ey(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return gy(Mp.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:my(e.field),direction:dy(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.yt||Xd(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function fy(e){var t=ty(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yh(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=hy(e);return t instanceof Mp&&jp(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Jp(yy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Xd(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Np(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Np(n,t)}(n.endAt)),bv(t,i,s,o,u,"F",c,l)}function hy(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yy(e.unaryFilter.field);return Op.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yy(e.unaryFilter.field);return Op.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yy(e.unaryFilter.field);return Op.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yy(e.unaryFilter.field);return Op.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Qh()}}(e):void 0!==e.fieldFilter?function(e){return Op.create(yy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Mp.create(e.compositeFilter.filters.map((function(e){return hy(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Qh()}}(e.compositeFilter.op))}(e):Qh()}function dy(e){return Um[e]}function py(e){return qm[e]}function vy(e){return Wm[e]}function my(e){return{fieldPath:e.canonicalString()}}function yy(e){return gd.fromServerFormat(e.fieldPath)}function gy(e){return e instanceof Op?function(e){if("=="===e.op){if(_p(e.value))return{unaryFilter:{field:my(e.field),op:"IS_NAN"}};if(wp(e.value))return{unaryFilter:{field:my(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_p(e.value))return{unaryFilter:{field:my(e.field),op:"IS_NOT_NAN"}};if(wp(e.value))return{unaryFilter:{field:my(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:my(e.field),op:py(e.op),value:e.value}}}(e):e instanceof Mp?function(e){var t=e.getFilters().map((function(e){return gy(e)}));return 1===t.length?t[0]:{compositeFilter:{op:vy(e.op),filters:t}}}(e):Qh()}function by(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ky(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function wy(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=xy(t)),t=_y(e.get(n),t);return xy(t)}function _y(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function xy(e){return e+"\x01\x01"}function Sy(e){var t=e.length;if(Yh(t>=2),2===t)return Yh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),md.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Qh(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Qh()}a=o+2}return new md(r)}var Ey=["userId","batchId"];function Cy(e,t){return[e,wy(t)]}function Ty(e,t,n){return[e,wy(t),n]}var Iy={},Ay=["prefixPath","collectionGroup","readTime","documentId"],Ny=["prefixPath","collectionGroup","documentId"],Dy=["collectionGroup","readTime","prefixPath","documentId"],Py=["canonicalId","targetId"],Ry=["targetId","path"],Oy=["path","targetId"],My=["collectionId","parent"],Ly=["indexId","uid"],Fy=["uid","sequenceNumber"],jy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],By=["indexId","uid","orderedDocumentKey"],Vy=["userId","collectionPath","documentId"],zy=["userId","collectionPath","largestBatchId"],Uy=["userId","collectionGroup","largestBatchId"],qy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Wy=[].concat(Ze(qy),["documentOverlays"]),Hy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Gy=Hy,Ky=[].concat(Gy,["indexConfiguration","indexState","indexEntries"]),Qy=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return xi(n)}(Nd);function Yy(e,t){var n=$h(e);return Md.M(n.re,t)}var $y=function(){function e(t,n,r,i){wi(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return xi(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&rm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Xe(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=im(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Xe(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=im(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Cm();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=nm(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(pd.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Nm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&fd(this.mutations,e.mutations,(function(e,t){return om(e,t)}))&&fd(this.baseMutations,e.baseMutations,(function(e,t){return om(e,t)}))}}]),e}(),Xy=function(){function e(t,n,r,i){wi(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return xi(e,null,[{key:"from",value:function(t,n,r){Yh(t.mutations.length===r.length);for(var i=Im,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Jy=function(){function e(t,n){wi(this,e),this.largestBatchId=t,this.mutation=n}return xi(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Zy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pd.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:tp.EMPTY_BYTE_STRING;wi(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return xi(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),eg=xi((function e(t){wi(this,e),this.oe=t}));function tg(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ng(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Jm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Gm(e,t.version.toTimestamp()),createTime:Gm(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rg(t.version)};else{if(!t.isUnknownDocument())return Qh();r.unknownDocument={path:n.path.toArray(),version:rg(t.version)}}return r}function ng(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rg(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ig(e){var t=new dd(e.seconds,e.nanoseconds);return pd.fromTimestamp(t)}function ag(e,t){for(var n=(t.baseMutations||[]).map((function(t){return uy(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return uy(e.oe,t)})),s=dd.fromMillis(t.localWriteTimeMs);return new $y(t.batchId,s,n,o)}function og(e){var t,n,r=ig(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ig(e.lastLimboFreeSnapshotVersion):pd.min();return void 0!==e.query.documents?(Yh(1===(n=e.query).documents.length),t=Cv(kv(ty(n.documents[0])))):t=function(e){return Cv(fy(e))}(e.query),new Zy(t,e.targetId,0,e.lastListenSequenceNumber,r,i,tp.fromBase64String(e.resumeToken))}function sg(e,t){var n,r=rg(t.snapshotVersion),i=rg(t.lastLimboFreeSnapshotVersion);n=pv(t.target)?cy(e.oe,t.target):ly(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hv(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function ug(e){var t=fy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Iv(t,t.limit,"L"):t}function cg(e,t){return new Jy(t.largestBatchId,uy(e.oe,t.overlayMutation))}function lg(e,t){var n=t.path.lastSegment();return[e,wy(t.path.popLast()),n]}function fg(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:rg(r.readTime),documentKey:wy(r.documentKey.path),largestBatchId:r.largestBatchId}}var hg=function(){function e(){wi(this,e)}return xi(e,[{key:"getBundleMetadata",value:function(e,t){return dg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ig(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return dg(e).put({bundleId:(n=t).id,createTime:rg(Ym(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return pg(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ug(t.bundledQuery),readTime:ig(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return pg(e).put(function(e){return{name:e.name,readTime:rg(Ym(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function dg(e){return Yy(e,"bundles")}function pg(e){return Yy(e,"namedQueries")}var vg=function(){function e(t,n){wi(this,e),this.Tt=t,this.userId=n}return xi(e,[{key:"getOverlay",value:function(e,t){var n=this;return mg(e).get(lg(this.userId,t)).next((function(e){return e?cg(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Em();return Rd.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Jy(t,a);i.push(r.ce(e,o))})),Rd.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(wy(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(mg(e).Y("collectionPathOverlayIndex",i))})),Rd.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Em(),a=wy(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return mg(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Xe(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=cg(r.Tt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Em(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mg(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=cg(a.Tt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return mg(e).put(function(e,t,n){var r=c(lg(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:sy(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function mg(e){return Yy(e,"documentOverlays")}var yg=function(){function e(){wi(this,e)}return xi(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(ip(e.integerValue));else if("doubleValue"in e){var n=ip(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),Jd(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(ap(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?Ep(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Qh()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=Xe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),bd.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function gg(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function bg(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=gg(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}yg.Ee=new yg;var kg=function(){function e(){wi(this,e),this.buffer=new Uint8Array(1024),this.position=0}return xi(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.be()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=Xe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.be()}},{key:"De",value:function(e){var t,n=Xe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=bg(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=bg(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"Fe",value:function(){this.$e(255),this.$e(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}},{key:"be",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.$e(0),this.$e(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"$e",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),wg=function(){function e(t){wi(this,e),this.Le=t}return xi(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),_g=function(){function e(t){wi(this,e),this.Le=t}return xi(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Fe()}}]),e}(),xg=function(){function e(){wi(this,e),this.Le=new kg,this.qe=new wg(this.Le),this.Ue=new _g(this.Le)}return xi(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),Sg=function(){function e(t,n,r,i){wi(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return xi(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Eg(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Cg(e.arrayValue,t.arrayValue))?n:0!==(n=Cg(e.directionalValue,t.directionalValue))?n:bd.comparator(e.documentKey,t.documentKey)}function Cg(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Tg=function(){function e(t){wi(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=Xe(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return xi(e,[{key:"We",value:function(e){Yh(e.collectionGroup===this.collectionId);var t=wd(e);if(void 0!==t&&!this.He(t))return!1;for(var n=_d(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=Xe(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Ig(e){var t,n;if(Yh(e instanceof Op||e instanceof Mp),e instanceof Op){if(e instanceof Yp){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Op.create(e.field,"==",t)})))||[];return Mp.create(r,"or")}return e}var i=e.filters.map((function(e){return Ig(e)}));return Mp.create(i,e.op)}function Ag(e){if(0===e.getFilters().length)return[];var t=Rg(Ig(e));return Yh(Pg(t)),Ng(t)||Dg(t)?[t]:t.getFilters()}function Ng(e){return e instanceof Op}function Dg(e){return e instanceof Mp&&jp(e)}function Pg(e){return Ng(e)||Dg(e)||function(e){if(e instanceof Mp&&Fp(e)){var t,n=Xe(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Ng(r)&&!Dg(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Rg(e){if(Yh(e instanceof Op||e instanceof Mp),e instanceof Op)return e;if(1===e.filters.length)return Rg(e.filters[0]);var t=e.filters.map((function(e){return Rg(e)})),n=Mp.create(t,e.op);return Pg(n=Lg(n))?n:(Yh(n instanceof Mp),Yh(Lp(n)),Yh(n.filters.length>1),n.filters.reduce((function(e,t){return Og(e,t)})))}function Og(e,t){var n;return Yh(e instanceof Op||e instanceof Mp),Yh(t instanceof Op||t instanceof Mp),n=e instanceof Op?t instanceof Op?function(e,t){return Mp.create([e,t],"and")}(e,t):Mg(e,t):t instanceof Op?Mg(t,e):function(e,t){if(Yh(e.filters.length>0&&t.filters.length>0),Lp(e)&&Lp(t))return Up(e,t.getFilters());var n=Fp(e)?e:t,r=Fp(e)?t:e,i=n.filters.map((function(e){return Og(e,r)}));return Mp.create(i,"or")}(e,t),Lg(n)}function Mg(e,t){if(Lp(t))return Up(t,e.getFilters());var n=t.filters.map((function(t){return Og(e,t)}));return Mp.create(n,"or")}function Lg(e){if(Yh(e instanceof Op||e instanceof Mp),e instanceof Op)return e;var t=e.getFilters();if(1===t.length)return Lg(t[0]);if(Bp(e))return e;var n=t.map((function(e){return Lg(e)})),r=[];return n.forEach((function(t){t instanceof Op?r.push(t):t instanceof Mp&&(t.op===e.op?r.push.apply(r,Ze(t.filters)):r.push(t))})),1===r.length?r[0]:Mp.create(r,e.op)}var Fg=function(){function e(){wi(this,e),this.Ze=new jg}return xi(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),Rd.resolve()}},{key:"getCollectionParents",value:function(e,t){return Rd.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Rd.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Rd.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Rd.resolve(null)}},{key:"getIndexType",value:function(e,t){return Rd.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Rd.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Rd.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Rd.resolve(Td.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Rd.resolve(Td.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Rd.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Rd.resolve()}}]),e}(),jg=function(){function e(){wi(this,e),this.index={}}return xi(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new rv(md.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new rv(md.comparator)).toArray()}}]),e}(),Bg=new Uint8Array(0),Vg=function(){function e(t,n){wi(this,e),this.user=t,this.databaseId=n,this.Xe=new jg,this.tn=new bm((function(e){return hv(e)}),(function(e,t){return dv(e,t)})),this.uid=t.uid||""}return xi(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:wy(i)};return zg(e).put(a)}return Rd.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[hd(t),""],!1,!0);return zg(e).W(r).next((function(e){var r,i=Xe(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Sy(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=qg(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Wg(e);return a.next((function(e){o.put(fg(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=qg(e),r=Wg(e),i=Ug(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Ug(e),i=!0,a=new Map;return Rd.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Nm(),o=[];return Rd.forEach(a,(function(i,a){var s;Wh("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(hv(t)));var u=function(e,t){var n=wd(t);if(void 0===n)return null;var r,i=Xe(vv(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Xe(_d(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Xe(vv(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Xe(_d(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?mv(e,o.fieldPath,e.startAt):yv(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Np(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Xe(_d(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?yv(e,o.fieldPath,e.endAt):mv(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Np(r,i)}(a,i),h=n.sn(i,a,l),d=n.sn(i,a,f),p=n.rn(i,a,c),v=n.on(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Rd.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=bd.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Rd.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:Ag(Mp.create(e.filters,"and")).map((function(t){return fv(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.un(t[h/c]):Bg,f=s.cn(e,u,n[h%c],r),d=s.an(e,u,i[h%c],a),p=o.map((function(t){return s.cn(e,u,t,!0)}));l.push.apply(l,Ze(s.createRange(f,d,p)))},h=0;h<u;++h)f();return l}},{key:"cn",value:function(e,t,n,r){var i=new Sg(e,bd.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new Sg(e,bd.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new Tg(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Xe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return Rd.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new rv(gd.comparator),r=!1,i=Xe(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Xe(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=Xe(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new xg,i=Xe(_d(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ke(a.kind);yg.Ee.ae(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new xg;return yg.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new xg;return yg.Ee.ae(gp(this.databaseId,t),n.Ke(function(e){var t=_d(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new xg);var i,a=0,o=Xe(_d(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Xe(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.fn(t,u.fieldPath)&&kp(c))r=this.dn(r,u,c);else{var h=f.Ke(u.kind);yg.Ee.ae(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=Ze(e),a=[],o=Xe(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Xe(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new xg;f.seed(l.Be()),yg.Ee.ae(u,f.Ke(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Op&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=qg(e),i=Wg(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Rd.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Sd(t.sequenceNumber,new Td(ig(t.readTime),new bd(Sy(t.documentKey)),t.largestBatchId)):Sd.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new xd(gd.fromServerFormat(n),r)}));return new kd(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ld(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=qg(e),a=Wg(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Rd.forEach(t,(function(t){return a.put(fg(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Rd.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Rd.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Rd.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?Rd.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return Ug(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return Ug(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=Ug(e),i=new rv(Eg);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new Sg(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new rv(Eg),r=this.hn(t,e);if(null==r)return n;var i=wd(t);if(null!=i){var a=e.data.field(i.fieldPath);if(kp(a)){var o,s=Xe(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Sg(t.indexId,e.key,this.un(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Sg(t.indexId,e.key,Bg,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;Wh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=av(a),u=av(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=av(o)):l?(i(s),s=av(a)):(s=av(a),u=av(o))}}(r,i,Eg,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),Rd.waitFor(o)}},{key:"wn",value:function(e){var t=1;return Wg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Eg(e,t)})).filter((function(e,t,n){return!t||0!==Eg(e,n[t-1])}));var r=[];r.push(e);var i,a=Xe(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Eg(o,e),u=Eg(o,t);if(0===s)r[0]=e.Ge();else if(s>0&&u<0)r.push(o),r.push(o.Ge());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Tn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Bg,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Bg,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Tn",value:function(e,t){return Eg(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Hg)}},{key:"getMinOffset",value:function(e,t){var n=this;return Rd.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||Qh()}))})).next(Hg)}}]),e}();function zg(e){return Yy(e,"collectionParents")}function Ug(e){return Yy(e,"indexEntries")}function qg(e){return Yy(e,"indexConfiguration")}function Wg(e){return Yy(e,"indexState")}function Hg(e){Yh(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Id(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Td(t.readTime,t.documentKey,n)}var Gg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kg=function(){function e(t,n,r){wi(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return xi(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Qg(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Yh(1===s)})));var c,l=[],f=Xe(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ty(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Rd.waitFor(a).next((function(){return l}))}function Yg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Qh();t=e.noDocument}return JSON.stringify(t).length}Kg.DEFAULT_COLLECTION_PERCENTILE=10,Kg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kg.DEFAULT=new Kg(41943040,Kg.DEFAULT_COLLECTION_PERCENTILE,Kg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kg.DISABLED=new Kg(-1,0,0);var $g=function(){function e(t,n,r,i){wi(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return xi(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jg(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Zg(e),o=Jg(e);return o.add({}).next((function(s){Yh("number"==typeof s);var u,c=new $y(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return sy(e.oe,t)})),i=n.mutations.map((function(t){return sy(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,c),f=[],h=new rv((function(e,t){return ld(e.canonicalString(),t.canonicalString())})),d=Xe(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Ty(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Iy))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[s]=c.keys()})),Rd.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Jg(e).get(t).next((function(e){return e?(Yh(e.userId===n.userId),ag(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?Rd.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Jg(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Yh(t.batchId>=r),a=ag(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Jg(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jg(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return ag(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Cy(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Zg(e).X({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=Sy(l);if(u===n.userId&&t.path.isEqual(h))return Jg(e).get(f).next((function(e){if(!e)throw Qh();Yh(e.userId===n.userId),a.push(ag(n.Tt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new rv(ld),i=[];return t.forEach((function(t){var a=Cy(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Zg(e).X({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=Sy(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),Rd.waitFor(i).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Cy(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new rv(ld);return Zg(e).X({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=Sy(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Rn(e,s)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Jg(e).get(t).next((function(e){if(null===e)throw Qh();Yh(e.userId===n.userId),r.push(ag(n.Tt,e))})))})),Rd.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Qg(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.bn(t.batchId)})),Rd.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"bn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Rd.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Zg(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Sy(e[1]);i.push(a)}else r.done()})).next((function(){Yh(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Xg(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return eb(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return Yh(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Xg(e,t,n){var r=Cy(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Zg(e).X({range:a,Z:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Jg(e){return Yy(e,"mutations")}function Zg(e){return Yy(e,"documentMutations")}function eb(e){return Yy(e,"mutationQueues")}var tb=function(){function e(t){wi(this,e),this.Pn=t}return xi(e,[{key:"next",value:function(){return this.Pn+=2,this.Pn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),nb=function(){function e(t,n){wi(this,e),this.referenceDelegate=t,this.Tt=n}return xi(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new tb(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return pd.fromTimestamp(new dd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return rb(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return Yh(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return rb(e).X((function(o,s){var u=og(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Rd.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return rb(e).X((function(e,n){var r=og(n);t(r)}))}},{key:"Dn",value:function(e){return ib(e).get("targetGlobalKey").next((function(e){return Yh(null!==e),e}))}},{key:"Cn",value:function(e,t){return ib(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return rb(e).put(sg(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=hv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return rb(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=og(n);dv(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ab(e);return t.forEach((function(t){var o=wy(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Rd.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ab(e);return Rd.forEach(t,(function(t){var a=wy(t.path);return Rd.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ab(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ab(e),i=Nm();return r.X({range:n,Z:!0},(function(e,t,n){var r=Sy(e[1]),a=new bd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=wy(t.path),r=IDBKeyRange.bound([n],[hd(n)],!1,!0),i=0;return ab(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ie",value:function(e,t){return rb(e).get(t).next((function(e){return e?og(e):null}))}}]),e}();function rb(e){return Yy(e,"targets")}function ib(e){return Yy(e,"targetGlobal")}function ab(e){return Yy(e,"targetDocuments")}function ob(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=ld(r,o);return 0===u?ld(i,s):u}var sb=function(){function e(t){wi(this,e),this.kn=t,this.buffer=new rv(ob),this.On=0}return xi(e,[{key:"Mn",value:function(){return++this.On}},{key:"Fn",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ob(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ub=function(){function e(t,n,r){wi(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.$n=null}return xi(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.$n&&(this.$n.cancel(),this.$n=null)}},{key:"started",get:function(){return null!==this.$n}},{key:"Bn",value:function(e){var t=this;Wh("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$n=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!jd(e.t0)){e.next=12;break}Wh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Dd(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),cb=function(){function e(t,n){wi(this,e),this.Ln=t,this.params=n}return xi(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Rd.resolve(Hd.at);var r=new sb(t);return this.Ln.forEachTarget(e,(function(e){return r.Fn(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.Fn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Wh("LruGarbageCollector","Garbage collection skipped; disabled"),Rd.resolve(Gg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Wh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Gg):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Wh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),qh()<=ss.DEBUG&&Wh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Rd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),lb=function(){function e(t,n){wi(this,e),this.db=t,this.garbageCollector=function(e,t){return new cb(e,t)}(this,n)}return xi(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return fb(e,n)}},{key:"removeReference",value:function(e,t,n){return fb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return fb(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return eb(e).tt((function(r){return Xg(e,r,t).next((function(e){return e&&(n=!0),Rd.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,s){if(s<=t){var u=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,pd.min()),ab(e).delete([0,wy(o.path)])}))}));i.push(u)}})).next((function(){return Rd.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return fb(e,t)}},{key:"Qn",value:function(e,t){var n,r=ab(e),i=Hd.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Hd.at&&t(new bd(Sy(n)),i),i=u,n=s):i=Hd.at})).next((function(){i!==Hd.at&&t(new bd(Sy(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function fb(e,t){return ab(e).put(function(e,t){return{targetId:0,path:wy(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var hb=function(){function e(){wi(this,e),this.changes=new bm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return xi(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,cv.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Rd.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),db=function(){function e(t){wi(this,e),this.Tt=t}return xi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return yb(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return yb(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ng(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=cv.newInvalidDocument(t);return yb(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(gb(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:cv.newInvalidDocument(t)};return yb(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(gb(t))},(function(e,i){r={document:n.Wn(t,i),size:Yg(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=wm();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=wm(),i=new ev(bd.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,Yg(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return Rd.resolve();var r=new rv(kb);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(gb(r.first()),gb(r.last())),a=r.getIterator(),o=a.getNext();return yb(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=bd.fromSegments([].concat(Ze(t.prefixPath),[t.collectionGroup,t.documentId]));o&&kb(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(gb(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),ng(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yb(e).W(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=wm(),o=Xe(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.Wn(bd.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(Pv(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=wm(),o=bb(t,n),s=bb(t,Td.max());return yb(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Wn(bd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new vb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return mb(e).get("remoteDocumentGlobalKey").next((function(e){return Yh(!!e),e}))}},{key:"zn",value:function(e,t){return mb(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ay(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=bd.fromSegments(t.noDocument.path),i=ig(t.noDocument.readTime);n=cv.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Qh();var a=bd.fromSegments(t.unknownDocument.path),o=ig(t.unknownDocument.version);n=cv.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new dd(e[0],e[1]);return pd.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(pd.min()))return n}return cv.newInvalidDocument(e)}}]),e}();function pb(e){return new db(e)}var vb=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new bm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return xi(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new rv((function(e,t){return ld(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=tg(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=Yg(u);r+=c-s.size,n.push(t.Xn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=tg(t.Xn.Tt,o.convertToNoDocument(pd.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),Rd.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(hb);function mb(e){return Yy(e,"remoteDocumentGlobal")}function yb(e){return Yy(e,"remoteDocumentsV14")}function gb(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function bb(e,t){var n=t.documentKey.path.toArray();return[e,ng(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function kb(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=ld(n[a],r[a]))return i;return(i=ld(n.length,r.length))||((i=ld(n[n.length-2],r[r.length-2]))||ld(n[n.length-1],r[r.length-1]))}var wb=xi((function e(t,n){wi(this,e),this.overlayedDocument=t,this.mutatedFields=n})),_b=function(){function e(t,n,r,i){wi(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return xi(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&im(r.mutation,e,ov.empty(),dd.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Nm()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nm(),i=Em();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=xm();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Em();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Nm())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=wm(),a=Tm(),o=Tm();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof um)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),im(o.mutation,t,o.mutation.getFieldMask(),dd.now())):a.set(t.key,ov.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new wb(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Tm(),i=new ev((function(e,t){return e-t})),a=Nm();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Xe(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ov.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Nm()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Cm();c.forEach((function(e){if(!a.has(e)){var n=nm(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Rd.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return bd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Rd.resolve(Em()),s=-1,u=a;return o.next((function(t){return Rd.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Rd.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Nm())})).next((function(e){return{batchId:s,changes:Sm(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new bd(t)).next((function(e){var t=xm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=xm();return this.indexManager.getCollectionParents(e,i).next((function(o){return Rd.forEach(o,(function(o){var s=function(e,t){return new gv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,cv.newInvalidDocument(r)))}));var n=xm();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&im(a.mutation,i,ov.empty(),dd.now()),Pv(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),xb=function(){function e(t){wi(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return xi(e,[{key:"getBundleMetadata",value:function(e,t){return Rd.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:Ym(n.createTime)}),Rd.resolve()}},{key:"getNamedQuery",value:function(e,t){return Rd.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:ug(e.bundledQuery),readTime:Ym(e.readTime)}}(t)),Rd.resolve()}}]),e}(),Sb=function(){function e(){wi(this,e),this.overlays=new ev(bd.comparator),this.ss=new Map}return xi(e,[{key:"getOverlay",value:function(e,t){return Rd.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Em();return Rd.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),Rd.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),Rd.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Em(),i=t.length+1,a=new bd(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Rd.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ev((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Em(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Em(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Rd.resolve(u)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Jy(t,n));var a=this.ss.get(t);void 0===a&&(a=Nm(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),Eb=function(){function e(){wi(this,e),this.rs=new rv(Cb.os),this.us=new rv(Cb.cs)}return xi(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Cb(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new Cb(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new bd(new md([])),r=new Cb(n,e),i=new Cb(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new bd(new md([])),n=new Cb(t,e),r=new Cb(t,e+1),i=Nm();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Cb(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Cb=function(){function e(t,n){wi(this,e),this.key=t,this.gs=n}return xi(e,null,[{key:"os",value:function(e,t){return bd.comparator(e.key,t.key)||ld(e.gs,t.gs)}},{key:"cs",value:function(e,t){return ld(e.gs,t.gs)||bd.comparator(e.key,t.key)}}]),e}(),Tb=function(){function e(t,n){wi(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new rv(Cb.os)}return xi(e,[{key:"checkEmpty",value:function(e){return Rd.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new $y(i,t,n,r);this.mutationQueue.push(a);var o,s=Xe(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ps=this.ps.add(new Cb(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Rd.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Rd.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return Rd.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Rd.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return Rd.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Cb(t,0),i=new Cb(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),Rd.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new rv(ld);return t.forEach((function(e){var t=new Cb(e,0),i=new Cb(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),Rd.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;bd.isDocumentKey(i)||(i=i.child(""));var a=new Cb(new bd(i),0),o=new rv(ld);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),Rd.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Yh(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return Rd.forEach(t.mutations,(function(i){var a=new Cb(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"bn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Cb(t,0),r=this.ps.firstAfterOrEqual(n);return Rd.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Rd.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ib=function(){function e(t){wi(this,e),this.Rs=t,this.docs=new ev(bd.comparator),this.size=0}return xi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Rd.resolve(n?n.document.mutableCopy():cv.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=wm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():cv.newInvalidDocument(e))})),Rd.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=wm(),a=t.path,o=new bd(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Id(Cd(l),n)<=0||(r.has(l.key)||Pv(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Rd.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Qh()}},{key:"bs",value:function(e,t){return Rd.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ab(this)}},{key:"getSize",value:function(e){return Rd.resolve(this.size)}}]),e}(),Ab=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),(r=t.call(this)).Xn=e,r}return xi(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),Rd.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(hb),Nb=function(){function e(t){wi(this,e),this.persistence=t,this.vs=new bm((function(e){return hv(e)}),dv),this.lastRemoteSnapshotVersion=pd.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new Eb,this.targetCount=0,this.Ss=tb.Vn()}return xi(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),Rd.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Rd.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Rd.resolve(this.Ps)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),Rd.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ps&&(this.Ps=t),Rd.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new tb(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,Rd.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),Rd.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Rd.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Rd.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Rd.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return Rd.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),Rd.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Rd.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),Rd.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return Rd.resolve(n)}},{key:"containsKey",value:function(e,t){return Rd.resolve(this.Vs.containsKey(t))}}]),e}(),Db=function(){function e(t,n){var r=this;wi(this,e),this.Ds={},this.overlays={},this.Cs=new Hd(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new Nb(this),this.indexManager=new Fg,this.remoteDocumentCache=new Ib((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new eg(n),this.Os=new xb(this.Tt)}return xi(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Sb,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new Tb(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;Wh("MemoryPersistence","Starting transaction:",e);var i=new Pb(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Fs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e,t){return Rd.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Pb=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return xi(n)}(Nd),Rb=function(){function e(t){wi(this,e),this.persistence=t,this.Bs=new Eb,this.Ls=null}return xi(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw Qh()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),Rd.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),Rd.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),Rd.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Fs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rd.forEach(this.Us,(function(r){var i=bd.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,pd.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return Rd.or([function(){return Rd.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.$s(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),Ob=function(){function e(t){wi(this,e),this.Tt=t}return xi(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Od("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ey,{unique:!0}),e.createObjectStore("documentMutations")}(e),Mb(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Rd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Mb(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ey,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Rd.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Vy});t.createIndex("collectionPathOverlayIndex",zy,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Uy,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ay});t.createIndex("documentKeyIndex",Ny),t.createIndex("collectionGroupIndex",Dy)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ly}).createIndex("sequenceNumberIndex",Fy,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:jy}).createIndex("documentKeyIndex",By,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Yg(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Rd.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Rd.forEach(r,(function(r){Yh(r.userId===n.userId);var i=ag(t.Tt,r);return Qg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new md(n),o=function(e){return[0,wy(e)]}(a);r.push(t.get(o).next((function(n){return n?Rd.resolve():function(n){return t.put({targetId:0,path:wy(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Rd.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:My});var n=t.store("collectionParents"),r=new jg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:wy(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new md(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Sy(r));return i(a.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=og(r),a=sg(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new bd(md.fromString(i.document.name).popFirst(5)):i.noDocument?bd.fromSegments(i.noDocument.path):i.unknownDocument?bd.fromSegments(i.unknownDocument.path):Qh()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Rd.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=pb(this.Tt),a=new Db(Rb.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Nm();ag(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Rd.forEach(r,(function(e,r){var o=new Vh(r),s=vg.ue(n.Tt,o),u=a.getIndexManager(o),c=$g.ue(o,n.Tt,u,a.referenceDelegate);return new _b(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Qy(t,Hd.at),e).next()}))}))}}]),e}();function Mb(e){e.createObjectStore("targetDocuments",{keyPath:Ry}).createIndex("documentTargetsIndex",Oy,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Py,{unique:!0}),e.createObjectStore("targetGlobal")}var Lb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Fb=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(wi(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=s,this.Zs=c,this.Xs=l,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new Jh(Xh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lb(this,i),this.oi=n+"main",this.Tt=new eg(u),this.ui=new Md(this.oi,this.ti,new Ob(this.Tt)),this.Ns=new nb(this.referenceDelegate,this.Tt),this.remoteDocumentCache=pb(this.Tt),this.Os=new hg,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===l&&Hh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return xi(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Jh(Xh.FAILED_PRECONDITION,Lb);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new Hd(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=oo(io().mark((function n(r){return io().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=oo(io().mark((function t(n){return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Bb(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(jd(t))return Wh("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Wh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return jb(e).get("owner").next((function(e){return Rd.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return Bb(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=oo(io().mark((function e(){var t,n,r,i,a=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Yy(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Rd.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=Xe(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?Rd.resolve(!0):jb(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new Jh(Xh.FAILED_PRECONDITION,Lb);return!1}}return!(!t.networkEnabled||!t.inForeground)||Bb(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Wh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=oo(io().mark((function e(){var t=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.bi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.Pi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Qy(e,Hd.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Bb(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return $g.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Vg(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return vg.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;Wh("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ti)?Ky:14===i?Gy:13===i?Hy:12===i?Wy:11===i?qy:void Qh();return this.ui.runTransaction(e,o,s,(function(i){return a=new Qy(i,r.Cs?r.Cs.next():Hd.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw Hh("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new Jh(Xh.FAILED_PRECONDITION,Ad);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return jb(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Jh(Xh.FAILED_PRECONDITION,Lb)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jb(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=jb(e);return n.get("owner").next((function(e){return t.yi(e)?(Wh("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Rd.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Hh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.bi(),To()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"Pi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Wh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Hh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"bi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(Et){Hh("Failed to set zombie client id.",Et)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(Et){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Md.C()}}]),e}();function jb(e){return Yy(e,"owner")}function Bb(e){return Yy(e,"clientMetadata")}function Vb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var zb=function(){function e(t,n,r,i){wi(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return xi(e,null,[{key:"Ni",value:function(t,n){var r,i=Nm(),a=Nm(),o=Xe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ub=function(){function e(){wi(this,e),this.ki=!1}return xi(e,[{key:"initialize",value:function(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Fi(e,t,r,n)})).next((function(n){return n||i.$i(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(wv(t))return Rd.resolve(null);var r=Cv(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Iv(t,null,"F"),r=Cv(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Nm.apply(void 0,Ze(i));return n.Oi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,Iv(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Fi",value:function(e,t,n,r){var i=this;return wv(t)||r.isEqual(pd.min())?this.$i(e,t):this.Oi.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.$i(e,t):(qh()<=ss.DEBUG&&Wh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dv(t)),i.qi(e,o,t,Ed(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new rv(Ov(e));return t.forEach((function(t,r){Pv(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"$i",value:function(e,t){return qh()<=ss.DEBUG&&Wh("QueryEngine","Using full collection scan to execute query:",Dv(t)),this.Oi.getDocumentsMatchingQuery(e,t,Td.min())}},{key:"qi",value:function(e,t,n,r){return this.Oi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),qb=function(){function e(t,n,r,i){wi(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new ev(ld),this.Gi=new bm((function(e){return hv(e)}),dv),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}return xi(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _b(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function Wb(e,t,n,r){return new qb(e,t,n,r)}function Hb(e,t){return Gb.apply(this,arguments)}function Gb(){return Gb=oo(io().mark((function e(t,n){var r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$h(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Nm(),u=Xe(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Xe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=Xe(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Xe(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Gb.apply(this,arguments)}function Kb(e,t){var n=$h(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Rd.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Yh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Nm(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Qb(e){var t=$h(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function Yb(e,t){var n=$h(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(tp.EMPTY_BYTE_STRING,pd.min()).withLastLimboFreeSnapshotVersion(pd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var s=wm(),u=Nm();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($b(e,a,t.documentUpdates).next((function(e){s=e.Hi,u=e.Ji}))),!r.isEqual(pd.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Rd.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ki=i,e}))}function $b(e,t,n){var r=Nm(),i=Nm();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=wm();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(pd.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Wh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function Xb(e,t){var n=$h(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Jb(e,t){var n=$h(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,Rd.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new Zy(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function Zb(e,t,n){return ek.apply(this,arguments)}function ek(){return ek=oo(io().mark((function e(t,n,r){var i,a,o;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$h(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),jd(e.t1)){e.next=12;break}throw e.t1;case 12:Wh("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ek.apply(this,arguments)}function tk(e,t,n){var r=$h(e),i=pd.min(),a=Nm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=$h(e),i=r.Gi.get(n);return void 0!==i?Rd.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,Cv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:pd.min(),n?a:Nm())})).next((function(e){return ik(r,Rv(t),e),{documents:e,Yi:a}}))}))}function nk(e,t){var n=$h(e),r=$h(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function rk(e,t){var n=$h(e),r=n.Qi.get(t)||pd.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,Ed(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ik(n,t,e),e}))}function ik(e,t,n){var r=e.Qi.get(t)||pd.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function ak(e,t,n,r){return ok.apply(this,arguments)}function ok(){return ok=oo(io().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=$h(t),o=Nm(),s=wm(),u=Xe(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Zi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Xi(l)).setReadTime(n.tr(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,Jb(a,function(e){return Cv(kv(md.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $b(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ns.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)}))),ok.apply(this,arguments)}function sk(e,t){return uk.apply(this,arguments)}function uk(){return uk=oo(io().mark((function e(t,n){var r,i,a,o=arguments;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Nm(),e.next=3,Jb(t,Cv(ug(n.bundledQuery)));case 3:return i=e.sent,a=$h(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ym(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Os.saveNamedQuery(e,n);var o=i.withResumeToken(tp.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Os.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),uk.apply(this,arguments)}function ck(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function lk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function fk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var hk=function(){function e(t,n,r,i){wi(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return xi(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Jh(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Hh("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),dk=function(){function e(t,n,r){wi(this,e),this.targetId=t,this.state=n,this.error=r}return xi(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Jh(i.error.code,i.error.message))),a?new e(t,i.state,r):(Hh("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),pk=function(){function e(t,n){wi(this,e),this.clientId=t,this.activeTargetIds=n}return xi(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Pm(),o=0;i&&o<r.activeTargetIds.length;++o)i=Zd(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Hh("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),vk=function(){function e(t,n){wi(this,e),this.clientId=t,this.onlineState=n}return xi(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Hh("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),mk=function(){function e(){wi(this,e),this.activeTargetIds=Pm()}return xi(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),yk=function(){function e(t,n,r,i,a){wi(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new ev(ld),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=ck(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new mk),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return xi(e,[{key:"start",value:function(){var e=oo(io().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=Xe(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ck(this.persistenceKey,i)))&&(o=pk.er(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(s=this.storage.getItem(this.gr))&&(u=this.Ir(s))&&this.Tr(u),c=Xe(this.hr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.cr(f)}catch(d){c.e(d)}finally{c.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(fk(this.persistenceKey,e));if(n){var r=dk.er(e,n);r&&(t=r.state)}}return this.br.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.br.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(fk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Wh("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Wh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Wh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Wh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void Hh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(oo(io().mark((function e(){var r,i,a,o,s,u,c;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Or(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(s));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}u=function(e){var t=Hd.at;if(null!=e)try{var n=JSON.parse(e);Yh("number"==typeof n),t=n}catch(e){Hh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Hd.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return c=t.Fr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.$r(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"br",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.br.nr())}},{key:"Ar",value:function(e,t,n){var r=new hk(this.currentUser,e,t,n),i=lk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=lk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=fk(this.persistenceKey,e),i=new dk(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return pk.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hk.er(new Vh(i),r,t)}},{key:"Or",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return dk.er(r,t)}},{key:"Ir",value:function(e){return vk.er(e)}},{key:"Fr",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=oo(io().mark((function e(t){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:Wh("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.qr(o,s).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=Pm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),gk=function(){function e(){wi(this,e),this.Ur=new mk,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return xi(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new mk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),bk=function(){function e(){wi(this,e)}return xi(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),kk=function(){function e(){var t=this;wi(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return xi(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){Wh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Xe(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Wh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Xe(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),wk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},_k=function(){function e(t){wi(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return xi(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),xk=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return xi(n,[{key:"wo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new jh;o.setWithCredentials(!0),o.listenOnce(Rh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ph.NO_ERROR:var t=o.getResponseJson();Wh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ph.TIMEOUT:Wh("Connection",'RPC "'+e+'" timed out'),a(new Jh(Xh.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:var n=o.getStatus();if(Wh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xh).indexOf(t)>=0?t:Xh.UNKNOWN}(s.status);a(new Jh(u,s.message))}else a(new Jh(Xh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Jh(Xh.UNAVAILABLE,"Connection failed."));break;default:Qh()}}finally{Wh("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Nh(),a=Dh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Lh({})),this._o(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Wh("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new _k({Yr:function(e){l?Wh("Connection","Not sending because WebChannel is closed:",e):(c||(Wh("Connection","Opening WebChannel transport."),u.open(),c=!0),Wh("Connection","WebChannel sending:",e),u.send(e))},Zr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Fh.EventType.OPEN,(function(){l||Wh("Connection","WebChannel transport opened.")})),h(u,Fh.EventType.CLOSE,(function(){l||(l=!0,Wh("Connection","WebChannel transport closed"),f.oo())})),h(u,Fh.EventType.ERROR,(function(e){l||(l=!0,Gh("Connection","WebChannel transport errored:",e),f.oo(new Jh(Xh.UNAVAILABLE,"The operation could not be completed")))})),h(u,Fh.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Yh(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Wh("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=hm[e];if(void 0!==t)return gm(t)}(a),s=i.message;void 0===o&&(o=Xh.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.oo(new Jh(o,s)),u.close()}else Wh("Connection","WebChannel received:",n),f.uo(n)}})),h(a,Oh.STAT_EVENT,(function(e){e.stat===Mh.PROXY?Wh("Connection","Detected buffering proxy"):e.stat===Mh.NOPROXY&&Wh("Connection","Detected no buffering proxy")})),setTimeout((function(){f.ro()}),0),f}}]),n}(function(){function e(t){wi(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return xi(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=this.fo(e,t);Wh("RestConnection","Sending: ",a,n);var o={};return this._o(o,r,i),this.wo(e,a,o,n).then((function(e){return Wh("RestConnection","Received: ",e),e}),(function(t){throw Gh("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+zh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=wk[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function Sk(){return"undefined"!=typeof window?window:null}function Ek(){return"undefined"!=typeof document?document:null}function Ck(e){return new Hm(e,!0)}var Tk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;wi(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return xi(e,[{key:"reset",value:function(){this.Eo=0}},{key:"bo",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&Wh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"Po",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),Ik=function(){function e(t,n,r,i,a,o,s,u){wi(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Tk(t,n)}return xi(e,[{key:"Oo",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Fo()}},{key:"stop",value:function(){var e=oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=oo(io().mark((function e(t,n){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===Xh.RESOURCE_EXHAUSTED?(Hh(n.toString()),Hh("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===Xh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new Jh(Xh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Fo",value:function(){var e=this;this.state=5,this.ko.vo(oo(io().mark((function t(){return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return Wh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(Wh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ak=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i,a,o,s){var u;return wi(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).Tt=o,u}return xi(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Qh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(Yh(void 0===t||"string"==typeof t),tp.fromBase64String(t||"")):(Yh(void 0===t||t instanceof Uint8Array),tp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Xh.UNKNOWN:gm(e.code);return new Jh(t,e.message||"")}(o);n=new Fm(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Zm(e,u.document.name),l=Ym(u.document.updateTime),f=u.document.createTime?Ym(u.document.createTime):pd.min(),h=new sv({mapValue:{fields:u.document.fields}}),d=cv.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Mm(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Zm(e,m.document),g=m.readTime?Ym(m.readTime):pd.min(),b=cv.newNoDocument(y,g),k=m.removedTargetIds||[];n=new Mm([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=Zm(e,w.document),x=w.removedTargetIds||[];n=new Mm([],x,_,null)}else{if(!("filter"in t))return Qh();t.filter;var S=t.filter;S.targetId;var E=S.count||0,C=new mm(E),T=S.targetId;n=new Lm(T,C)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return pd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?pd.min():t.readTime?Ym(t.readTime):pd.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=ny(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=pv(r)?{documents:cy(e,r)}:{query:ly(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Km(e,t.resumeToken):t.snapshotVersion.compareTo(pd.min())>0&&(n.readTime=Gm(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=ny(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(Ik),Nk=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i,a,o,s){var u;return wi(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).Tt=o,u.Zo=!1,u}return xi(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,Ru(Ci(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(Yh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(Yh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ym(e.updateTime):Ym(t);return n.isEqual(pd.min())&&(n=Ym(t)),new Jv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ym(e.commitTime);return this.listener.eu(n,t)}return Yh(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=ny(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return sy(t.Tt,e)}))};this.qo(n)}}]),n}(Ik),Dk=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i,a){var o;return wi(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return xi(n,[{key:"ru",value:function(){if(this.iu)throw new Jh(Xh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.lo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Xh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Jh(Xh.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection.mo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Xh.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Jh(Xh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return xi((function e(){wi(this,e)}))}());var Pk=function(){function e(t,n){wi(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return xi(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(Hh(t),this.cu=!1):Wh("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),Rk=xi((function e(t,n,r,i,a){var o=this;wi(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Wk(o),!e.t0){e.next=5;break}return Wh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=oo(io().mark((function e(t){var n;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$h(t)).mu.add(4),e.next=4,Lk(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,Ok(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new Pk(r,i)}));function Ok(e){return Mk.apply(this,arguments)}function Mk(){return Mk=oo(io().mark((function e(t){var n,r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wk(t)){e.next=18;break}n=Xe(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Mk.apply(this,arguments)}function Lk(e){return Fk.apply(this,arguments)}function Fk(){return Fk=oo(io().mark((function e(t){var n,r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Xe(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Fk.apply(this,arguments)}function jk(e,t){var n=$h(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),qk(n)?Uk(n):bw(n).Mo()&&Vk(n,t))}function Bk(e,t){var n=$h(e),r=bw(n);n.wu.delete(t),r.Mo()&&zk(n,t),0===n.wu.size&&(r.Mo()?r.Bo():Wk(n)&&n.pu.set("Unknown"))}function Vk(e,t){e.Iu.Ft(t.targetId),bw(e).Jo(t)}function zk(e,t){e.Iu.Ft(t),bw(e).Yo(t)}function Uk(e){e.Iu=new Bm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),bw(e).start(),e.pu.au()}function qk(e){return Wk(e)&&!bw(e).Oo()&&e.wu.size>0}function Wk(e){return 0===$h(e).mu.size}function Hk(e){e.Iu=void 0}function Gk(e){return Kk.apply(this,arguments)}function Kk(){return Kk=oo(io().mark((function e(t){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){Vk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Kk.apply(this,arguments)}function Qk(e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=oo(io().mark((function e(t,n){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hk(t),qk(t)?(t.pu.fu(n),Uk(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}function $k(e,t,n){return Xk.apply(this,arguments)}function Xk(){return Xk=oo(io().mark((function e(t,n,r){var i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof Fm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=oo(io().mark((function e(t,n){var r,i,a,o;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Xe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Wh("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Jk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Mm?t.Iu.Qt(n):n instanceof Lm?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(pd.min())){e.next=29;break}return e.prev=14,e.next=17,Qb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(tp.EMPTY_BYTE_STRING,n.snapshotVersion)),zk(e,t);var r=new Zy(n.target,t,1,n.sequenceNumber);Vk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Wh("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Jk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Xk.apply(this,arguments)}function Jk(e,t,n){return Zk.apply(this,arguments)}function Zk(){return Zk=oo(io().mark((function e(t,n,r){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jd(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,Lk(t);case 5:t.pu.set("Offline"),r||(r=function(){return Qb(t.localStore)}),t.asyncQueue.enqueueRetryable(oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,Ok(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function ew(e,t){return t().catch((function(n){return Jk(e,n,t)}))}function tw(e){return nw.apply(this,arguments)}function nw(){return nw=oo(io().mark((function e(t){var n,r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$h(t),r=kw(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!rw(n)){e.next=19;break}return e.prev=3,e.next=6,Xb(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,iw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Jk(n,e.t0);case 17:e.next=2;break;case 19:aw(n)&&ow(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),nw.apply(this,arguments)}function rw(e){return Wk(e)&&e._u.length<10}function iw(e,t){e._u.push(t);var n=kw(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function aw(e){return Wk(e)&&!kw(e).Oo()&&e._u.length>0}function ow(e){kw(e).start()}function sw(e){return uw.apply(this,arguments)}function uw(){return uw=oo(io().mark((function e(t){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kw(t).su();case 1:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function cw(e){return lw.apply(this,arguments)}function lw(){return lw=oo(io().mark((function e(t){var n,r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kw(t),r=Xe(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}function fw(e,t,n){return hw.apply(this,arguments)}function hw(){return hw=oo(io().mark((function e(t,n,r){var i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=Xy.from(i,n,r),e.next=3,ew(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,tw(t);case 5:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(e,t){return pw.apply(this,arguments)}function pw(){return pw=oo(io().mark((function e(t,n){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&kw(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=oo(io().mark((function e(t,n){var r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ym(i=n.code)||i===Xh.ABORTED){e.next=7;break}return r=t._u.shift(),kw(t).$o(),e.next=5,ew(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,tw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:aw(t)&&ow(t);case 5:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t){return mw.apply(this,arguments)}function mw(){return mw=oo(io().mark((function e(t,n){var r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=$h(t)).asyncQueue.verifyOperationInProgress(),Wh("RemoteStore","RemoteStore received new credentials"),i=Wk(r),r.mu.add(3),e.next=6,Lk(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,Ok(r);case 12:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}function yw(e,t){return gw.apply(this,arguments)}function gw(){return gw=oo(io().mark((function e(t,n){var r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$h(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,Ok(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,Lk(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),gw.apply(this,arguments)}function bw(e){return e.Tu||(e.Tu=function(e,t,n){var r=$h(e);return r.ru(),new Ak(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Gk.bind(null,e),no:Qk.bind(null,e),Ho:$k.bind(null,e)}),e.gu.push(function(){var t=oo(io().mark((function t(n){return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.$o(),qk(e)?Uk(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:Hk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function kw(e){return e.Eu||(e.Eu=function(e,t,n){var r=$h(e);return r.ru(),new Nk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:sw.bind(null,e),no:dw.bind(null,e),nu:cw.bind(null,e),eu:fw.bind(null,e)}),e.gu.push(function(){var t=oo(io().mark((function t(n){return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.$o(),t.next=4,tw(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(Wh("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var ww=function(){function e(t,n,r,i,a){wi(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Zh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return xi(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jh(Xh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function _w(e,t){if(Hh("AsyncQueue","".concat(t,": ").concat(e)),jd(e))return new Jh(Xh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var xw=function(){function e(t){wi(this,e),this.comparator=t?function(e,n){return t(e,n)||bd.comparator(e.key,n.key)}:function(e,t){return bd.comparator(e.key,t.key)},this.keyedMap=xm(),this.sortedSet=new ev(this.comparator)}return xi(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Sw=function(){function e(){wi(this,e),this.Au=new ev(bd.comparator)}return xi(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Qh():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ew=function(){function e(t,n,r,i,a,o,s,u,c){wi(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return xi(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Av(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,xw.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Cw=xi((function e(){wi(this,e),this.bu=void 0,this.listeners=[]})),Tw=xi((function e(){wi(this,e),this.queries=new bm((function(e){return Nv(e)}),Av),this.onlineState="Unknown",this.vu=new Set}));function Iw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=oo(io().mark((function e(t,n){var r,i,a,o,s;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$h(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Cw),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.bu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=_w(e.t0,"Initialization of query '".concat(Dv(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.bu&&n.Vu(o.bu)&&Ow(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Aw.apply(this,arguments)}function Nw(e,t){return Dw.apply(this,arguments)}function Dw(){return Dw=oo(io().mark((function e(t,n){var r,i,a,o,s;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$h(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Dw.apply(this,arguments)}function Pw(e,t){var n,r=$h(e),i=!1,a=Xe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Xe(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.bu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ow(r)}function Rw(e,t,n){var r=$h(e),i=r.queries.get(t);if(i){var a,o=Xe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Ow(e){e.vu.forEach((function(e){e.next()}))}var Mw=function(){function e(t,n,r){wi(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return xi(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Xe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ew(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ou||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=Ew.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),Lw=function(){function e(t,n){wi(this,e),this.Mu=t,this.byteLength=n}return xi(e,[{key:"Fu",value:function(){return"metadata"in this.Mu}}]),e}(),Fw=function(){function e(t){wi(this,e),this.Tt=t}return xi(e,[{key:"Zi",value:function(e){return Zm(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?ay(this.Tt,e.document,!1):cv.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return Ym(e)}}]),e}(),jw=function(){function e(t,n,r){wi(this,e),this.$u=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bw(t)}return xi(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=md.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new Fw(this.Tt),i=Xe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Zi(a.metadata.name),u=Xe(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Nm()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=oo(io().mark((function e(){var t,n,r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ak(this.localStore,new Fw(this.Tt),this.documents,this.$u.id);case 2:t=e.sent,n=this.Lu(this.documents),r=Xe(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,sk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Vw=xi((function e(t){wi(this,e),this.key=t})),zw=xi((function e(t){wi(this,e),this.key=t})),Uw=function(){function e(t,n){wi(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Nm(),this.mutatedKeys=Nm(),this.ju=Ov(t),this.zu=new xw(this.ju)}return xi(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new Sw,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Pv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ju(f,u)>0||c&&n.ju(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:s,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qh()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],s=0===this.Qu.size&&this.current?1:0,u=s!==this.Gu;return this.Gu=s,0!==a.length||u?{snapshot:new Ew(this.query,e.zu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new Sw,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=Nm(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new zw(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new Vw(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=Nm();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return Ew.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),qw=xi((function e(t,n,r){wi(this,e),this.query=t,this.targetId=n,this.view=r})),Ww=xi((function e(t){wi(this,e),this.key=t,this.ic=!1})),Hw=function(){function e(t,n,r,i,a,o){wi(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new bm((function(e){return Nv(e)}),Av),this.uc=new Map,this.cc=new Set,this.ac=new ev(bd.comparator),this.hc=new Map,this.lc=new Eb,this.fc={},this.dc=new Map,this._c=tb.Sn(),this.onlineState="Unknown",this.wc=void 0}return xi(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function Gw(e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=oo(io().mark((function e(t,n){var r,i,a,o,s,u;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=B_(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,Jb(r.localStore,Cv(n));case 8:return s=e.sent,r.isPrimaryClient&&jk(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Qw(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Qw(e,t,n,r,i){return Yw.apply(this,arguments)}function Yw(){return Yw=oo(io().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=oo(io().mark((function e(t,n,r,i){var a,o,s;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,tk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(v_(t,n.targetId,s.tc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,tk(t.localStore,n,!0);case 3:return o=e.sent,s=new Uw(n,o.Yi),u=s.Hu(o.documents),c=Om.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),v_(t,r,l.tc),f=new qw(n,r,s),e.abrupt("return",(t.oc.set(n,f),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function $w(e,t){return Xw.apply(this,arguments)}function Xw(){return Xw=oo(io().mark((function e(t,n){var r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$h(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!Av(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Zb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Bk(r.remoteStore,i.targetId),d_(r,i.targetId)})).catch(Dd);case 9:e.next=14;break;case 11:return d_(r,i.targetId),e.next=14,Zb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Jw(e,t,n){return Zw.apply(this,arguments)}function Zw(){return Zw=oo(io().mark((function e(t,n,r){var i,a,o;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=V_(t),e.prev=1,e.next=4,function(e,t){var n,r,i=$h(e),a=dd.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Nm());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=wm(),u=Nm();return i.ji.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Xe(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=am(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new um(c.key,l,uv(l.value.mapValue),Zv.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Sm(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new ev(ld)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,g_(i,a.changes);case 9:return e.next=11,tw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=_w(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Zw.apply(this,arguments)}function e_(e,t){return t_.apply(this,arguments)}function t_(){return t_=oo(io().mark((function e(t,n){var r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$h(t),e.prev=1,e.next=4,Yb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(Yh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?Yh(n.ic):e.removedDocuments.size>0&&(Yh(n.ic),n.ic=!1))})),e.next=8,g_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Dd(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),t_.apply(this,arguments)}function n_(e,t,n){var r=$h(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=$h(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Xe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ow(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function r_(e,t,n){return i_.apply(this,arguments)}function i_(){return i_=oo(io().mark((function e(t,n,r){var i,a,o,s,u,c;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=$h(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new ev(bd.comparator)).insert(o,cv.newNoDocument(o,pd.min())),u=Nm().add(o),c=new Rm(pd.min(),new Map,new rv(ld),s,u),e.next=9,e_(i,c);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),y_(i),e.next=16;break;case 14:return e.next=16,Zb(i.localStore,n,!1).then((function(){return d_(i,n,r)})).catch(Dd);case 16:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=oo(io().mark((function e(t,n){var r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$h(t),i=n.batch.batchId,e.prev=1,e.next=4,Kb(r.localStore,n);case 4:return a=e.sent,h_(r,i,null),f_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,g_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dd(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),o_.apply(this,arguments)}function s_(e,t,n){return u_.apply(this,arguments)}function u_(){return u_=oo(io().mark((function e(t,n,r){var i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$h(t),e.prev=1,e.next=4,function(e,t){var n=$h(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Yh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,h_(i,n,r),f_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,g_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dd(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),u_.apply(this,arguments)}function c_(e,t){return l_.apply(this,arguments)}function l_(){return l_=oo(io().mark((function e(t,n){var r,i,a,o;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wk((r=$h(t)).remoteStore)||Wh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=$h(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=_w(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),l_.apply(this,arguments)}function f_(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function h_(e,t,n){var r=$h(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function d_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Xe(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||p_(e,t)}))}function p_(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(Bk(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),y_(e))}function v_(e,t,n){var r,i=Xe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Vw?(e.lc.addReference(a.key,t),m_(e,a)):a instanceof zw?(Wh("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||p_(e,a.key)):Qh()}}catch(o){i.e(o)}finally{i.f()}}function m_(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(Wh("SyncEngine","New document in limbo: "+n),e.cc.add(r),y_(e))}function y_(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new bd(md.fromString(t)),r=e._c.next();e.hc.set(r,new Ww(n)),e.ac=e.ac.insert(n,r),jk(e.remoteStore,new Zy(Cv(kv(n.path)),r,2,Hd.at))}}function g_(e,t,n){return b_.apply(this,arguments)}function b_(){return b_=oo(io().mark((function e(t,n,r){var i,a,o,s;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$h(t),a=[],o=[],s=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){s.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=zb.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.rc.Ho(a),e.next=9,function(){var e=oo(io().mark((function e(t,n){var r,i,a,o,s,u,c,l;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$h(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Rd.forEach(n,(function(t){return Rd.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Rd.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),jd(e.t0)){e.next=10;break}throw e.t0;case 10:Wh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Xe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ki.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ki=r.Ki.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function k_(e,t){return w_.apply(this,arguments)}function w_(){return w_=oo(io().mark((function e(t,n){var r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=$h(t)).currentUser.isEqual(n)){e.next=11;break}return Wh("SyncEngine","User change. New user:",n.toKey()),e.next=5,Hb(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new Jh(Xh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,g_(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function __(e,t){var n=$h(e),r=n.hc.get(t);if(r&&r.ic)return Nm().add(r.key);var i=Nm(),a=n.uc.get(t);if(!a)return i;var o,s=Xe(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.oc.get(u);i=i.unionWith(c.view.Wu)}}catch(l){s.e(l)}finally{s.f()}return i}function x_(e,t){return S_.apply(this,arguments)}function S_(){return S_=oo(io().mark((function e(t,n){var r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$h(t),e.next=3,tk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&v_(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function E_(e,t){return C_.apply(this,arguments)}function C_(){return C_=oo(io().mark((function e(t,n){var r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$h(t),e.abrupt("return",rk(r.localStore,n).then((function(e){return g_(r,e)})));case 2:case"end":return e.stop()}}),e)}))),C_.apply(this,arguments)}function T_(e,t,n,r){return I_.apply(this,arguments)}function I_(){return I_=oo(io().mark((function e(t,n,r,i){var a,o;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$h(t),e.next=3,function(e,t){var n=$h(e),r=$h(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Rd.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,tw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(h_(a,n,i||null),f_(a,n),function(e,t){$h($h(e).mutationQueue).bn(t)}(a.localStore,n)):Qh();case 11:return e.next=13,g_(a,o);case 13:e.next=16;break;case 15:Wh("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}function A_(e,t){return N_.apply(this,arguments)}function N_(){return N_=oo(io().mark((function e(t,n){var r,i,a,o,s,u,c,l;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B_(r=$h(t)),V_(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,D_(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,yw(r.remoteStore,!0);case 9:o=Xe(a);try{for(o.s();!(s=o.n()).done;)u=s.value,jk(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return c=[],l=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return d_(r,t),Zb(r.localStore,t,!0)})),Bk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,D_(r,c);case 21:return function(e){var t=$h(e);t.hc.forEach((function(e,n){Bk(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new ev(bd.comparator)}(r),r.wc=!1,e.next=25,yw(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function D_(e,t,n){return P_.apply(this,arguments)}function P_(){return P_=oo(io().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=$h(t),a=[],o=[],s=Xe(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.uc.get(c))||0===f.length){e.next=34;break}return e.next=11,Jb(i.localStore,Cv(f[0]));case 11:l=e.sent,h=Xe(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.oc.get(p),e.next=20,x_(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,nk(i.localStore,c);case 36:return y=e.sent,e.next=39,Jb(i.localStore,y);case 39:return l=e.sent,e.next=42,Qw(i,R_(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),P_.apply(this,arguments)}function R_(e){return bv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function O_(e){var t=$h(e);return $h($h(t.localStore).persistence).Si()}function M_(e,t,n,r){return L_.apply(this,arguments)}function L_(){return L_=oo(io().mark((function e(t,n,r,i){var a,o,s,u;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=$h(t)).wc){e.next=3;break}return e.abrupt("return",void Wh("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.uc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,rk(a.localStore,Rv(o[0]));case 10:return s=e.sent,u=Rm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,tp.EMPTY_BYTE_STRING),e.next=14,g_(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Zb(a.localStore,n,!0);case 17:return d_(a,n,i),e.abrupt("break",20);case 19:Qh();case 20:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function F_(e,t,n){return j_.apply(this,arguments)}function j_(){return j_=oo(io().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=B_(t)).wc){e.next=45;break}a=Xe(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.uc.has(s)){e.next=10;break}return Wh("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,nk(i.localStore,s);case 12:return u=e.sent,e.next=15,Jb(i.localStore,u);case 15:return c=e.sent,e.next=18,Qw(i,R_(u),c.targetId,!1,c.resumeToken);case 18:jk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Xe(r),e.prev=30,h=io().mark((function e(){var t;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,Zb(i.localStore,t,!1).then((function(){Bk(i.remoteStore,t),d_(i,t)})).catch(Dd);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),j_.apply(this,arguments)}function B_(e){var t=$h(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=e_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=__.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=r_.bind(null,t),t.rc.Ho=Pw.bind(null,t.eventManager),t.rc.gc=Rw.bind(null,t.eventManager),t}function V_(e){var t=$h(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=a_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=s_.bind(null,t),t}function z_(e,t,n){var r=$h(e);(function(){var e=oo(io().mark((function e(t,n,r){var i,a,o,s,u;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=$h(e),r=Ym(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Os.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Bw(i)),a=new jw(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Bu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.yc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,g_(t,u.Uu,void 0);case 31:return e.next=33,function(e,t){var n=$h(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Os.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Gh("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var U_=function(){function e(){wi(this,e),this.synchronizeTabs=!1}return xi(e,[{key:"initialize",value:function(){var e=oo(io().mark((function e(t){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=Ck(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return Wb(this.persistence,new Ub,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new Db(Rb.qs,this.Tt)}},{key:"Ic",value:function(e){return new gk}},{key:"terminate",value:function(){var e=oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),q_=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i){var a;return wi(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return xi(n,[{key:"initialize",value:function(){var e=oo(io().mark((function e(t){var r=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ru(Ci(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,V_(this.bc.syncEngine);case 6:return e.next=8,tw(this.bc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return Wb(this.persistence,new Ub,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new ub(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new Wd(t,this.persistence);return new qd(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=Vb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Kg.withCacheSize(this.cacheSizeBytes):Kg.DEFAULT;return new Fb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Sk(),Ek(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new gk}}]),n}(U_),W_=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return xi(n,[{key:"initialize",value:function(){var e=oo(io().mark((function e(t){var r,i=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ru(Ci(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof yk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:T_.bind(null,r),Lr:M_.bind(null,r),qr:F_.bind(null,r),Si:O_.bind(null,r),$r:E_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=oo(io().mark((function e(t){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A_(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=Sk();if(!yk.C(t))throw new Jh(Xh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Vb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(q_),H_=function(){function e(){wi(this,e)}return xi(e,[{key:"initialize",value:function(){var e=oo(io().mark((function e(t,n){var r=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return n_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=k_.bind(null,this.syncEngine),e.next=12,yw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Tw}},{key:"createDatastore",value:function(e){var t,n=Ck(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xk(t));return function(e,t,n,r){return new Dk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return n_(o.syncEngine,e,0)},a=kk.C()?new kk:new bk,new Rk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Hw(e,t,n,r,i,a);return o&&(s.wc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=oo(io().mark((function e(t){var n;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$h(t),Wh("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,Lk(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function G_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return oo(io().mark((function r(){var i;return io().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var K_=function(){function e(t){wi(this,e),this.observer=t,this.muted=!1}return xi(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):Hh("Uncaught Error in snapshot listener:",e.toString())}},{key:"Pc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Q_=function(){function e(t,n){var r=this;wi(this,e),this.Vc=t,this.Tt=n,this.metadata=new Zh,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Fu()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return xi(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=oo(io().mark((function e(){var t,n,r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new Lw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=oo(io().mark((function e(){var t,n;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.Oc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=oo(io().mark((function e(t){var n;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Oc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Oc",value:function(){var e=oo(io().mark((function e(){var t,n;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Y_=function(){function e(t){wi(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return xi(e,[{key:"lookup",value:function(){var e=oo(io().mark((function e(t){var n,r=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Jh(Xh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=oo(io().mark((function e(t,n){var r,i,a,o,s,u;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$h(t),i=ny(r.Tt)+"/documents",a={documents:n.map((function(e){return Jm(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=oy(r.Tt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Yh(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new pm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=oo(io().mark((function e(){var t,n=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=bd.fromPath(t);n.mutations.push(new vm(r,n.precondition(r)))})),e.next=7,function(){var e=oo(io().mark((function e(t,n){var r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$h(t),i=ny(r.Tt)+"/documents",a={writes:n.map((function(e){return sy(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qh();t=pd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Jh(Xh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(pd.min())?Zv.exists(!1):Zv.updateTime(t):Zv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pd.min()))throw new Jh(Xh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zv.updateTime(t)}return Zv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),$_=function(){function e(t,n,r,i,a){wi(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new Tk(this.asyncQueue,"transaction_retry")}return xi(e,[{key:"run",value:function(){this.Mc-=1,this.Fc()}},{key:"Fc",value:function(){var e=this;this.ko.vo(oo(io().mark((function t(){var n,r;return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Y_(e.datastore),(r=e.$c(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"$c",value:function(e){try{var t=this.updateFunction(e);return!Xd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ym(t)}return!1}}]),e}(),X_=function(){function e(t,n,r,i){var a=this;wi(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vh.UNAUTHENTICATED,this.clientId=cd.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=oo(io().mark((function e(t){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wh("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Wh("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return xi(e,[{key:"getConfiguration",value:function(){var e=oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Jh(Xh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Zh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(oo(io().mark((function n(){var r;return io().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=_w(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function J_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=oo(io().mark((function e(t,n){var r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Wh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=oo(io().mark((function e(t){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Hb(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function ex(e,t){return tx.apply(this,arguments)}function tx(){return tx=oo(io().mark((function e(t,n){var r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,nx(t);case 3:return r=e.sent,Wh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return vw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return vw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e){return rx.apply(this,arguments)}function rx(){return rx=oo(io().mark((function e(t){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Wh("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,J_(t,new U_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e){return ax.apply(this,arguments)}function ax(){return ax=oo(io().mark((function e(t){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Wh("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ex(t,new H_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e){return nx(e).then((function(e){return e.persistence}))}function sx(e){return nx(e).then((function(e){return e.localStore}))}function ux(e){return ix(e).then((function(e){return e.remoteStore}))}function cx(e){return ix(e).then((function(e){return e.syncEngine}))}function lx(e){return ix(e).then((function(e){return e.datastore}))}function fx(e){return hx.apply(this,arguments)}function hx(){return hx=oo(io().mark((function e(t){var n,r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ix(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Gw.bind(null,n.syncEngine),r.onUnlisten=$w.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),hx.apply(this,arguments)}function dx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Zh;return e.asyncQueue.enqueueAndForget(oo(io().mark((function i(){return io().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new K_({next:function(a){t.enqueueAndForget((function(){return Nw(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Jh(Xh.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Jh(Xh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Mw(kv(n.path),a,{includeMetadataChanges:!0,Ou:!0});return Iw(e,o)},i.next=3,fx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function px(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Zh;return e.asyncQueue.enqueueAndForget(oo(io().mark((function i(){return io().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new K_({next:function(n){t.enqueueAndForget((function(){return Nw(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Jh(Xh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Mw(n,a,{includeMetadataChanges:!0,Ou:!0});return Iw(e,o)},i.next=3,fx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var vx=new Map;function mx(e,t,n){if(!n)throw new Jh(Xh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function yx(e,t,n,r){if(!0===t&&!0===r)throw new Jh(Xh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function gx(e){if(!bd.isDocumentKey(e))throw new Jh(Xh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bx(e){if(bd.isDocumentKey(e))throw new Jh(Xh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function kx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Qh()}function wx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jh(Xh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kx(e);throw new Jh(Xh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function _x(e,t){if(t<=0)throw new Jh(Xh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var xx=function(){function e(t){var n;if(wi(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Jh(Xh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Jh(Xh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,yx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return xi(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Sx=function(){function e(t,n,r,i){wi(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xx({}),this._settingsFrozen=!1}return xi(e,[{key:"app",get:function(){if(!this._app)throw new Jh(Xh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Jh(Xh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new td;switch(e.type){case"gapi":var t=e.client;return new ad(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Jh(Xh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=vx.get(e);t&&(Wh("ComponentProvider","Removing Datastore"),vx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ex(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=wx(e,Sx))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Gh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Vh.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vo(JSON.stringify({alg:"none",type:"JWT"})),vo(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Jh(Xh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Vh(u)}e._authCredentials=new nd(new ed(o,s))}}var Cx=function(){function e(t,n,r){wi(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return xi(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ix(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Tx=function(){function e(t,n,r){wi(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return xi(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ix=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i){var a;return wi(this,n),(a=t.call(this,e,r,kv(i)))._path=i,a.type="collection",a}return xi(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Cx(this.firestore,null,new bd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Tx);function Ax(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ts(e),mx("collection","path",t),e instanceof Sx){var a=md.fromString.apply(md,[t].concat(r));return bx(a),new Ix(e,null,a)}if(!(e instanceof Cx||e instanceof Ix))throw new Jh(Xh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(md.fromString.apply(md,[t].concat(r)));return bx(o),new Ix(e.firestore,null,o)}function Nx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ts(e),1===arguments.length&&(t=cd.R()),mx("doc","path",t),e instanceof Sx){var a=md.fromString.apply(md,[t].concat(r));return gx(a),new Cx(e,null,new bd(a))}if(!(e instanceof Cx||e instanceof Ix))throw new Jh(Xh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(md.fromString.apply(md,[t].concat(r)));return gx(o),new Cx(e.firestore,e instanceof Ix?e.converter:null,new bd(o))}function Dx(e,t){return e=ts(e),t=ts(t),(e instanceof Cx||e instanceof Ix)&&(t instanceof Cx||t instanceof Ix)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Px(e,t){return e=ts(e),t=ts(t),e instanceof Tx&&t instanceof Tx&&e.firestore===t.firestore&&Av(e._query,t._query)&&e.converter===t.converter}var Rx=function(){function e(){var t=this;wi(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Tk(this,"async_queue_retry"),this.Hc=function(){var e=Ek();e&&Wh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=Ek();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return xi(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=Ek();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new Zh;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=oo(io().mark((function e(){var t=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),jd(e.t0)){e.next=12;break}throw e.t0;case 12:Wh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Hh("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=ww.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&Qh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=oo(io().mark((function e(){var t;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=Xe(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Xe(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function Ox(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Xe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Mx=function(){function e(){wi(this,e),this._progressObserver={},this._taskCompletionResolver=new Zh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return xi(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Lx=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i,a){var o;return wi(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Rx,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return xi(n,[{key:"_terminate",value:function(){return this._firestoreClient||jx(this),this._firestoreClient.terminate()}}]),n}(Sx);function Fx(e){return e._firestoreClient||jx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jx(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Gd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new X_(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Bx(e,t,n){var r=new Zh;return e.asyncQueue.enqueue(oo(io().mark((function i(){var a;return io().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,J_(e,n);case 3:return i.next=5,ex(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Xh.FAILED_PRECONDITION||e.code===Xh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Gh("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Vx(e){return function(e){return e.asyncQueue.enqueue(oo(io().mark((function t(){var n,r;return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ox(e);case 2:return n=t.sent,t.next=5,ux(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=$h(e);return t.mu.delete(0),Ok(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Fx(e=wx(e,Lx)))}function zx(e){return function(e){return e.asyncQueue.enqueue(oo(io().mark((function t(){var n,r;return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ox(e);case 2:return n=t.sent,t.next=5,ux(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=oo(io().mark((function e(t){var n;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$h(t)).mu.add(0),e.next=4,Lk(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Fx(e=wx(e,Lx)))}function Ux(e,t){var n=Fx(e=wx(e,Lx)),r=new Mx;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Q_(e,t)}(function(e,t){if(e instanceof Uint8Array)return G_(e,t);if(e instanceof ArrayBuffer)return G_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ck(t));e.asyncQueue.enqueueAndForget(oo(io().mark((function t(){return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=z_,t.next=3,cx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function qx(e,t){return function(e,t){return e.asyncQueue.enqueue(oo(io().mark((function n(){return io().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=$h(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Os.getNamedQuery(e,t)}))},n.next=3,sx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Fx(e=wx(e,Lx)),t).then((function(t){return t?new Tx(e,null,t.query):null}))}function Wx(e){if(e._initialized||e._terminated)throw new Jh(Xh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Hx=function(){function e(t){wi(this,e),this._byteString=t}return xi(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(tp.fromBase64String(t))}catch(t){throw new Jh(Xh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(tp.fromUint8Array(t))}}]),e}(),Gx=function(){function e(){wi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Jh(Xh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gd(n)}return xi(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Kx=xi((function e(t){wi(this,e),this._methodName=t})),Qx=function(){function e(t,n){if(wi(this,e),!isFinite(t)||t<-90||t>90)throw new Jh(Xh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Jh(Xh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return xi(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ld(this._lat,e._lat)||ld(this._long,e._long)}}]),e}(),Yx=/^__.*__$/,$x=function(){function e(t,n,r){wi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return xi(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new um(e,this.data,this.fieldMask,t,this.fieldTransforms):new sm(e,this.data,t,this.fieldTransforms)}}]),e}(),Xx=function(){function e(t,n,r){wi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return xi(e,[{key:"toMutation",value:function(e,t){return new um(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Jx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qh()}}var Zx=function(){function e(t,n,r,i,a,o){wi(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return xi(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return bS(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(Jx(this.ra)&&Yx.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),eS=function(){function e(t,n,r){wi(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||Ck(t)}return xi(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Zx({ra:e,methodName:t,_a:n,path:gd.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function tS(e){var t=e._freezeSettings(),n=Ck(e._databaseId);return new eS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);vS("Data must be an object, but it was:",o,r);var s,u,c=dS(r,o);if(a.merge)s=new ov(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Xe(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=mS(t,l.value,n);if(!o.contains(d))throw new Jh(Xh.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));kS(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new ov(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new $x(new sv(c),s,u)}var rS=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Kx);function iS(e,t,n){return new Zx({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var aS=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"_toFieldTransform",value:function(e){return new Xv(e.path,new qv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Kx),oS=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this,e)).ma=r,i}return xi(n,[{key:"_toFieldTransform",value:function(e){var t=iS(this,e,!0),n=this.ma.map((function(e){return hS(e,t)})),r=new Wv(n);return new Xv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Kx),sS=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this,e)).ma=r,i}return xi(n,[{key:"_toFieldTransform",value:function(e){var t=iS(this,e,!0),n=this.ma.map((function(e){return hS(e,t)})),r=new Gv(n);return new Xv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Kx),uS=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this,e)).ga=r,i}return xi(n,[{key:"_toFieldTransform",value:function(e){var t=new Qv(e.Tt,jv(e.Tt,this.ga));return new Xv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Kx);function cS(e,t,n,r){var i=e.wa(1,t,n);vS("Data must be an object, but it was:",i,r);var a=[],o=sv.empty();Yd(r,(function(e,r){var s=gS(t,e,n);r=ts(r);var u=i.ha(s);if(r instanceof rS)a.push(s);else{var c=hS(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new ov(a);return new Xx(o,s,i.fieldTransforms)}function lS(e,t,n,r,i,a){var o=e.wa(1,t,n),s=[mS(t,r,n)],u=[i];if(a.length%2!=0)throw new Jh(Xh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(mS(t,a[c])),u.push(a[c+1]);for(var l=[],f=sv.empty(),h=s.length-1;h>=0;--h)if(!kS(l,s[h])){var d=s[h],p=u[h];p=ts(p);var v=o.ha(d);if(p instanceof rS)l.push(d);else{var m=hS(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ov(l);return new Xx(f,y,o.fieldTransforms)}function fS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return hS(n,e.wa(r?4:3,t))}function hS(e,t){if(pS(e=ts(e)))return vS("Unsupported field value:",t,e),dS(e,t);if(e instanceof Kx)return function(e,t){if(!Jx(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Xe(e);try{for(a.s();!(n=a.n()).done;){var o=hS(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ts(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jv(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=dd.fromDate(e);return{timestampValue:Gm(t.Tt,n)}}if(e instanceof dd){var r=new dd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gm(t.Tt,r)}}if(e instanceof Qx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hx)return{bytesValue:Km(t.Tt,e._byteString)};if(e instanceof Cx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:$m(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(kx(e)))}(e,t)}function dS(e,t){var n={};return $d(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yd(e,(function(e,r){var i=hS(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function pS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof dd||e instanceof Qx||e instanceof Hx||e instanceof Cx||e instanceof Kx)}function vS(e,t,n){if(!pS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=kx(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function mS(e,t,n){if((t=ts(t))instanceof Gx)return t._internalPath;if("string"==typeof t)return gS(e,t);throw bS("Field path arguments must be of type string or ",e,!1,void 0,n)}var yS=new RegExp("[~\\*/\\[\\]]");function gS(e,t,n){if(t.search(yS)>=0)throw bS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ni(Gx,Ze(t.split(".")))._internalPath}catch(r){throw bS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function bS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Jh(Xh.INVALID_ARGUMENT,s+e+u)}function kS(e,t){return e.some((function(e){return e.isEqual(t)}))}var wS=function(){function e(t,n,r,i,a){wi(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return xi(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Cx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new _S(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(xS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),_S=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"data",value:function(){return Ru(Ci(n.prototype),"data",this).call(this)}}]),n}(wS);function xS(e,t){return"string"==typeof t?gS(e,t):t instanceof Gx?t._internalPath:t._delegate._internalPath}function SS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Jh(Xh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ES=xi((function e(){wi(this,e)})),CS=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n)}(ES);function TS(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof ES&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof AS})).length,n=e.filter((function(e){return e instanceof IS})).length;if(t>1||t>0&&n>0)throw new Jh(Xh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=Xe(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var IS=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i){var a;return wi(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return xi(n,[{key:"_apply",value:function(e){var t=this._parse(e);return zS(e._query,t),new Tx(e.firestore,e.converter,Tv(e._query,t))}},{key:"_parse",value:function(e){var t=tS(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Jh(Xh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){VS(o,a);var u,c=[],l=Xe(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(BS(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=BS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||VS(o,a),s=fS(n,"where",o,"in"===a||"not-in"===a);return Op.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(CS);var AS=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return xi(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Mp.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Xe(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;zS(r,a),r=Tv(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Tx(e.firestore,e.converter,Tv(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ES);var NS=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return xi(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Jp(t,n);return function(e,t){if(null===_v(e)){var n=xv(e);null!==n&&US(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Tx(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new gv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(CS);var DS=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i){var a;return wi(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return xi(n,[{key:"_apply",value:function(e){return new Tx(e.firestore,e.converter,Iv(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(CS);var PS=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i){var a;return wi(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return xi(n,[{key:"_apply",value:function(e){var t=jS(e,this.type,this._docOrFields,this._inclusive);return new Tx(e.firestore,e.converter,function(e,t){return new gv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(CS);function RS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return PS._create("startAt",t,!0)}function OS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return PS._create("startAfter",t,!1)}var MS=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i){var a;return wi(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return xi(n,[{key:"_apply",value:function(e){var t=jS(e,this.type,this._docOrFields,this._inclusive);return new Tx(e.firestore,e.converter,function(e,t){return new gv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(CS);function LS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return MS._create("endBefore",t,!1)}function FS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return MS._create("endAt",t,!0)}function jS(e,t,n,r){if(n[0]=ts(n[0]),n[0]instanceof wS)return function(e,t,n,r,i){if(!r)throw new Jh(Xh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Xe(Ev(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(gp(t,r.key));else{var c=r.data.field(u.field);if(op(c))throw new Jh(Xh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Np(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=tS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Jh(Xh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Sv(e)&&-1!==c.indexOf("/"))throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(md.fromString(c));if(!bd.isDocumentKey(l))throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new bd(l);s.push(gp(t,f))}else{var h=fS(n,r,c);s.push(h)}}return new Np(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function BS(e,t,n){if("string"==typeof(n=ts(n))){if(""===n)throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sv(t)&&-1!==n.indexOf("/"))throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(md.fromString(n));if(!bd.isDocumentKey(r))throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gp(e,new bd(r))}if(n instanceof Cx)return gp(e,n._key);throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(kx(n),"."))}function VS(e,t){if(!Array.isArray(e)||0===e.length)throw new Jh(Xh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function zS(e,t){if(t.isInequality()){var n=xv(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=_v(e);null!==i&&US(e,r,i)}var a=function(e,t){var n,r=Xe(e);try{for(r.s();!(n=r.n()).done;){var i,a=Xe(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Jh(Xh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Jh(Xh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function US(e,t,n){if(!n.isEqual(t))throw new Jh(Xh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var qS=function(){function e(){wi(this,e)}return xi(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(fp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ip(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ap(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qh()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Yd(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Qx(ip(e.latitude),ip(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=sp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(up(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=rp(e);return new dd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=md.fromString(e);Yh(ky(n));var r=new Kd(n.get(1),n.get(3)),i=new bd(n.popFirst(5));return r.isEqual(t)||Hh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function WS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var HS=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),(r=t.call(this)).firestore=e,r}return xi(n,[{key:"convertBytes",value:function(e){return new Hx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cx(this.firestore,null,t)}}]),n}(qS);var GS=function(){function e(t,n){wi(this,e),this.hasPendingWrites=t,this.fromCache=n}return xi(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),KS=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i,a,o,s){var u;return wi(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return xi(n,[{key:"exists",value:function(){return Ru(Ci(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new QS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(xS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(wS),QS=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ru(Ci(n.prototype),"data",this).call(this,e)}}]),n}(KS),YS=function(){function e(t,n,r,i){wi(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new GS(i.hasPendingWrites,i.fromCache),this.query=r}return xi(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new QS(n._firestore,n._userDataWriter,r.key,r,new GS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Jh(Xh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new QS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new GS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new QS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new GS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$S(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function $S(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qh()}}function XS(e,t){return e instanceof KS&&t instanceof KS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof YS&&t instanceof YS&&e._firestore===t._firestore&&Px(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var JS=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),(r=t.call(this)).firestore=e,r}return xi(n,[{key:"convertBytes",value:function(e){return new Hx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cx(this.firestore,null,t)}}]),n}(qS);function ZS(e){e=wx(e,Cx);var t=wx(e.firestore,Lx),n=Fx(t),r=new JS(t);return function(e,t){var n=new Zh;return e.asyncQueue.enqueueAndForget(oo(io().mark((function r(){return io().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=oo(io().mark((function e(t,n,r){var i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=$h(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Jh(Xh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=_w(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,sx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new KS(t,r,e._key,n,new GS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function eE(e){e=wx(e,Tx);var t=wx(e.firestore,Lx),n=Fx(t),r=new JS(t);return function(e,t){var n=new Zh;return e.asyncQueue.enqueueAndForget(oo(io().mark((function r(){return io().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=oo(io().mark((function e(t,n,r){var i,a,o,s,u;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tk(t,n,!0);case 3:i=e.sent,a=new Uw(n,i.Yi),o=a.Hu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=_w(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,sx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new YS(t,r,e,n)}))}function tE(e,t,n){e=wx(e,Cx);var r=wx(e.firestore,Lx),i=WS(e.converter,t,n);return aE(r,[nS(tS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zv.none())])}function nE(e,t,n){e=wx(e,Cx);for(var r=wx(e.firestore,Lx),i=tS(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return aE(r,[("string"==typeof(t=ts(t))||t instanceof Gx?lS(i,"updateDoc",e._key,t,n,o):cS(i,"updateDoc",e._key,t)).toMutation(e._key,Zv.exists(!0))])}function rE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ts(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Ox(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Ox(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Cx)l=wx(e.firestore,Lx),f=kv(e._key.path),c={next:function(t){n[u]&&n[u](oE(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=wx(e,Tx);l=wx(p.firestore,Lx),f=p._query;var v=new JS(l);c={next:function(e){n[u]&&n[u](new YS(l,v,p,e))},error:n[u+1],complete:n[u+2]},SS(e._query)}return function(e,t,n,r){var i=new K_(r),a=new Mw(t,i,n);return e.asyncQueue.enqueueAndForget(oo(io().mark((function t(){return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Iw,t.next=3,fx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Pc(),e.asyncQueue.enqueueAndForget(oo(io().mark((function t(){return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Nw,t.next=3,fx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Fx(l),f,h,c)}function iE(e,t){return function(e,t){var n=new K_(t);return e.asyncQueue.enqueueAndForget(oo(io().mark((function t(){return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){$h(e).vu.add(t),t.next()},t.next=3,fx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Pc(),e.asyncQueue.enqueueAndForget(oo(io().mark((function t(){return io().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){$h(e).vu.delete(t)},t.next=3,fx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Fx(e=wx(e,Lx)),Ox(t)?t:{next:t})}function aE(e,t){return function(e,t){var n=new Zh;return e.asyncQueue.enqueueAndForget(oo(io().mark((function r(){return io().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Jw,r.next=3,cx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Fx(e),t)}function oE(e,t,n){var r=n.docs.get(t._key),i=new JS(e);return new KS(e,i,t._key,r,new GS(n.hasPendingWrites,n.fromCache),t.converter)}var sE={maxAttempts:5},uE=function(){function e(t,n){wi(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=tS(t)}return xi(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=cE(e,this._firestore),i=WS(r.converter,t,n),a=nS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Zv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=cE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ts(t))||t instanceof Gx?lS(this._dataReader,"WriteBatch.update",i._key,t,n,o):cS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Zv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=cE(e,this._firestore);return this._mutations=this._mutations.concat(new pm(t._key,Zv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Jh(Xh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function cE(e,t){if((e=ts(e)).firestore!==t)throw new Jh(Xh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var lE=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this,e,r))._firestore=e,i}return xi(n,[{key:"get",value:function(e){var t=this,r=cE(e,this._firestore),i=new JS(this._firestore);return Ru(Ci(n.prototype),"get",this).call(this,e).then((function(e){return new KS(t._firestore,i,r._key,e._document,new GS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){wi(this,e),this._firestore=t,this._transaction=n,this._dataReader=tS(t)}return xi(e,[{key:"get",value:function(e){var t=this,n=cE(e,this._firestore),r=new HS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Qh();var i=e[0];if(i.isFoundDocument())return new wS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new wS(t._firestore,r,n._key,null,n.converter);throw Qh()}))}},{key:"set",value:function(e,t,n){var r=cE(e,this._firestore),i=WS(r.converter,t,n),a=nS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=cE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ts(t))||t instanceof Gx?lS(this._dataReader,"Transaction.update",i._key,t,n,o):cS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=cE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function fE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oS("arrayUnion",t)}function hE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){zh=e}(Xs),Ws(new ns("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Lx(new rd(e.getProvider("auth-internal")),new sd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Jh(Xh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kd(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ru(Bh,"3.8.4",e),ru(Bh,"3.8.4","esm2017")}();var dE="@firebase/firestore-compat",pE="0.3.4";function vE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Jh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function mE(){if("undefined"===typeof Uint8Array)throw new Jh("unimplemented","Uint8Arrays are not available in this environment.")}function yE(){if("undefined"==typeof atob)throw new Jh("unimplemented","Blobs are unavailable in Firestore in this environment.")}var gE=function(){function e(t){wi(this,e),this._delegate=t}return xi(e,[{key:"toBase64",value:function(){return yE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return mE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return yE(),new e(Hx.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return mE(),new e(Hx.fromUint8Array(t))}}]),e}();function bE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Xe(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var kE=function(){function e(){wi(this,e)}return xi(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Wx(e=wx(e,Lx));var n=Fx(e),r=e._freezeSettings(),i=new H_;return Bx(n,i,new q_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Wx(e=wx(e,Lx));var t=Fx(e),n=e._freezeSettings(),r=new H_;return Bx(t,r,new W_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Jh(Xh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Zh;return e._queue.enqueueAndForgetEvenWhileRestricted(oo(io().mark((function n(){return io().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=oo(io().mark((function e(t){var n;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Md.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Md.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Vb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),wE=function(){function e(t,n,r){var i=this;wi(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Kd||(this._appCompat=t)}return xi(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Gh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ex(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Vx(this._delegate)}},{key:"disableNetwork",value:function(){return zx(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&yx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Zh;return e.asyncQueue.enqueueAndForget(oo(io().mark((function n(){return io().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=c_,n.next=3,cx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Fx(e=wx(e,Lx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return iE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Jh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ME(this,Ax(this._delegate,e))}catch(t){throw TE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new CE(this,Nx(this._delegate,e))}catch(t){throw TE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new PE(this,function(e,t){if(e=wx(e,Sx),mx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Jh(Xh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Tx(e,null,function(e){return new gv(md.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw TE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=wx(e,Lx);var r=Object.assign(Object.assign({},sE),n);return function(e){if(e.maxAttempts<1)throw new Jh(Xh.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Zh;return e.asyncQueue.enqueueAndForget(oo(io().mark((function i(){var a;return io().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lx(e);case 2:a=i.sent,new $_(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Fx(e),(function(n){return t(new lE(e,n))}),r)}(this._delegate,(function(n){return e(new xE(t,n))}))}},{key:"batch",value:function(){var e=this;return Fx(this._delegate),new SE(new uE(this._delegate,(function(t){return aE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Ux(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return qx(this._delegate,e).then((function(e){return e?new PE(t,e):null}))}}]),e}(),_E=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),(r=t.call(this)).firestore=e,r}return xi(n,[{key:"convertBytes",value:function(e){return new gE(new Hx(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return CE.forKey(t,this.firestore,null)}}]),n}(qS);var xE=function(){function e(t,n){wi(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new _E(t)}return xi(e,[{key:"get",value:function(e){var t=this,n=LE(e);return this._delegate.get(n).then((function(e){return new NE(t._firestore,new KS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=LE(e);return n?(vE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=LE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LE(e);return this._delegate.delete(t),this}}]),e}(),SE=function(){function e(t){wi(this,e),this._delegate=t}return xi(e,[{key:"set",value:function(e,t,n){var r=LE(e);return n?(vE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=LE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),EE=function(){function e(t,n,r){wi(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return xi(e,[{key:"fromFirestore",value:function(e,t){var n=new QS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new DE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new _E(t),n),i.set(n,a)),a}}]),e}();EE.INSTANCES=new WeakMap;var CE=function(){function e(t,n){wi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _E(t)}return xi(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ME(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ME(this.firestore,Ax(this._delegate,e))}catch(t){throw TE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ts(e))instanceof Cx&&Dx(this._delegate,e)}},{key:"set",value:function(e,t){t=vE("DocumentReference.set",t);try{return t?tE(this._delegate,e,t):tE(this._delegate,e)}catch(n){throw TE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?nE(this._delegate,e):nE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw TE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return aE(wx(e.firestore,Lx),[new pm(e._key,Zv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=IE(n),a=AE(n,(function(t){return new NE(e.firestore,new KS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return rE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ZS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wx(e,Cx);var t=wx(e.firestore,Lx);return dx(Fx(t),e._key,{source:"server"}).then((function(n){return oE(t,e,n)}))}(this._delegate):function(e){e=wx(e,Cx);var t=wx(e.firestore,Lx);return dx(Fx(t),e._key).then((function(n){return oE(t,e,n)}))}(this._delegate),t.then((function(e){return new NE(n.firestore,new KS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(EE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Jh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Cx(n._delegate,r,new bd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Cx(n._delegate,r,t))}}]),e}();function TE(e,t,n){return e.message=e.message.replace(t,n),e}function IE(e){var t,n=Xe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!bE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function AE(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=bE(e[0])?e[0]:bE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var NE=function(){function e(t,n){wi(this,e),this._firestore=t,this._delegate=n}return xi(e,[{key:"ref",get:function(){return new CE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return XS(this._delegate,e._delegate)}}]),e}(),DE=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Qh()}(void 0!==t),t}}]),n}(NE),PE=function(){function e(t,n){wi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _E(t)}return xi(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,TS(this._delegate,function(e,t,n){var r=t,i=xS("where",e);return IS._create(i,r,n)}(t,n,r)))}catch(i){throw TE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,TS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=xS("orderBy",e);return NS._create(n,t)}(t,n)))}catch(r){throw TE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,TS(this._delegate,function(e){return _x("limit",e),DS._create("limit",e,"F")}(t)))}catch(n){throw TE(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,TS(this._delegate,function(e){return _x("limitToLast",e),DS._create("limitToLast",e,"L")}(t)))}catch(n){throw TE(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,TS(this._delegate,RS.apply(void 0,arguments)))}catch(t){throw TE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,TS(this._delegate,OS.apply(void 0,arguments)))}catch(t){throw TE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,TS(this._delegate,LS.apply(void 0,arguments)))}catch(t){throw TE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,TS(this._delegate,FS.apply(void 0,arguments)))}catch(t){throw TE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Px(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?eE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wx(e,Tx);var t=wx(e.firestore,Lx),n=Fx(t),r=new JS(t);return px(n,e._query,{source:"server"}).then((function(n){return new YS(t,r,e,n)}))}(this._delegate):function(e){e=wx(e,Tx);var t=wx(e.firestore,Lx),n=Fx(t),r=new JS(t);return SS(e._query),px(n,e._query).then((function(n){return new YS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new OE(n.firestore,new YS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=IE(n),a=AE(n,(function(t){return new OE(e.firestore,new YS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return rE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(EE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),RE=function(){function e(t,n){wi(this,e),this._firestore=t,this._delegate=n}return xi(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new DE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),OE=function(){function e(t,n){wi(this,e),this._firestore=t,this._delegate=n}return xi(e,[{key:"query",get:function(){return new PE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new DE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new RE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new DE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return XS(this._delegate,e._delegate)}}]),e}(),ME=function(e){Ei(n,e);var t=Ai(n);function n(e,r){var i;return wi(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return xi(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new CE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new CE(this.firestore,void 0===e?Nx(this._delegate):Nx(this._delegate,e))}catch(t){throw TE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=wx(e.firestore,Lx),r=Nx(e),i=WS(e.converter,t);return aE(n,[nS(tS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Zv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new CE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Dx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(EE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(PE);function LE(e){return wx(e,Cx)}var FE,jE=function(){function e(){wi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ni(Gx,n)}return xi(e,[{key:"isEqual",value:function(e){return(e=ts(e))instanceof Gx&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(gd.keyField().canonicalString())}}]),e}(),BE=function(){function e(t){wi(this,e),this._delegate=t}return xi(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new aS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new rS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=fE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=hE.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new uS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),VE={Firestore:wE,GeoPoint:Qx,Timestamp:dd,Blob:gE,Transaction:xE,WriteBatch:SE,DocumentReference:CE,DocumentSnapshot:NE,Query:PE,QueryDocumentSnapshot:DE,QuerySnapshot:OE,CollectionReference:ME,FieldPath:jE,FieldValue:BE,setLogLevel:function(e){!function(e){Uh.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new ns("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},VE)))})(FE=Pu,(function(e,t){return new wE(e,t,new kE)})),FE.registerVersion(dE,pE);var zE="@firebase/database",UE="0.14.4",qE="";var WE=function(){function e(t){wi(this,e),this.domStorage_=t,this.prefix_="firebase:"}return xi(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Lo(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Mo(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),HE=function(){function e(){wi(this,e),this.cache_={},this.isInMemoryStorage=!0}return xi(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return jo(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),GE=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new WE(t)}}catch(n){}return new HE},KE=GE("localStorage"),QE=GE("sessionStorage"),YE=new ps("@firebase/database"),$E=function(){var e=1;return function(){return e++}}(),XE=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,uo(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Wo;n.update(t);var r=n.digest();return fo.encodeByteArray(r)},JE=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Lo(r):r,t+=" "}return t},ZE=null,eC=!0,tC=function(e,t){uo(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(YE.logLevel=ss.VERBOSE,ZE=YE.log.bind(YE),t&&QE.set("logging_enabled",!0)):"function"===typeof e?ZE=e:(ZE=null,QE.remove("logging_enabled"))},nC=function(){if(!0===eC&&(eC=!1,null===ZE&&!0===QE.get("logging_enabled")&&tC(!0)),ZE){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=JE.apply(null,t);ZE(r)}},rC=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];nC.apply(void 0,[e].concat(n))}},iC=function(){var e="FIREBASE INTERNAL ERROR: "+JE.apply(void 0,arguments);YE.error(e)},aC=function(){var e="FIREBASE FATAL ERROR: ".concat(JE.apply(void 0,arguments));throw YE.error(e),new Error(e)},oC=function(){var e="FIREBASE WARNING: "+JE.apply(void 0,arguments);YE.warn(e)},sC=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},uC="[MIN_NAME]",cC="[MAX_NAME]",lC=function(e,t){if(e===t)return 0;if(e===uC||t===cC)return-1;if(t===uC||e===cC)return 1;var n=gC(e),r=gC(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},fC=function(e,t){return e===t?0:e<t?-1:1},hC=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Lo(t))},dC=function e(t){if("object"!==typeof t||null===t)return Lo(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Lo(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},pC=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function vC(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var mC=function(e){uo(!sC(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var yC=new RegExp("^-?(0*)\\d{1,10}$"),gC=function(e){if(yC.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},bC=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw oC("Exception was thrown by user callback.",e),t}),Math.floor(0))}},kC=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wC=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},_C=function(){function e(t,n){var r=this;wi(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return xi(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){oC('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),xC=function(){function e(t,n,r){var i=this;wi(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return xi(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(nC("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',oC(e)}}]),e}(),SC=function(){function e(t){wi(this,e),this.accessToken=t}return xi(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();SC.OWNER="owner";var EC="5",CC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,TC="ac",IC="websocket",AC="long_polling",NC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];wi(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=KE.get("host:"+t)||this._host}return xi(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&KE.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function DC(e,t,n){var r;if(uo("string"===typeof t,"typeof type must == string"),uo("object"===typeof n,"typeof params must == object"),t===IC)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==AC)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return vC(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var PC=function(){function e(){wi(this,e),this.counters_={}}return xi(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;jo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return yo(void 0,this.counters_)}}]),e}(),RC={},OC={};function MC(e){var t=e.toString();return RC[t]||(RC[t]=new PC),RC[t]}var LC=function(){function e(t){wi(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return xi(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&bC((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),FC="start",jC="close",BC="pLPCommand",VC="pRTLPCB",zC=function(){function e(t,n,r,i,a,o,s){var u=this;wi(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rC(t),this.stats_=MC(n),this.urlFn=function(e){return u.appCheckToken&&(e[TC]=u.appCheckToken),DC(n,AC,e)}}return xi(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new LC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Co()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new UC((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===FC)n.id=a,n.password=o;else{if(i!==jC)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[FC]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=EC,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[TC]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&CC.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Lo(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=po(t),r=pC(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Co()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Lo(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Co()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),UC=function(){function e(t,n,r,i){if(wi(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Co())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=$E(),window[BC+this.uniqueCallbackIdentifier]=t,window[VC+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){nC("frame writing exception"),s.stack&&nC(s.stack),nC(s)}}}return xi(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Co()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){nC("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||nC("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),qC=null;"undefined"!==typeof MozWebSocket?qC=MozWebSocket:"undefined"!==typeof WebSocket&&(qC=WebSocket);var WC=function(){function e(t,n,r,i,a,o,s){wi(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rC(this.connId),this.stats_=MC(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return xi(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,KE.set("previous_websocket_failure",!0);try{var r;if(Co()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(EC,"/").concat(qE,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/e-commerce-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new qC(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){KE.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Mo(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(uo(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Lo(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=pC(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=EC,!Co()&&"undefined"!==typeof location&&location.hostname&&CC.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[TC]=r),i&&(a.p=i),DC(e,IC,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==qC&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return KE.isInMemoryStorage||!0===KE.get("previous_websocket_failure")}}]),e}();WC.responsesRequiredToBeHealthy=2,WC.healthyTimeout=3e4;var HC=function(){function e(t){wi(this,e),this.initTransports_(t)}return xi(e,[{key:"initTransports_",value:function(t){var n=WC&&WC.isAvailable(),r=n&&!WC.previouslyFailed();if(t.webSocketOnly&&(n||oC("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[WC];else{var i,a=this.transports_=[],o=Xe(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[zC,WC]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();HC.globalTransportInitialized_=!1;var GC=function(){function e(t,n,r,i,a,o,s,u,c,l){wi(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rC("c:"+this.id+":"),this.transportManager_=new HC(n),this.log_("Connection created"),this.start_()}return xi(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=wC((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=hC("t",e),n=hC("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=hC("t",e),n=hC("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=hC("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?iC("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):iC("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),EC!==n&&oC("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wC((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wC((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(KE.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),KC=function(){function e(){wi(this,e)}return xi(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),QC=function(){function e(t){wi(this,e),this.allowedEvents_=t,this.listeners_={},uo(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return xi(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Ze(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){uo(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),YC=function(e){Ei(n,e);var t=Ai(n);function n(){var e;return wi(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||So()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return xi(n,[{key:"getInitialEvent",value:function(e){return uo("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(QC),$C=32,XC=768,JC=function(){function e(t,n){if(wi(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return xi(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function ZC(){return new JC("")}function eT(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function tT(e){return e.pieces_.length-e.pieceNum_}function nT(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new JC(e.pieces_,t)}function rT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function iT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function aT(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new JC(t,0)}function oT(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof JC)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new JC(n,0)}function sT(e){return e.pieceNum_>=e.pieces_.length}function uT(e,t){var n=eT(e),r=eT(t);if(null===n)return t;if(n===r)return uT(nT(e),nT(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function cT(e,t){if(tT(e)!==tT(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function lT(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(tT(e)>tT(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var fT=xi((function e(t,n){wi(this,e),this.errorPrefix_=n,this.parts_=iT(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Yo(this.parts_[r]);hT(this)}));function hT(e){if(e.byteLength_>XC)throw new Error(e.errorPrefix_+"has a key path longer than "+XC+" bytes ("+e.byteLength_+").");if(e.parts_.length>$C)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$C+") or object contains a cycle "+dT(e))}function dT(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var pT=function(e){Ei(n,e);var t=Ai(n);function n(){var e,r,i;return wi(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return xi(n,[{key:"getInitialEvent",value:function(e){return uo("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(QC),vT=1e3,mT=3e5,yT=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i,a,o,s,u,c){var l;if(wi(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=rC("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=vT,l.maxReconnectDelay_=mT,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Co())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return pT.getInstance().on("visible",l.onVisible_,Ii(l)),-1===e.host.indexOf("fblocal")&&YC.getInstance().on("online",l.onOnline_,Ii(l)),l}return xi(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Lo(i)),uo(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new _o,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),uo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),uo(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Fo(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Fo(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),uo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Lo(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):iC("Unrecognized action received from server: "+Lo(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;uo(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vT,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vT,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=vT),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=oo(io().mark((function e(){var t,r,i,a,o,s,u,l,f,h,d,p,v,m,y=this;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},f=function(e){uo(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=c(d,2),v=p[0],m=p[1],s?nC("getToken() completed but was canceled"):(nC("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new GC(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){oC(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&oC(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){nC("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){nC("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vo(this.interruptReasons_)&&(this.reconnectDelay_=vT,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return dC(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new JC(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){nC("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){nC("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Xe(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Xe(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Co()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+qE.replace(/\./g,"-")]=1,So()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=YC.getInstance().currentlyOnline();return Vo(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&jo(e,"w")){var n=Bo(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();oC("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(KC);yT.nextPersistentConnectionId_=0,yT.nextConnectionId_=0;var gT,bT=function(){function e(t,n){wi(this,e),this.name=t,this.node=n}return xi(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),kT=function(){function e(){wi(this,e)}return xi(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new bT(uC,e),r=new bT(uC,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return bT.MIN}}]),e}(),wT=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"compare",value:function(e,t){return lC(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw co("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return bT.MIN}},{key:"maxPost",value:function(){return new bT(cC,gT)}},{key:"makePost",value:function(e,t){return uo("string"===typeof e,"KeyIndex indexValue must always be a string."),new bT(e,gT)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return gT},set:function(e){gT=e}}]),n}(kT),_T=new wT,xT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;wi(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return xi(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ST=function(){function e(t,n,r,i,a){wi(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:TT.EMPTY_NODE,this.right=null!=a?a:TT.EMPTY_NODE}return xi(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return TT.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return TT.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ST.RED=!0,ST.BLACK=!1;var ET,CT=function(){function e(){wi(this,e)}return xi(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ST(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),TT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;wi(this,e),this.comparator_=t,this.root_=n}return xi(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ST.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ST.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new xT(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new xT(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new xT(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new xT(this.root_,null,this.comparator_,!0,e)}}]),e}();function IT(e,t){return lC(e.name,t.name)}function AT(e,t){return lC(e,t)}TT.EMPTY_NODE=new CT;var NT,DT,PT,RT=function(e){return"number"===typeof e?"number:"+mC(e):"string:"+e},OT=function(e){if(e.isLeafNode()){var t=e.val();uo("string"===typeof t||"number"===typeof t||"object"===typeof t&&jo(t,".sv"),"Priority must be a string or number.")}else uo(e===ET||e.isEmpty(),"priority of unexpected type.");uo(e===ET||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},MT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;wi(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,uo(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),OT(this.priorityNode_)}return xi(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return sT(t)?this:".priority"===eT(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=eT(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(uo(".priority"!==r||1===tT(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(nT(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+RT(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?mC(this.value_):this.value_,this.lazyHash_=XE(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(uo(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return uo(i>=0,"Unknown leaf type: "+n),uo(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return NT},set:function(e){NT=e}}]),e}();MT.VALUE_TYPE_ORDER=["object","boolean","number","string"];var LT,FT,jT=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?lC(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return bT.MIN}},{key:"maxPost",value:function(){return new bT(cC,new MT("[PRIORITY-POST]",PT))}},{key:"makePost",value:function(e,t){var n=DT(e);return new bT(t,new MT("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(kT),BT=new jT,VT=Math.log(2),zT=function(){function e(t){wi(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/VT,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return xi(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),UT=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new ST(o,a.node,ST.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new ST(o,a.node,ST.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new ST(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,ST.BLACK):(s(f,ST.BLACK),s(f,ST.RED))}return a}(new zT(e.length));return new TT(r||t,a)},qT={},WT=function(){function e(t,n){wi(this,e),this.indexes_=t,this.indexSet_=n}return xi(e,[{key:"get",value:function(e){var t=Bo(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof TT?t:null}},{key:"hasIndex",value:function(e){return jo(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){uo(t!==_T,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(bT.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?UT(i,t.getCompare()):qT;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=zo(this.indexes_,(function(e,i){var a=Bo(r.indexSet_,i);if(uo(a,"Missing index implementation for "+i),e===qT){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(bT.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),UT(o,a.getCompare())}return qT}var c=n.get(t.name),l=e;return c&&(l=l.remove(new bT(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(zo(this.indexes_,(function(e){if(e===qT)return e;var r=n.get(t.name);return r?e.remove(new bT(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return uo(qT&&BT,"ChildrenNode.ts has not been loaded"),LT=LT||new e({".priority":qT},{".priority":BT})}}]),e}(),HT=function(){function e(t,n,r){wi(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&OT(this.priorityNode_),this.children_.isEmpty()&&uo(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return xi(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||FT}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?FT:t}},{key:"getChild",value:function(e){var t=eT(e);return null===t?this:this.getImmediateChild(t).getChild(nT(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(uo(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new bT(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?FT:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=eT(e);if(null===n)return t;uo(".priority"!==eT(e)||1===tT(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(nT(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(BT,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+RT(this.getPriority().val())+":"),this.forEachChild(BT,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":XE(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new bT(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new bT(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new bT(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,bT.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,bT.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===GT?-1:0}},{key:"withIndex",value:function(t){if(t===_T||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===_T||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(BT),r=t.getIterator(BT),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===_T?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return FT||(FT=new e(new TT(AT),null,WT.Default))}}]),e}();HT.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var GT=new(function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.call(this,new TT(AT),HT.EMPTY_NODE,WT.Default)}return xi(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return HT.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(HT));Object.defineProperties(bT,{MIN:{value:new bT(uC,HT.EMPTY_NODE)},MAX:{value:new bT(cC,GT)}}),wT.__EMPTY_NODE=HT.EMPTY_NODE,MT.__childrenNodeConstructor=HT,ET=GT,function(e){PT=e}(GT);var KT=!0;function QT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return HT.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),uo(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new MT(e,QT(t));if(e instanceof Array||!KT){var n=HT.EMPTY_NODE;return vC(e,(function(t,r){if(jo(e,t)&&"."!==t.substring(0,1)){var i=QT(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(QT(t))}var r=[],i=!1;if(vC(e,(function(e,t){if("."!==e.substring(0,1)){var n=QT(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new bT(e,n)))}})),0===r.length)return HT.EMPTY_NODE;var a=UT(r,IT,(function(e){return e.name}),AT);if(i){var o=UT(r,BT.getCompare());return new HT(a,QT(t),new WT({".priority":o},{".priority":BT}))}return new HT(a,QT(t),WT.Default)}!function(e){DT=e}(QT);var YT=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),(r=t.call(this)).indexPath_=e,uo(!sT(e)&&".priority"!==eT(e),"Can't create PathIndex with empty path or .priority key"),r}return xi(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?lC(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=QT(e),r=HT.EMPTY_NODE.updateChild(this.indexPath_,n);return new bT(t,r)}},{key:"maxPost",value:function(){var e=HT.EMPTY_NODE.updateChild(this.indexPath_,GT);return new bT(cC,e)}},{key:"toString",value:function(){return iT(this.indexPath_,0).join("/")}}]),n}(kT),$T=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?lC(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return bT.MIN}},{key:"maxPost",value:function(){return bT.MAX}},{key:"makePost",value:function(e,t){var n=QT(e);return new bT(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(kT),XT=new $T;function JT(e){return{type:"value",snapshotNode:e}}function ZT(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function eI(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function tI(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var nI=function(){function e(){wi(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=BT}return xi(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return uo(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return uo(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:uC}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return uo(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return uo(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cC}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return uo(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===BT}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function rI(e){var t,n={};if(e.isDefault())return n;if(e.index_===BT?t="$priority":e.index_===XT?t="$value":e.index_===_T?t="$key":(uo(e.index_ instanceof YT,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Lo(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Lo(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Lo(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Lo(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Lo(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function iI(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==BT&&(t.i=e.index_.toString()),t}var aI=function(e){Ei(n,e);var t=Ai(n);function n(e,r,i,a){var o;return wi(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=rC("p:rest:"),o.listens_={},o}return xi(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=rI(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Bo(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=rI(e._queryParams),r=e._path.toString(),i=new _o;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+function(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Mo(l.responseText)}catch(n){oC("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&oC("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(uo(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(KC),oI=function(){function e(){wi(this,e),this.rootNode_=HT.EMPTY_NODE}return xi(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function sI(){return{value:null,children:new Map}}function uI(e,t,n){if(sT(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=eT(t);e.children.has(r)||e.children.set(r,sI()),uI(e.children.get(r),t=nT(t),n)}}function cI(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){cI(r,new JC(t.toString()+"/"+e),n)}))}var lI,fI=function(){function e(t){wi(this,e),this.collection_=t,this.last_=null}return xi(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&vC(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),hI=1e4,dI=3e4,pI=function(){function e(t,n){wi(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new fI(t);var r=hI+(dI-hI)*Math.random();wC(this.reportStats_.bind(this),Math.floor(r))}return xi(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;vC(t,(function(t,i){i>0&&jo(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),wC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function vI(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(lI||(lI={}));var mI,yI=function(){function e(t,n,r){wi(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=lI.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return xi(e,[{key:"operationForChild",value:function(t){if(sT(this.path)){if(null!=this.affectedTree.value)return uo(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new JC(t));return new e(ZC(),n,this.revert)}return uo(eT(this.path)===t,"operationForChild called for unrelated child."),new e(nT(this.path),this.affectedTree,this.revert)}}]),e}(),gI=function(){function e(t,n,r){wi(this,e),this.source=t,this.path=n,this.snap=r,this.type=lI.OVERWRITE}return xi(e,[{key:"operationForChild",value:function(t){return sT(this.path)?new e(this.source,ZC(),this.snap.getImmediateChild(t)):new e(this.source,nT(this.path),this.snap)}}]),e}(),bI=function(){function e(t,n,r){wi(this,e),this.source=t,this.path=n,this.children=r,this.type=lI.MERGE}return xi(e,[{key:"operationForChild",value:function(t){if(sT(this.path)){var n=this.children.subtree(new JC(t));return n.isEmpty()?null:n.value?new gI(this.source,ZC(),n.value):new e(this.source,ZC(),n)}return uo(eT(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,nT(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),kI=function(){function e(t,n,r){wi(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return xi(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(sT(e))return this.isFullyInitialized()&&!this.filtered_;var t=eT(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function wI(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw co("Should only compare child_ events.");var r=new bT(t.childName,t.snapshotNode),i=new bT(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function _I(e,t){return{eventCache:e,serverCache:t}}function xI(e,t,n,r){return _I(new kI(t,n,r),e.serverCache)}function SI(e,t,n,r){return _I(e.eventCache,new kI(t,n,r))}function EI(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function CI(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var TI=function(){return mI||(mI=new TT(fC)),mI},II=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TI();wi(this,e),this.value=t,this.children=n}return xi(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:ZC(),value:this.value};if(sT(e))return null;var n=eT(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(nT(e),t);return null!=i?{path:oT(new JC(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(sT(t))return this;var n=eT(t),r=this.children.get(n);return null!==r?r.subtree(nT(t)):new e(null)}},{key:"set",value:function(t,n){if(sT(t))return new e(n,this.children);var r=eT(t),i=(this.children.get(r)||new e(null)).set(nT(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(sT(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=eT(t),r=this.children.get(n);if(r){var i,a=r.remove(nT(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(sT(e))return this.value;var t=eT(e),n=this.children.get(t);return n?n.get(nT(e)):null}},{key:"setTree",value:function(t,n){if(sT(t))return n;var r,i=eT(t),a=(this.children.get(i)||new e(null)).setTree(nT(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(ZC(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(oT(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,ZC(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(sT(e))return null;var i=eT(e),a=this.children.get(i);return a?a.findOnPath_(nT(e),oT(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,ZC(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(sT(t))return this;this.value&&r(n,this.value);var i=eT(t),a=this.children.get(i);return a?a.foreachOnPath_(nT(t),oT(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(ZC(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(oT(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return vC(t,(function(e,t){n=n.set(new JC(e),t)})),n}}]),e}(),AI=function(){function e(t){wi(this,e),this.writeTree_=t}return xi(e,null,[{key:"empty",value:function(){return new e(new II(null))}}]),e}();function NI(e,t,n){if(sT(t))return new AI(new II(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=uT(i,t);return a=a.updateChild(o,n),new AI(e.writeTree_.set(i,a))}var s=new II(n),u=e.writeTree_.setTree(t,s);return new AI(u)}function DI(e,t,n){var r=e;return vC(n,(function(e,n){r=NI(r,oT(t,e),n)})),r}function PI(e,t){if(sT(t))return AI.empty();var n=e.writeTree_.setTree(t,new II(null));return new AI(n)}function RI(e,t){return null!=OI(e,t)}function OI(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(uT(n.path,t)):null}function MI(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(BT,(function(e,n){t.push(new bT(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new bT(e,n.value))})),t}function LI(e,t){if(sT(t))return e;var n=OI(e,t);return new AI(null!=n?new II(n):e.writeTree_.subtree(t))}function FI(e){return e.writeTree_.isEmpty()}function jI(e,t){return BI(ZC(),e.writeTree_,t)}function BI(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(uo(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=BI(oT(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(oT(e,".priority"),r)),n}function VI(e,t){return ZI(t,e)}function zI(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));uo(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&UI(s,r.path)?i=!1:lT(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=WI(e.allWrites,qI,ZC()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=PI(e.visibleWrites,r.path):vC(r.children,(function(t){e.visibleWrites=PI(e.visibleWrites,oT(r.path,t))}));return!0}return!1}function UI(e,t){if(e.snap)return lT(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&lT(oT(e.path,n),t))return!0;return!1}function qI(e){return e.visible}function WI(e,t,n){for(var r=AI.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)lT(n,o)?r=NI(r,s=uT(n,o),a.snap):lT(o,n)&&(s=uT(o,n),r=NI(r,ZC(),a.snap.getChild(s)));else{if(!a.children)throw co("WriteRecord should have .snap or .children");if(lT(n,o))r=DI(r,s=uT(n,o),a.children);else if(lT(o,n))if(sT(s=uT(o,n)))r=DI(r,ZC(),a.children);else{var u=Bo(a.children,eT(s));if(u){var c=u.getChild(nT(s));r=NI(r,ZC(),c)}}}}}return r}function HI(e,t,n,r,i){if(r||i){var a=LI(e.visibleWrites,t);if(!i&&FI(a))return n;if(i||null!=n||RI(a,ZC())){return jI(WI(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(lT(e.path,t)||lT(t,e.path))}),t),n||HT.EMPTY_NODE)}return null}var o=OI(e.visibleWrites,t);if(null!=o)return o;var s=LI(e.visibleWrites,t);return FI(s)?n:null!=n||RI(s,ZC())?jI(s,n||HT.EMPTY_NODE):null}function GI(e,t,n,r){return HI(e.writeTree,e.treePath,t,n,r)}function KI(e,t){return function(e,t,n){var r=HT.EMPTY_NODE,i=OI(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(BT,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=LI(e.visibleWrites,t);return n.forEachChild(BT,(function(e,t){var n=jI(LI(a,new JC(e)),t);r=r.updateImmediateChild(e,n)})),MI(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return MI(LI(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function QI(e,t,n,r){return function(e,t,n,r,i){uo(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=oT(t,n);if(RI(e.visibleWrites,a))return null;var o=LI(e.visibleWrites,a);return FI(o)?i.getChild(n):jI(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function YI(e,t){return function(e,t){return OI(e.visibleWrites,t)}(e.writeTree,oT(e.treePath,t))}function $I(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=LI(e.visibleWrites,t),c=OI(u,ZC());if(null!=c)s=c;else{if(null==n)return[];s=jI(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function XI(e,t,n){return function(e,t,n,r){var i=oT(t,n),a=OI(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?jI(LI(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function JI(e,t){return ZI(oT(e.treePath,t),e.writeTree)}function ZI(e,t){return{treePath:e,writeTree:t}}var eA=function(){function e(){wi(this,e),this.changeMap=new Map}return xi(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;uo("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),uo(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,tI(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,eI(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ZT(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw co("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,tI(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),tA=new(function(){function e(){wi(this,e)}return xi(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),nA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;wi(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return xi(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new kI(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return XI(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:CI(this.viewCache_),i=$I(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function rA(e,t,n,r,i){var a,o,s=new eA;if(n.type===lI.OVERWRITE){var u=n;u.source.fromUser?a=oA(e,t,u.path,u.snap,r,i,s):(uo(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!sT(u.path),a=aA(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===lI.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=oT(n,r);sA(t,eT(c))&&(s=oA(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=oT(n,r);sA(t,eT(c))||(s=oA(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(uo(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=cA(e,t,c.path,c.children,r,i,o,s))}else if(n.type===lI.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=YI(r,n))return t;var s,u=new nA(r,t,i),c=t.eventCache.getNode();if(sT(n)||".priority"===eT(n)){var l;if(t.serverCache.isFullyInitialized())l=GI(r,CI(t));else{var f=t.serverCache.getNode();uo(f instanceof HT,"serverChildren would be complete if leaf node"),l=KI(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=eT(n),d=XI(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,nT(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,HT.EMPTY_NODE,nT(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=GI(r,CI(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=YI(r,ZC()),xI(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=YI(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(sT(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return aA(e,t,n,u.getNode().getChild(n),i,a,s,o);if(sT(n)){var c=new II(null);return u.getNode().forEachChild(_T,(function(e,t){c=c.set(new JC(e),t)})),cA(e,t,n,c,i,a,s,o)}return t}var l=new II(null);return r.foreach((function(e,t){var r=oT(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),cA(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==lI.LISTEN_COMPLETE)throw co("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=SI(t,a.getNode(),a.isFullyInitialized()||sT(n),a.isFiltered());return iA(e,o,n,r,tA,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=EI(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(JT(EI(t)))}}(t,a,f),{viewCache:a,changes:f}}function iA(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=YI(r,n))return t;if(sT(n))if(uo(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=CI(t),l=KI(r,c instanceof HT?c:HT.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=GI(r,CI(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=eT(n);if(".priority"===h){uo(1===tT(n),"Can't have a priority with additional path components");var d=u.getNode(),p=QI(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=nT(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=QI(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=XI(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return xI(t,o,u.isFullyInitialized()||sT(n),e.filter.filtersNodes())}function aA(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(sT(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=eT(n);if(!c.isCompleteForPath(n)&&tT(n)>1)return t;var d=nT(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,tA,null)}var v=SI(t,u,c.isFullyInitialized()||sT(n),l.filtersNodes());return iA(e,v,n,i,new nA(i,v,a),s)}function oA(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new nA(i,t,a);if(sT(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=xI(t,u,!0,e.filter.filtersNodes());else{var f=eT(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=xI(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=nT(n),p=c.getNode().getImmediateChild(f);if(sT(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===rT(d)&&v.getChild(aT(d)).isEmpty()?v:v.updateChild(d,r):HT.EMPTY_NODE}if(p.equals(h))s=t;else s=xI(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function sA(e,t){return e.eventCache.isCompleteForChild(t)}function uA(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function cA(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=sT(n)?r:new II(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=uA(0,t.serverCache.getNode().getImmediateChild(n),r);c=aA(e,c,new JC(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=uA(0,t.serverCache.getNode().getImmediateChild(n),r);c=aA(e,c,new JC(n),f,i,a,o,s)}})),c}var lA;function fA(e,t){var n=CI(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!sT(t)&&!n.getImmediateChild(eT(t)).isEmpty())?n.getChild(t):null}function hA(e,t,n,r){t.type===lI.MERGE&&null!==t.source.queryId&&(uo(CI(e.viewCache_),"We should always have a full cache before handling merges"),uo(EI(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=rA(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,uo(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),uo(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),uo(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,dA(e,s.changes,s.viewCache.eventCache.getNode(),null)}function dA(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),wI(e,i,"child_removed",t,r,n),wI(e,i,"child_added",t,r,n),wI(e,i,"child_moved",a,r,n),wI(e,i,"child_changed",t,r,n),wI(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var pA;function vA(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return uo(null!=a,"SyncTree gave us an op for an invalid query."),hA(a,t,n,r)}var o,s=[],u=Xe(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(hA(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function mA(e,t){var n,r=null,i=Xe(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||fA(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var yA=xi((function e(t){wi(this,e),this.listenProvider_=t,this.syncPointTree_=new II(null),this.pendingWriteTree_={visibleWrites:AI.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function gA(e,t,n,r,i){return function(e,t,n,r,i){uo(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=NI(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?xA(e,new gI({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function bA(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(zI(e.pendingWriteTree_,t)){var i=new II(null);return null!=r.snap?i=i.set(ZC(),!0):vC(r.children,(function(e){i=i.set(new JC(e),!0)})),xA(e,new yI(r.path,i,n))}return[]}function kA(e,t,n){return xA(e,new gI({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function wA(e,t,n,r){var i=CA(e,r);if(null!=i){var a=TA(i),o=a.path,s=a.queryId,u=uT(o,t);return IA(e,o,new gI(vI(s),u,n))}return[]}function _A(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=mA(n,uT(e,t));if(r)return r}));return HI(r,t,i,n,!0)}function xA(e,t){return SA(t,e.syncPointTree_,null,VI(e.pendingWriteTree_,ZC()))}function SA(e,t,n,r){if(sT(e.path))return EA(e,t,n,r);var i=t.get(ZC());null==n&&null!=i&&(n=mA(i,ZC()));var a=[],o=eT(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=JI(r,o);a=a.concat(SA(s,u,c,l))}return i&&(a=a.concat(vA(i,e,r,n))),a}function EA(e,t,n,r){var i=t.get(ZC());null==n&&null!=i&&(n=mA(i,ZC()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=JI(r,t),u=e.operationForChild(t);u&&(a=a.concat(EA(u,i,o,s)))})),i&&(a=a.concat(vA(i,e,r,n))),a}function CA(e,t){return e.tagToQueryMap.get(t)}function TA(e){var t=e.indexOf("$");return uo(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new JC(e.substr(0,t))}}function IA(e,t,n){var r=e.syncPointTree_.get(t);return uo(r,"Missing sync point for query tag that we're tracking"),vA(r,n,VI(e.pendingWriteTree_,t),null)}var AA=function(){function e(t){wi(this,e),this.node_=t}return xi(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),NA=function(){function e(t,n){wi(this,e),this.syncTree_=t,this.path_=n}return xi(e,[{key:"getImmediateChild",value:function(t){var n=oT(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return _A(this.syncTree_,this.path_)}}]),e}(),DA=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},PA=function(e,t,n){return e&&"object"===typeof e?(uo(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?RA(e[".sv"],t,n):"object"===typeof e[".sv"]?OA(e[".sv"],t):void uo(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},RA=function(e,t,n){if("timestamp"===e)return n.timestamp;uo(!1,"Unexpected server value: "+e)},OA=function(e,t,n){e.hasOwnProperty("increment")||uo(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&uo(!1,"Unexpected increment value: "+r);var i=t.node();if(uo(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},MA=function(e,t,n,r){return FA(t,new NA(n,e),r)},LA=function(e,t,n){return FA(e,new AA(t),n)};function FA(e,t,n){var r,i=e.getPriority().val(),a=PA(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=PA(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new MT(s,QT(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new MT(a))),u.forEachChild(BT,(function(e,i){var a=FA(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var jA=xi((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};wi(this,e),this.name=t,this.parent=n,this.node=r}));function BA(e,t){for(var n=t instanceof JC?t:new JC(t),r=e,i=eT(n);null!==i;){var a=Bo(r.node.children,i)||{children:{},childCount:0};r=new jA(i,r,a),i=eT(n=nT(n))}return r}function VA(e){return e.node.value}function zA(e,t){e.node.value=t,GA(e)}function UA(e){return e.node.childCount>0}function qA(e,t){vC(e.node.children,(function(n,r){t(new jA(n,e,r))}))}function WA(e,t,n,r){n&&!r&&t(e),qA(e,(function(e){WA(e,t,!0,r)})),n&&r&&t(e)}function HA(e){return new JC(null===e.parent?e.name:HA(e.parent)+"/"+e.name)}function GA(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===VA(e)&&!UA(e)}(n),i=jo(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,GA(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,GA(e))}(e.parent,e.name,e)}var KA=/[\[\].#$\/\u0000-\u001F\u007F]/,QA=/[\[\].#$\u0000-\u001F\u007F]/,YA=10485760,$A=function(e){return"string"===typeof e&&0!==e.length&&!KA.test(e)},XA=function(e){return"string"===typeof e&&0!==e.length&&!QA.test(e)},JA=function e(t,n,r){var i=r instanceof JC?new fT(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+dT(i));if("function"===typeof n)throw new Error(t+"contains a function "+dT(i)+" with contents = "+n.toString());if(sC(n))throw new Error(t+"contains "+n.toString()+" "+dT(i));if("string"===typeof n&&n.length>YA/3&&Yo(n)>YA)throw new Error(t+"contains a string greater than "+YA+" utf8 bytes "+dT(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(vC(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!$A(n)))throw new Error(t+" contains an invalid key ("+n+") "+dT(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Yo(u),hT(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Yo(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+dT(i)+" in addition to actual children.")}},ZA=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!$A(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),XA(e)}(n))throw new Error(Qo(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},eN=xi((function e(){wi(this,e),this.eventLists_=[],this.recursionDepth_=0}));function tN(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||cT(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function nN(e,t,n){tN(e,n),rN(e,(function(e){return lT(e,t)||lT(t,e)}))}function rN(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(iN(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function iN(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();ZE&&nC("event: "+n.toString()),bC(r)}}}var aN="repo_interrupt",oN=25,sN=function(){function e(t,n,r,i){wi(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sI(),this.transactionQueueTree_=new jA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return xi(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function uN(e,t,n){if(e.stats_=MC(e.repoInfo_),e.forceRestClient_||kC())e.server_=new aI(e.repoInfo_,(function(t,n,r,i){fN(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return hN(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Lo(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new yT(e.repoInfo_,t,(function(t,n,r,i){fN(e,t,n,r,i)}),(function(t){hN(e,t)}),(function(t){!function(e,t){vC(t,(function(t,n){dN(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return OC[n]||(OC[n]=t()),OC[n]}(e.repoInfo_,(function(){return new pI(e.stats_,e.server_)})),e.infoData_=new oI,e.infoSyncTree_=new yA({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=kA(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),dN(e,"connected",!1),e.serverSyncTree_=new yA({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);nN(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function cN(e){var t=e.infoData_.getNode(new JC(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function lN(e){return DA({timestamp:cN(e)})}function fN(e,t,n,r,i){e.dataUpdateCount++;var a=new JC(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=zo(n,(function(e){return QT(e)}));o=function(e,t,n,r){var i=CA(e,r);if(i){var a=TA(i),o=a.path,s=a.queryId,u=uT(o,t),c=II.fromObject(n);return IA(e,o,new bI(vI(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=QT(n);o=wA(e.serverSyncTree_,a,u,i)}else if(r){var c=zo(n,(function(e){return QT(e)}));o=function(e,t,n){var r=II.fromObject(n);return xA(e,new bI({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=QT(n);o=kA(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=bN(e,a)),nN(e.eventQueue_,f,o)}function hN(e,t){dN(e,"connected",t),!1===t&&function(e){mN(e,"onDisconnectEvents");var t=lN(e),n=sI();cI(e.onDisconnect_,ZC(),(function(r,i){var a=MA(r,i,e.serverSyncTree_,t);uI(n,r,a)}));var r=[];cI(n,ZC(),(function(t,n){r=r.concat(kA(e.serverSyncTree_,t,n));var i=SN(e,t);bN(e,i)})),e.onDisconnect_=sI(),nN(e.eventQueue_,ZC(),r)}(e)}function dN(e,t,n){var r=new JC("/.info/"+t),i=QT(n);e.infoData_.updateSnapshot(r,i);var a=kA(e.infoSyncTree_,r,i);nN(e.eventQueue_,r,a)}function pN(e){return e.nextWriteId_++}function vN(e){e.persistentConnection_&&e.persistentConnection_.interrupt(aN)}function mN(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];nC.apply(void 0,[t].concat(r))}function yN(e,t,n){return _A(e.serverSyncTree_,t,n)||HT.EMPTY_NODE}function gN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||xN(e,t),VA(t)){var n=wN(e,t);uo(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=yN(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];uo(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=uT(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){mN(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(bA(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);xN(e,BA(e.transactionQueueTree_,t)),gN(e,e.transactionQueueTree_),nN(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)bC(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{oC("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}bN(e,t)}}),o)}(e,HA(t),n)}else UA(t)&&qA(t,(function(t){gN(e,t)}))}function bN(e,t){var n=kN(e,t),r=HA(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=uT(n,c.path),f=!1;if(uo(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,s=c.abortReason,i=i.concat(bA(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=oN)f=!0,s="maxretry",i=i.concat(bA(e.serverSyncTree_,c.currentWriteId,!0));else{var h=yN(e,c.path,o);c.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){JA("transaction failed: Data returned ",d,c.path);var p=QT(d);"object"===typeof d&&null!=d&&jo(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=c.currentWriteId,m=lN(e),y=LA(p,h,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=pN(e),o.splice(o.indexOf(v),1),i=(i=i.concat(gA(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(bA(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(bA(e.serverSyncTree_,c.currentWriteId,!0))}nN(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);xN(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)bC(r[c]);gN(e,e.transactionQueueTree_)}(e,wN(e,n),r),r}function kN(e,t){var n,r=e.transactionQueueTree_;for(n=eT(t);null!==n&&void 0===VA(r);)r=BA(r,n),n=eT(t=nT(t));return r}function wN(e,t){var n=[];return _N(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function _N(e,t,n){var r=VA(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);qA(t,(function(t){_N(e,t,n)}))}function xN(e,t){var n=VA(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,zA(t,n.length>0?n:void 0)}qA(t,(function(t){xN(e,t)}))}function SN(e,t){var n=HA(kN(e,t)),r=BA(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){EN(e,t)})),EN(e,r),WA(r,(function(t){EN(e,t)})),n}function EN(e,t){var n=VA(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(uo(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(uo(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(bA(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?zA(t,void 0):n.length=a+1,nN(e.eventQueue_,HA(t),i);for(var s=0;s<r.length;s++)bC(r[s])}}var CN=function(e,t){var n=TN(e),r=n.namespace;"firebase.com"===n.domain&&aC(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||aC("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&oC("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new NC(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new JC(n.pathString)}},TN=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Xe(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):oC("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},IN="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",AN=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){wi(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return xi(e,[{key:"key",get:function(){return sT(this._path)?null:rT(this._path)}},{key:"ref",get:function(){return new NN(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=iI(this._queryParams),t=dC(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return iI(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ts(t))instanceof e))return!1;var n=this._repo===t._repo,r=cT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}());var NN=function(e){Ei(n,e);var t=Ai(n);function n(e,r){return wi(this,n),t.call(this,e,r,new nI,!1)}return xi(n,[{key:"parent",get:function(){var e=aT(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(AN);!function(e){uo(!lA,"__referenceConstructor has already been defined"),lA=e}(NN),function(e){uo(!pA,"__referenceConstructor has already been defined"),pA=e}(NN);var DN="FIREBASE_DATABASE_EMULATOR_HOST",PN={},RN=!1;function ON(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||aC("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nC("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=CN(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/e-commerce-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[DN]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=CN(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new SC(SC.OWNER):new xC(e.name,e.options,t);ZA("Invalid Firebase Database URL",s),sT(s.path)||aC("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=PN[t.name];i||(i={},PN[t.name]=i);var a=i[e.toURLString()];a&&aC("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new sN(e,RN,n,r),i[e.toURLString()]=a,a}(u,e,l,new _C(e.name,n));return new MN(f,e)}var MN=function(){function e(t,n){wi(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return xi(e,[{key:"_repo",get:function(){return this._instanceStarted||(uN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new NN(this._repo,ZC())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=PN[t];n&&n[e.key]===e||aC("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),vN(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&aC("Cannot call "+e+" on a deleted database.")}}]),e}();yT.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},yT.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){qE=e}(Xs),Ws(new ns("database",(function(e,t){var n=t.instanceIdentifier;return ON(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),ru(zE,UE,e),ru(zE,UE,"esm2017")}();var LN,FN,jN=function(e,t){return t.some((function(t){return e instanceof t}))};var BN=new WeakMap,VN=new WeakMap,zN=new WeakMap,UN=new WeakMap,qN=new WeakMap;var WN={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return VN.get(e);if("objectStoreNames"===t)return e.objectStoreNames||zN.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return KN(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function HN(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(FN||(FN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(QN(this),n),KN(BN.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return KN(e.apply(QN(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[QN(this),t].concat(r));return zN.set(a,t.sort?t.sort():[t]),KN(a)}}function GN(e){return"function"===typeof e?HN(e):(e instanceof IDBTransaction&&function(e){if(!VN.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));VN.set(e,t)}}(e),jN(e,LN||(LN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,WN):e)}function KN(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(KN(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&BN.set(t,e)})).catch((function(){})),qN.set(t,e),t}(e);if(UN.has(e))return UN.get(e);var t=GN(e);return t!==e&&(UN.set(e,t),qN.set(t,e)),t}var QN=function(e){return qN.get(e)};var YN,$N=["get","getKey","getAll","getAllKeys","count"],XN=["put","add","delete","clear"],JN=new Map;function ZN(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(JN.get(t))return JN.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=XN.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||$N.includes(n))){var a=function(){var e=oo(io().mark((function e(t){var a,o,s,u,c,l,f=arguments;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return JN.set(t,a),a}}}!function(e){WN=e(WN)}((function(e){return m(m({},e),{},{get:function(t,n,r){return ZN(t,n)||e.get(t,n,r)},has:function(t,n){return!!ZN(t,n)||e.has(t,n)}})}));var eD="@firebase/installations",tD="0.6.4",nD=1e4,rD="w:".concat(tD),iD="FIS_v2",aD="https://firebaseinstallations.googleapis.com/v1",oD=36e5,sD=(p(YN={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),p(YN,"not-registered","Firebase Installation is not registered."),p(YN,"installation-not-found","Firebase Installation not found."),p(YN,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),p(YN,"app-offline","Could not process request. Application offline."),p(YN,"delete-pending-registration","Can't delete installation while there is a pending registration request."),YN),uD=new Ro("installations","Installations",sD);function cD(e){return e instanceof Po&&e.code.includes("request-failed")}function lD(e){var t=e.projectId;return"".concat(aD,"/projects/").concat(t,"/installations")}function fD(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function hD(e,t){return dD.apply(this,arguments)}function dD(){return(dD=oo(io().mark((function e(t,n){var r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",uD.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pD(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vD(e,t){var n=t.refreshToken,r=pD(e);return r.append("Authorization",function(e){return"".concat(iD," ").concat(e)}(n)),r}function mD(e){return yD.apply(this,arguments)}function yD(){return yD=oo(io().mark((function e(t){var n;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),yD.apply(this,arguments)}function gD(e,t){return bD.apply(this,arguments)}function bD(){return(bD=oo(io().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=lD(r),s=pD(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:iD,appId:r.appId,sdkVersion:rD},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,mD((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:fD(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,hD("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kD(e){return new Promise((function(t){setTimeout(t,e)}))}var wD=/^[cdef][\w-]{21}$/,_D="";function xD(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,Ze(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return wD.test(t)?t:_D}catch(mr){return _D}}function SD(e){return"".concat(e.appName,"!").concat(e.appId)}var ED=new Map;function CD(e,t){var n=SD(e);TD(n,t),function(e,t){var n=AD();n&&n.postMessage({key:e,fid:t});ND()}(n,t)}function TD(e,t){var n=ED.get(e);if(n){var r,i=Xe(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var ID=null;function AD(){return!ID&&"BroadcastChannel"in self&&((ID=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){TD(e.data.key,e.data.fid)}),ID}function ND(){0===ED.size&&ID&&(ID.close(),ID=null)}var DD="firebase-installations-database",PD=1,RD="firebase-installations-store",OD=null;function MD(){return OD||(OD=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=KN(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(KN(s.result),e.oldVersion,e.newVersion,KN(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(DD,PD,{upgrade:function(e,t){if(0===t)e.createObjectStore(RD)}})),OD}function LD(e,t){return FD.apply(this,arguments)}function FD(){return FD=oo(io().mark((function e(t,n){var r,i,a,o,s;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=SD(t),e.next=3,MD();case 3:return i=e.sent,a=i.transaction(RD,"readwrite"),o=a.objectStore(RD),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||CD(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),FD.apply(this,arguments)}function jD(e){return BD.apply(this,arguments)}function BD(){return BD=oo(io().mark((function e(t){var n,r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=SD(t),e.next=3,MD();case 3:return r=e.sent,i=r.transaction(RD,"readwrite"),e.next=7,i.objectStore(RD).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),BD.apply(this,arguments)}function VD(e,t){return zD.apply(this,arguments)}function zD(){return zD=oo(io().mark((function e(t,n){var r,i,a,o,s,u;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=SD(t),e.next=3,MD();case 3:return i=e.sent,a=i.transaction(RD,"readwrite"),o=a.objectStore(RD),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||CD(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),zD.apply(this,arguments)}function UD(e){return qD.apply(this,arguments)}function qD(){return(qD=oo(io().mark((function e(t){var n,r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VD(t.appConfig,(function(e){var r=WD(e),i=HD(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==_D){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WD(e){return $D(e||{fid:xD(),registrationStatus:0})}function HD(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(uD.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return GD.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:KD(e)}:{installationEntry:t}}function GD(){return(GD=oo(io().mark((function e(t,n){var r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gD(t,n);case 3:return r=e.sent,e.abrupt("return",LD(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!cD(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,jD(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,LD(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function KD(e){return QD.apply(this,arguments)}function QD(){return(QD=oo(io().mark((function e(t){var n,r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YD(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,kD(100);case 6:return e.next=8,YD(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,UD(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YD(e){return VD(e,(function(e){if(!e)throw uD.create("installation-not-found");return $D(e)}))}function $D(e){return 1===(t=e).registrationStatus&&t.registrationTime+nD<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function XD(e,t){return JD.apply(this,arguments)}function JD(){return(JD=oo(io().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=ZD(r,n),o=vD(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:rD,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,mD((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=fD(h),e.abrupt("return",d);case 22:return e.next=24,hD("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZD(e,t){var n=t.fid;return"".concat(lD(e),"/").concat(n,"/authTokens:generate")}function eP(e){return tP.apply(this,arguments)}function tP(){return tP=oo(io().mark((function e(t){var n,r,i,a,o=arguments;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,VD(t.appConfig,(function(e){if(!sP(e))throw uD.create("not-registered");var i=e.authToken;if(!n&&uP(i))return e;if(1===i.requestStatus)return r=nP(t,n),e;if(!navigator.onLine)throw uD.create("app-offline");var a=cP(e);return r=aP(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),tP.apply(this,arguments)}function nP(e,t){return rP.apply(this,arguments)}function rP(){return(rP=oo(io().mark((function e(t,n){var r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iP(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,kD(100);case 6:return e.next=8,iP(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",eP(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iP(e){return VD(e,(function(e){if(!sP(e))throw uD.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+nD<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function aP(e,t){return oP.apply(this,arguments)}function oP(){return(oP=oo(io().mark((function e(t,n){var r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,XD(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,LD(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!cD(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,jD(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,LD(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function sP(e){return void 0!==e&&2===e.registrationStatus}function uP(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+oD}(e)}function cP(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function lP(){return(lP=oo(io().mark((function e(t){var n,r,i,a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,UD(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):eP(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fP(){return fP=oo(io().mark((function e(t){var n,r,i,a=arguments;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,hP(r);case 4:return e.next=6,eP(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),fP.apply(this,arguments)}function hP(e){return dP.apply(this,arguments)}function dP(){return(dP=oo(io().mark((function e(t){var n,r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UD(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pP(e){return uD.create("missing-app-config-values",{valueName:e})}var vP,mP="installations",yP="installations-internal",gP=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw pP("App Configuration");if(!e.name)throw pP("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw pP(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Hs(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},bP=function(e){var t=Hs(e.getProvider("app").getImmediate(),mP).getImmediate(),n={getId:function(){return function(e){return lP.apply(this,arguments)}(t)},getToken:function(e){return function(e){return fP.apply(this,arguments)}(t,e)}};return n};Ws(new ns(mP,gP,"PUBLIC")),Ws(new ns(yP,bP,"PRIVATE")),ru(eD,tD),ru(eD,tD,"esm2017");var kP="analytics",wP="firebase_id",_P="origin",xP=6e4,SP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",EP="https://www.googletagmanager.com/gtag/js",CP=new ps("@firebase/analytics");function TP(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function IP(e,t){var n=document.createElement("script");n.src="".concat(EP,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function AP(e,t,n,r,i,a){return NP.apply(this,arguments)}function NP(){return NP=oo(io().mark((function e(t,n,r,i,a,o){var s,u,c;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,TP(r);case 9:if(u=e.sent,c=u.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),CP.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),NP.apply(this,arguments)}function DP(e,t,n,r,i){return PP.apply(this,arguments)}function PP(){return PP=oo(io().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=27;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,TP(r);case 7:u=e.sent,c=Xe(s),e.prev=9,f=io().mark((function e(){var t,r,i;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,r=u.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),c.s();case 12:if((l=c.n()).done){e.next=19;break}return e.delegateYield(f(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",19);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(9),c.e(e.t1);case 24:return e.prev=24,c.f(),e.finish(24);case 27:return 0===o.length&&(o=Object.values(n)),e.next=30,Promise.all(o);case 30:t("event",i,a||{}),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(0),CP.error(e.t2);case 36:case"end":return e.stop()}}),e,null,[[0,33],[9,21,24,27]])}))),PP.apply(this,arguments)}function RP(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=oo(io().mark((function i(a,o,s){return io().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,DP(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,AP(e,t,n,r,o,s);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",s):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),CP.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function OP(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(EP)&&i.src.includes(e))return i}return null}var MP=(p(vP={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),p(vP,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),p(vP,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),p(vP,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),p(vP,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),p(vP,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),p(vP,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),p(vP,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),p(vP,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),p(vP,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),vP),LP=new Ro("analytics","Analytics",MP),FP=30,jP=1e3,BP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jP;wi(this,e),this.throttleMetadata=t,this.intervalMillis=n}return xi(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),VP=new BP;function zP(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function UP(e){return qP.apply(this,arguments)}function qP(){return qP=oo(io().mark((function e(t){var n,r,i,a,o,s,u,c;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:zP(i)},o=SP.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw LP.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),qP.apply(this,arguments)}function WP(e){return HP.apply(this,arguments)}function HP(){return HP=oo(io().mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:VP,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw LP.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw LP.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new JP,setTimeout(oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:xP),e.abrupt("return",GP({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),HP.apply(this,arguments)}function GP(e,t,n){return KP.apply(this,arguments)}function KP(){return KP=oo(io().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p=arguments;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:VP,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,QP(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return CP.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,UP(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),YP(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return CP.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(s=null===f||void 0===f?void 0:f.customData)||void 0===s?void 0:s.httpStatus)?es(a,o.intervalMillis,FP):es(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(u,d),CP.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",GP(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),KP.apply(this,arguments)}function QP(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(LP.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function YP(e){if(!(e instanceof Po)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var $P,XP,JP=function(){function e(){wi(this,e),this.listeners=[]}return xi(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function ZP(){return(ZP=oo(io().mark((function e(t,n,r,i,a){var o,s;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eR(){return(eR=oo(io().mark((function e(t,n,r,i){var a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tR(){return tR=oo(io().mark((function e(t,n,r,i){var a;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)}))),tR.apply(this,arguments)}function nR(){return nR=oo(io().mark((function e(t,n,r,i){var a,o,s,u,c;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(a={},o=0,s=Object.keys(r);o<s.length;o++)u=s[o],a["user_properties.".concat(u)]=r[u];return t("set",a),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)}))),nR.apply(this,arguments)}function rR(){return(rR=oo(io().mark((function e(t,n){var r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iR(e){XP=e}function aR(e){$P=e}function oR(){return sR.apply(this,arguments)}function sR(){return(sR=oo(io().mark((function e(){return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io()){e.next=5;break}return CP.warn(LP.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Ao();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),CP.warn(LP.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function uR(){return uR=oo(io().mark((function e(t,n,r,i,a,o,s){var u,l,f,h,d,p,v,m;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=WP(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&CP.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return CP.error(e)})),n.push(l),f=oR().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=c(h,2),p=d[0],v=d[1],OP(o)||IP(o,p.measurementId),XP&&(a("consent","default",XP),iR(void 0)),a("js",new Date),(m=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{})[_P]="firebase",m.update=!0,null!=v&&(m[wP]=v),a("config",p.measurementId,m),$P&&(a("set",$P),aR(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),uR.apply(this,arguments)}var cR,lR,fR=function(){function e(t){wi(this,e),this.app=t}return xi(e,[{key:"_delete",value:function(){return delete hR[this.app.options.appId],Promise.resolve()}}]),e}(),hR={},dR=[],pR={},vR="dataLayer",mR="gtag",yR=!1;function gR(e){if(yR)throw LP.create("already-initialized");e.dataLayerName&&(vR=e.dataLayerName),e.gtagName&&(mR=e.gtagName)}function bR(e,t,n){!function(){var e=[];if(Eo()&&e.push("This is a browser extension environment."),No()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=LP.create("invalid-analytics-context",{errorInfo:t});CP.warn(n.message)}}();var r=e.options.appId;if(!r)throw LP.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw LP.create("no-api-key");CP.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=hR[r])throw LP.create("already-exists",{id:r});if(!yR){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(vR);var i=RP(hR,dR,pR,vR,mR),a=i.wrappedGtag,o=i.gtagCore;lR=a,cR=o,yR=!0}return hR[r]=function(e,t,n,r,i,a,o){return uR.apply(this,arguments)}(e,dR,pR,t,cR,vR,n),new fR(e)}function kR(){return wR.apply(this,arguments)}function wR(){return(wR=oo(io().mark((function e(){var t;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Eo()){e.next=2;break}return e.abrupt("return",!1);case 2:if(No()){e.next=4;break}return e.abrupt("return",!1);case 4:if(Io()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,Ao();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function _R(e,t,n){e=ts(e),function(e,t,n,r){return eR.apply(this,arguments)}(lR,hR[e.app.options.appId],t,n).catch((function(e){return CP.error(e)}))}function xR(e,t,n){e=ts(e),function(e,t,n,r){return tR.apply(this,arguments)}(lR,hR[e.app.options.appId],t,n).catch((function(e){return CP.error(e)}))}function SR(e,t,n){e=ts(e),function(e,t,n,r){return nR.apply(this,arguments)}(lR,hR[e.app.options.appId],t,n).catch((function(e){return CP.error(e)}))}function ER(e,t){e=ts(e),function(e,t){return rR.apply(this,arguments)}(hR[e.app.options.appId],t).catch((function(e){return CP.error(e)}))}function CR(e,t,n,r){e=ts(e),function(e,t,n,r,i){return ZP.apply(this,arguments)}(lR,hR[e.app.options.appId],t,n,r).catch((function(e){return CP.error(e)}))}var TR="@firebase/analytics",IR="0.9.4";Ws(new ns(kP,(function(e,t){var n=t.options;return bR(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Ws(new ns("analytics-internal",(function(e){try{var t=e.getProvider(kP).getImmediate();return{logEvent:function(e,n,r){return CR(t,e,n,r)}}}catch(n){throw LP.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),ru(TR,IR),ru(TR,IR,"esm2017");var AR,NR=function(){function e(t,n){wi(this,e),this.app=t,this._delegate=n}return xi(e,[{key:"logEvent",value:function(e,t,n){CR(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){_R(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){xR(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){SR(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){ER(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(AR||(AR={}));var DR=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new NR(t,n)};!function(){var e={Analytics:NR,settings:gR,isSupported:kR,EventName:AR};Pu.INTERNAL.registerComponent(new ns("analytics-compat",DR,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),Pu.registerVersion("@firebase/analytics-compat","0.2.4");Pu.initializeApp({apiKey:"AIzaSyCij2l1DhL0VDIbtZ_XhrtyMMprkJzSKlI",authDomain:"e-commerce-e4008.firebaseapp.com",databaseURL:"https://e-commerce-e4008-default-rtdb.firebaseio.com",projectId:"e-commerce-e4008",storageBucket:"e-commerce-e4008.appspot.com",messagingSenderId:"833005358788",appId:"1:833005358788:web:d533cc446afac1d0e5c391",measurementId:"G-WB4NNTWKJ5"}),Pu.analytics();var PR=Pu;var RR=function(){var e=c((0,t.useState)({email:"",name:"",phone:"",password:"",repassword:""}),2),n=e[0],r=e[1],i=n.email,a=n.name,o=n.phone,s=n.password,u=n.repassword,l=function(e){var t=e.target,i=t.name,a=t.value;r(m(m({},n),{},p({},i,a)))},f=function(){var e=oo(io().mark((function e(t){var r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i&&a&&o&&s&&u?((r=PR.database().ref("myDatabaseRecords")).push(n),r?alert("Account Created successfully"):alert("Unable to create account right now !")):alert("Please fill all entries !");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Sr.jsx)("div",{className:"signup-container",children:(0,Sr.jsx)("div",{className:"signup",children:(0,Sr.jsxs)("form",{action:"",method:"post",children:[(0,Sr.jsxs)("div",{className:"input",children:[(0,Sr.jsx)("label",{htmlFor:"",children:"Email : "}),(0,Sr.jsx)("input",{type:"text",value:i,name:"email",onChange:l})]}),(0,Sr.jsxs)("div",{className:"input",children:[(0,Sr.jsx)("label",{htmlFor:"",children:"Name : "}),(0,Sr.jsx)("input",{type:"text",value:a,name:"name",onChange:l})]}),(0,Sr.jsxs)("div",{className:"input",children:[(0,Sr.jsx)("label",{htmlFor:"",children:"Phone : "}),(0,Sr.jsx)("input",{type:"text",value:o,name:"phone",onChange:l})]}),(0,Sr.jsxs)("div",{className:"input",children:[(0,Sr.jsx)("label",{htmlFor:"",children:"Password : "}),(0,Sr.jsx)("input",{type:"text",value:s,name:"password",onChange:l})]}),(0,Sr.jsxs)("div",{className:"input",children:[(0,Sr.jsx)("label",{htmlFor:"",children:"ReEnter Password : "}),(0,Sr.jsx)("input",{type:"text",value:u,name:"repassword",onChange:l}),s!==u?(0,Sr.jsx)("p",{style:{color:"red"},children:"Password didn't matched"}):null]}),(0,Sr.jsx)(ki,{lable:"Signup",onClick:f}),(0,Sr.jsx)("div",{className:"link",children:(0,Sr.jsx)(to,{to:"/login",children:"Click to Go on Login page"})})]})})})};var OR=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1],s=c((0,t.useState)(""),2),u=(s[0],s[1]),l=Na(),h=function(e){var t=e.target,n=t.name,i=t.value;"email"===n?r(i):o(i)};return(0,Sr.jsx)(Sr.Fragment,{children:(0,Sr.jsxs)("div",{className:"login_info",children:["Note : Please use ",(0,Sr.jsx)("br",{}),"Email : eve.holt@reqres.in ",(0,Sr.jsx)("br",{}),"password : cityslicka",(0,Sr.jsxs)("div",{children:[(0,Sr.jsxs)(Rr,{mx:"auto",children:[(0,Sr.jsx)(Lr,{children:"Email"}),(0,Sr.jsx)("input",{type:"email",name:"email",value:n,onChange:h}),(0,Sr.jsx)(Lr,{mt:"10px",children:"Password"}),(0,Sr.jsx)("input",{type:"email",name:"password",value:a,onChange:h})]}),(0,Sr.jsx)("div",{className:"login_button",children:(0,Sr.jsx)(ki,{lable:"Login",onClick:function(){if(u(""),n&&a){var e={email:n,password:a};f.post("login",e).then((function(e){console.log("response",e),window.localStorage.setItem("token",e.data.token),l("/product")})).catch((function(e){u(e.response.data.error),console.log("after login click",e.response.data.error)}))}}})}),(0,Sr.jsxs)("div",{className:"sign",style:{color:"black",marginTop:"20px"},children:["Dont have account ? ",(0,Sr.jsx)("br",{}),(0,Sr.jsx)(to,{to:"/Signup",style:{color:"blue"},children:"Click to create account"})]})]})]})})};var MR=function(){var e=ci((function(e){return e.itemsToRenderInCart})),t=Na();return(0,Sr.jsx)(Sr.Fragment,{children:(0,Sr.jsxs)("div",{className:"navbar",children:[(0,Sr.jsx)("div",{className:"heading",children:"E-Commerce Website"}),(0,Sr.jsxs)("div",{className:"button",children:[(0,Sr.jsx)(ki,{lable:"Home",onClick:function(){t("/product")}}),(0,Sr.jsx)(ki,{lable:"Cart(".concat(e.length,")"),onClick:function(){t("/product/cart")}}),(0,Sr.jsx)(ki,{lable:"Logout",onClick:function(){t("/login"),window.localStorage.clear()}})]})]})})},LR="ADDTOCART",FR="REMOVEFROMCART",jR=function(e){return{type:FR,payload:e}},BR=function(e){return{type:LR,payload:e}};var VR=function(e){var t=e.id,n=e.img,r=e.desc,i=e.price,a=e.lable,o=(e.stock,Na()),s=gi();return ci((function(e){return e})),(0,Sr.jsxs)("div",{className:"card",children:[(0,Sr.jsx)("div",{className:"item_img",children:(0,Sr.jsx)("img",{src:"".concat(n),alt:"",width:"300px",height:"auto"})}),(0,Sr.jsx)("div",{className:"item_desc",children:r}),(0,Sr.jsx)("div",{className:"item_price",children:i}),(0,Sr.jsxs)("div",{className:"item_add",children:[(0,Sr.jsx)("button",{onClick:function(){!function(e){console.log("event triggred"),s(jR(e))}(t)},children:"-"}),(0,Sr.jsx)("input",{type:"text",value:"Remove / Add"}),(0,Sr.jsx)("button",{onClick:function(){!function(e){s(BR(e))}(t)},children:"+"})]}),(0,Sr.jsx)("div",{className:"item_button",children:(0,Sr.jsx)(ki,{lable:a,onClick:function(){o("/product/".concat(t))}})})]},t)};var zR=function(){var e=ci((function(e){return e}));return console.log("store",e),(0,Sr.jsxs)(Sr.Fragment,{children:[(0,Sr.jsx)(MR,{}),(0,Sr.jsx)("div",{className:"product_container",children:e.originalList.map((function(t){return console.log("store",e),(0,Sr.jsx)(VR,{id:t.id,img:t.imgSrc,desc:t.name,price:t.price,stock:t.availableQuantity,lable:"More Details"},t.id)}))})]})},UR=function(){return(0,Sr.jsx)(Sr.Fragment,{children:(0,Sr.jsx)("div",{children:window.localStorage.getItem("token")?(0,Sr.jsx)(qa,{}):(0,Sr.jsx)(Ua,{to:"/login"})})})};var qR=function(){var e,n,r,i,a,o=ci((function(e){return e})),s=c((0,t.useState)({}),2),u=s[0],l=s[1],f=function(){var e=t.useContext(Ca).matches,n=e[e.length-1];return n?n.params:{}}(),h=Na();return(0,t.useEffect)((function(){var e=o.originalList.filter((function(e){if(f.productId===e.id)return e}));l(e)}),[]),(0,Sr.jsxs)("div",{children:[(0,Sr.jsx)(MR,{}),console.log(u),(0,Sr.jsxs)("div",{className:"content",children:[(0,Sr.jsx)("div",{className:"image",children:(0,Sr.jsx)("img",{src:"".concat(null===(e=u[0])||void 0===e?void 0:e.imgSrc),alt:"",width:"350px"})}),(0,Sr.jsxs)("div",{className:"info",children:[(0,Sr.jsx)("div",{className:"title",children:null===(n=u[0])||void 0===n?void 0:n.name}),(0,Sr.jsx)("div",{className:"warranty",children:null===(r=u[0])||void 0===r?void 0:r.desc.warranty}),(0,Sr.jsx)("div",{className:"price",children:null===(i=u[0])||void 0===i?void 0:i.price}),(0,Sr.jsxs)("div",{className:"features",children:[(0,Sr.jsx)("h3",{children:"Key Features"}),(0,Sr.jsx)("ol",{children:null===(a=u[0])||void 0===a?void 0:a.desc.keyFeatures.map((function(e,t){return(0,Sr.jsx)("li",{children:e},t)}))})]})]})]}),(0,Sr.jsx)("div",{className:"button",children:(0,Sr.jsx)(ki,{onClick:function(){h("/product")},lable:"Back"})})]})};var WR=function(){var e=ci((function(e){return e.itemsToRenderInCart}));return(0,Sr.jsxs)(Sr.Fragment,{children:[(0,Sr.jsx)(MR,{}),(0,Sr.jsx)("div",{className:"cart_product",children:e.length>0?e.map((function(e){return(0,Sr.jsx)(VR,{id:e.id,img:e.imgSrc,desc:e.name,price:e.price,stock:e.availableQuantity,lable:"More Details"},e.id)})):(0,Sr.jsx)("h2",{className:"empty",children:"Please add Items in Cart ! "})})]})};var HR=function(){return(0,Sr.jsx)("div",{children:(0,Sr.jsxs)(Ga,{children:[(0,Sr.jsx)(Wa,{path:"/signup",element:(0,Sr.jsx)(RR,{})}),(0,Sr.jsx)(Wa,{path:"/login",element:(0,Sr.jsx)(OR,{})}),(0,Sr.jsxs)(Wa,{exact:!0,path:"/",element:(0,Sr.jsx)(UR,{}),children:[(0,Sr.jsx)(Wa,{path:"/product",element:(0,Sr.jsx)(zR,{})}),(0,Sr.jsx)(Wa,{path:"/product/:productId",element:(0,Sr.jsx)(qR,{})}),(0,Sr.jsx)(Wa,{path:"/product/cart",element:(0,Sr.jsx)(WR,{})})]})]})})};function GR(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var KR="function"===typeof Symbol&&Symbol.observable||"@@observable",QR=function(){return Math.random().toString(36).substring(7).split("").join(".")},YR={INIT:"@@redux/INIT"+QR(),REPLACE:"@@redux/REPLACE"+QR(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+QR()}};function $R(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function XR(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(GR(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(GR(1));return n(XR)(e,t)}if("function"!==typeof e)throw new Error(GR(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(GR(3));return a}function f(e){if("function"!==typeof e)throw new Error(GR(4));if(u)throw new Error(GR(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(GR(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!$R(e))throw new Error(GR(7));if("undefined"===typeof e.type)throw new Error(GR(8));if(u)throw new Error(GR(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:YR.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(GR(10));i=e,h({type:YR.REPLACE})}})[KR]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(GR(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[KR]=function(){return this},e},r}var JR={itemsToRenderInCart:[],originalList:[{id:"ADKF27DMC",name:"Apple iPhone 13 128 GB, Green",price:"INR 79,000",availableQuantity:10,imgSrc:"https://www.reliancedigital.in/medias/Apple-iPhone-13-Smartphones-492849504-i-1-1200Wx1200H?context=bWFzdGVyfGltYWdlc3wxMzAzNzZ8aW1hZ2UvanBlZ3xpbWFnZXMvaDljL2gzZS85ODgwMzYyODc2OTU4LmpwZ3w5NmU2Yjg0MDUyOGZmZGIxZDIxNzQzZmJkMmYxNDBiNTJiYWI5MGQzMGUwOTZkNmEwYWRmMWNjNTY1MzVmNmJm",desc:{warranty:"1 Year manufacturer warranty",keyFeatures:["15.4 cm (6.1\u2011inch) Super Retina XDR OLED Display","5G Enabled Phone, A15 Bionic Chip","Dual 12 MP Camera System: Ultra Wide and Wide Cameras","Rated IP68 Splash, Water and Dust Resistant"]}},{id:"ADKF27DBC",name:"Sony PS5 DualSense Wireless Controller",price:"INR 5,990",availableQuantity:0,imgSrc:"https://www.reliancedigital.in/medias/Sony-CFI-ZCT1WRU-Gaming-Accessories-491936182-i-1-1200Wx1200H?context=bWFzdGVyfGltYWdlc3wxMzY3NDV8aW1hZ2UvanBlZ3xpbWFnZXMvaDBkL2hjNi85NDU0MDEyOTg5NDcwLmpwZ3wzZjZiYmQ1ZTM2Mjk1N2MyNTU4ZDhhMmRhODc4MjIyMzJjZGYyMTBkMzU3YTdmMTFkYmQzZWFkMGMwYWFjNjM0",desc:{warranty:"",keyFeatures:["Feel Your In-Game Actions and Environment Simulated Through Haptic Feedback","Experience Varying Force and Tension at Your Fingertips with Adaptive Triggers","Chat Online Through the Built-In Microphone","Connect a Headset Directly via the 3.5 mm Jack"]}},{id:"ADKF27DFC",name:"Apple MME73HN/A 3rd Generation Airpods with Mic and Wireless Charging Case, White",price:"INR 18,599",availableQuantity:1,imgSrc:"https://www.reliancedigital.in/medias/Apple-Airpods-492571632-i-1-1200Wx1200H?context=bWFzdGVyfGltYWdlc3w3MjQxMHxpbWFnZS9qcGVnfGltYWdlcy9oYmYvaDA5Lzk4MjU2MDg3OTQxNDIuanBnfGE5Y2VjOGMwZjA5MjMyNzQxZDYxNGE2MzA0M2E5YjcwOGUwMzRiZmM0NWRhNjQyOTJmZGJiMjU0ZjFmY2IyYWI",desc:{warranty:"1 Year manufacturer warranty",keyFeatures:["Sweat and water resistant (IPX4)","H1 headphone chip","Custom high dynamic range amplifier","Custom high-excursion Apple driver"]}},{id:"ADKF2HOLA",name:"Apple Watch Series 7 Cellular - 45 mm Green Aluminum Case with Clover Sport Band",price:"INR 53,900",availableQuantity:2,imgSrc:"https://www.reliancedigital.in/medias/Apple-Series-7-Smart-Watches-491998504-i-1-1200Wx1200H?context=bWFzdGVyfGltYWdlc3wxNjI4NDh8aW1hZ2UvanBlZ3xpbWFnZXMvaGJhL2g3YS85NjQ5NDYyODM3Mjc4LmpwZ3xmNTMwODhlZDVmNGFiZDMzM2JmZTkyMmI2YTA0NDM1NTVmZmMxMWNhZGU1MmI3MWI5N2EyYTkxMjg3MDIwMzI4",desc:{warranty:"1 Year manufacturer warranty",keyFeatures:["Always-On Retina LTPO OLED display, 1,000 nits","LTE and UMTS Connectivity, International emergency calling","Fall Detection, water resistant 50 metres","Dust resistant (IP6X), Most crack-resistant front crystal"]}},{id:"ADKF21HGI",name:"Apple iPad Pro 3rd Gen 2021 27.96 cm (11 inch) Wi-Fi + Cellular Tablet 8 GB RAM, 128 GB, Space Grey, MHW53HN/A",price:"INR 82,499",availableQuantity:5,imgSrc:"https://www.reliancedigital.in/medias/iPad-Pro-3rd-Gen-11-Cellular-128GB-Space-Grey-2021-MHW53HN-A-Tablet-491996612-i-1-1200Wx1200H?context=bWFzdGVyfGltYWdlc3wxODYyMzN8aW1hZ2UvanBlZ3xpbWFnZXMvaGQ2L2g3Mi85NTQyMzI5NTY1MjE0LmpwZ3xlZTRlY2Y4Y2U0OWZiMzI1MDY1ZTMzNjY2MjBhY2IwOGE2NzRkOWFmZmE5YzVjNmJmMzM0ODI4ZDc1ZjA1Mjg3",desc:{warranty:"1 Year manufacturer warranty",keyFeatures:["Operating System Type: iOS","Size: 27.94 cm (11 inch)","RAM: 8 GB","Internal Storage: 128 GB"]}}]},ZR=XR((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JR,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case LR:var n=e.originalList.filter((function(e){if(e.id==t.payload)return e}));return e.itemsToRenderInCart.includes(n[0])||e.itemsToRenderInCart.push(n[0]),console.log("added",n),m({},e);case FR:var r=e.itemsToRenderInCart.filter((function(e){if(e.id!=t.payload)return e}));return e.itemsToRenderInCart=r,console.log("afterremove",e.itemsToRenderInCart),m({},e);default:return e}}),JR),eO=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},tO="\n  :root {\n    --chakra-vh: 100vh;\n  }\n\n  @supports (height: -webkit-fill-available) {\n    :root {\n      --chakra-vh: -webkit-fill-available;\n    }\n  }\n\n  @supports (height: -moz-fill-available) {\n    :root {\n      --chakra-vh: -moz-fill-available;\n    }\n  }\n\n  @supports (height: 100dvh) {\n    :root {\n      --chakra-vh: 100dvh;\n    }\n  }\n",nO=function(){return(0,Sr.jsx)(Ur,{styles:tO})},rO=function(){return(0,Sr.jsx)(Ur,{styles:'\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: \'kern\';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type="button"]::-moz-focus-inner,\n      [type="reset"]::-moz-focus-inner,\n      [type="submit"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type="checkbox"],\n      [type="radio"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type="number"]::-webkit-inner-spin-button,\n      [type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      [type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role="button"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n\n      '.concat(tO,"\n    ")})},iO=c(g({strict:!1,name:"PortalManagerContext"}),2),aO=iO[0],oO=iO[1];function sO(e){var t=e.children,n=e.zIndex;return(0,Sr.jsx)(aO,{value:{zIndex:n},children:t})}function uO(e){var n=e.cssVarsRoot,r=e.theme,i=e.children,a=(0,t.useMemo)((function(){return Mn(r)}),[r]);return(0,Sr.jsxs)(Ke,{theme:a,children:[(0,Sr.jsx)(cO,{root:n}),i]})}function cO(e){var t=e.root,n=[void 0===t?":host, :root":t,"[data-theme]"].join(",");return(0,Sr.jsx)(Ur,{styles:function(e){return p({},n,e.__cssVars)}})}sO.displayName="PortalManager";var lO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.strict,r=void 0===n||n,i=e.errorMessage,a=void 0===i?"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider":i,o=e.name,s=(0,t.createContext)(void 0);return s.displayName=o,[s.Provider,function e(){var n,i=(0,t.useContext)(s);if(!i&&r){var o=new Error(a);throw o.name="ContextError",null==(n=Error.captureStackTrace)||n.call(Error,o,e),o}return i},s]}({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "}),fO=c(lO,2);fO[0],fO[1];function hO(){var e=Ye().colorMode;return(0,Sr.jsx)(Ur,{styles:function(t){var n=ar(Qn(t,"styles.global"),{theme:t,colorMode:e});if(n){var r=Wn(n)(t);return r}}})}var dO={light:"chakra-ui-light",dark:"chakra-ui-dark"};var pO="chakra-ui-color-mode";var vO=function(e){return{ssr:!1,type:"localStorage",get:function(t){if(!(null==globalThis?void 0:globalThis.document))return t;var n;try{n=localStorage.getItem(e)||t}catch(r){}return n||t},set:function(t){try{localStorage.setItem(e,t)}catch(n){}}}}(pO);function mO(e,t){var n=e.match(new RegExp("(^| )".concat(t,"=([^;]+)")));return null==n?void 0:n[2]}function yO(e,t){return{ssr:!!t,type:"cookie",get:function(n){return t?mO(t,e):(null==globalThis?void 0:globalThis.document)&&mO(document.cookie,e)||n},set:function(t){document.cookie="".concat(e,"=").concat(t,"; max-age=31536000; path=/")}}}yO(pO);var gO=Boolean(null==globalThis?void 0:globalThis.document)?t.useLayoutEffect:t.useEffect,bO=function(){};function kO(e,t){return"cookie"===e.type&&e.ssr?e.get(t):t}function wO(e){var n=e.value,r=e.children,i=e.options,a=void 0===i?{}:i,o=a.useSystemColorMode,s=a.initialColorMode,u=a.disableTransitionOnChange,l=e.colorModeManager,f=void 0===l?vO:l,h="dark"===s?"dark":"light",d=c((0,t.useState)((function(){return kO(f,h)})),2),p=d[0],v=d[1],m=c((0,t.useState)((function(){return kO(f)})),2),y=m[0],g=m[1],b=(0,t.useMemo)((function(){return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preventTransition,t=void 0===e||e,n={setDataset:function(e){var r=t?n.preventTransition():void 0;document.documentElement.dataset.theme=e,document.documentElement.style.colorScheme=e,null==r||r()},setClassName:function(e){document.body.classList.add(e?dO.dark:dO.light),document.body.classList.remove(e?dO.light:dO.dark)},query:function(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme:function(e){var t;return(null!=(t=n.query().matches)?t:"dark"===e)?"dark":"light"},addListener:function(e){var t=n.query(),r=function(t){e(t.matches?"dark":"light")};return"function"===typeof t.addListener?t.addListener(r):t.addEventListener("change",r),function(){"function"===typeof t.removeListener?t.removeListener(r):t.removeEventListener("change",r)}},preventTransition:function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),function(){window.getComputedStyle(document.body),requestAnimationFrame((function(){requestAnimationFrame((function(){document.head.removeChild(e)}))}))}}};return n}({preventTransition:u})}),[u]),k=b.getSystemTheme,w=b.setClassName,_=b.setDataset,x=b.addListener,S="system"!==s||p?p:y,E=(0,t.useCallback)((function(e){var t="system"===e?k():e;v(t),w("dark"===t),_(t),f.set(t)}),[f,k,w,_]);gO((function(){"system"===s&&g(k())}),[]),(0,t.useEffect)((function(){var e=f.get();E(e||("system"!==s?h:"system"))}),[f,h,s,E]);var C=(0,t.useCallback)((function(){E("dark"===S?"light":"dark")}),[S,E]);(0,t.useEffect)((function(){if(o)return x(E)}),[o,x,E]);var T=(0,t.useMemo)((function(){return{colorMode:null!=n?n:S,toggleColorMode:n?bO:C,setColorMode:n?bO:E,forced:void 0!==n}}),[S,C,E,n]);return(0,Sr.jsx)(Qe.Provider,{value:T,children:r})}wO.displayName="ColorModeProvider";var _O=(0,t.createContext)({getDocument:function(){return document},getWindow:function(){return window}});function xO(e){var n=e.children,r=e.environment,i=e.disabled,a=(0,t.useRef)(null),o=(0,t.useMemo)((function(){return r||{getDocument:function(){var e,t;return null!=(t=null==(e=a.current)?void 0:e.ownerDocument)?t:document},getWindow:function(){var e,t;return null!=(t=null==(e=a.current)?void 0:e.ownerDocument.defaultView)?t:window}}}),[r]),s=!i||!r;return(0,Sr.jsxs)(_O.Provider,{value:o,children:[n,s&&(0,Sr.jsx)("span",{id:"__chakra_env",hidden:!0,ref:a})]})}_O.displayName="EnvironmentContext",xO.displayName="EnvironmentProvider";var SO=function(e){var t=e.children,n=e.colorModeManager,r=e.portalZIndex,i=e.resetCSS,a=void 0===i||i,o=e.theme,s=void 0===o?{}:o,u=e.environment,c=e.cssVarsRoot,l=e.disableEnvironment,f=(0,Sr.jsx)(xO,{environment:u,disabled:l,children:t});return(0,Sr.jsx)(uO,{theme:s,cssVarsRoot:c,children:(0,Sr.jsxs)(wO,{colorModeManager:n,options:s.config,children:[a?(0,Sr.jsx)(rO,{}):(0,Sr.jsx)(nO,{}),(0,Sr.jsx)(hO,{}),r?(0,Sr.jsx)(sO,{zIndex:r,children:f}):f]})})},EO={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},CO={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},TO={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},IO={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},AO={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},NO={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},DO={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},PO={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},RO={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},OO={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},MO=m(m(m({},OO),{max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"}),{},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}}),LO=m(m({breakpoints:CO,zIndices:EO,radii:IO,blur:DO,colors:TO},RO),{},{sizes:MO,shadows:AO,space:OO,borders:PO,transition:NO});function FO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;function r(t){var n=(["container","root"].includes(null!=t?t:"")?[e]:[e,t]).filter(Boolean).join("__"),r="chakra-".concat(n);return{className:r,selector:".".concat(r),toString:function(){return t}}}return{parts:function(){!function(){if(n)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");n=!0}();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];for(var s=0,u=a;s<u.length;s++){var c=u[s];t[c]=r(c)}return FO(e,t)},toPart:r,extend:function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];for(var o=0,s=i;o<s.length;o++){var u=s[o];u in t||(t[u]=r(u))}return FO(e,t)},selectors:function(){return Object.fromEntries(Object.entries(t).map((function(e){var t=c(e,2);return[t[0],t[1].selector]})))},classnames:function(){return Object.fromEntries(Object.entries(t).map((function(e){var t=c(e,2);return[t[0],t[1].className]})))},get keys(){return Object.keys(t)},__type:{}}}var jO=FO("accordion").parts("root","container","button","panel").extend("icon"),BO=FO("alert").parts("title","description","container").extend("icon","spinner"),VO=FO("avatar").parts("label","badge","container").extend("excessLabel","group"),zO=FO("breadcrumb").parts("link","item","container").extend("separator"),UO=(FO("button").parts(),FO("checkbox").parts("control","icon","container").extend("label")),qO=(FO("progress").parts("track","filledTrack").extend("label"),FO("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer")),WO=FO("editable").parts("preview","input","textarea"),HO=FO("form").parts("container","requiredIndicator","helperText"),GO=FO("formError").parts("text","icon"),KO=FO("input").parts("addon","field","element"),QO=FO("list").parts("container","item","icon"),YO=FO("menu").parts("button","list","item").extend("groupTitle","command","divider"),$O=FO("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),XO=FO("numberinput").parts("root","field","stepperGroup","stepper"),JO=(FO("pininput").parts("field"),FO("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton")),ZO=FO("progress").parts("label","filledTrack","track"),eM=FO("radio").parts("container","control","label"),tM=FO("select").parts("field","icon"),nM=FO("slider").parts("container","track","thumb","filledTrack","mark"),rM=FO("stat").parts("container","label","helpText","number","icon"),iM=FO("switch").parts("container","track","thumb"),aM=FO("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),oM=FO("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),sM=FO("tag").parts("container","label","closeButton"),uM=FO("card").parts("container","header","body","footer");function cM(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return t.includes("\\.")?e:function(e){return!Number.isInteger(parseFloat(e.toString()))}(e)?t.replace(".","\\."):e}function lM(e,t){return"var(".concat(cM(e)).concat(t?", ".concat(t):"",")")}function fM(e){return"--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",cM(e)].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""))}function hM(e,t){var n=fM(e,null==t?void 0:t.prefix);return{variable:n,reference:lM(n,dM(null==t?void 0:t.fallback))}}function dM(e){return"string"===typeof e?e:null==e?void 0:e.reference}function pM(e){return nt(e)&&e.reference?e.reference:String(e)}var vM,mM,yM,gM=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(pM).join(" ".concat(e," ")).replace(/calc/g,"")},bM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(gM.apply(void 0,["+"].concat(t)),")")},kM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(gM.apply(void 0,["-"].concat(t)),")")},wM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(gM.apply(void 0,["*"].concat(t)),")")},_M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(gM.apply(void 0,["/"].concat(t)),")")},xM=function(e){var t=pM(e);return null==t||Number.isNaN(parseFloat(t))?wM(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},SM=Object.assign((function(e){return{add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return SM(bM.apply(void 0,[e].concat(n)))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return SM(kM.apply(void 0,[e].concat(n)))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return SM(wM.apply(void 0,[e].concat(n)))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return SM(_M.apply(void 0,[e].concat(n)))},negate:function(){return SM(xM(e))},toString:function(){return e.toString()}}}),{add:bM,subtract:kM,multiply:wM,divide:_M,negate:xM}),EM=Hn(iM.keys),CM=EM.defineMultiStyleConfig,TM=EM.definePartsStyle,IM=hM("switch-track-width"),AM=hM("switch-track-height"),NM=hM("switch-track-diff"),DM=SM.subtract(IM,AM),PM=hM("switch-thumb-x"),RM=hM("switch-bg"),OM=function(e){var t,n,r=e.colorScheme;return p(n={borderRadius:"full",p:"0.5",width:[IM.reference],height:[AM.reference],transitionProperty:"common",transitionDuration:"fast"},RM.variable,"colors.gray.300"),p(n,"_dark",p({},RM.variable,"colors.whiteAlpha.400")),p(n,"_focusVisible",{boxShadow:"outline"}),p(n,"_disabled",{opacity:.4,cursor:"not-allowed"}),p(n,"_checked",(p(t={},RM.variable,"colors.".concat(r,".500")),p(t,"_dark",p({},RM.variable,"colors.".concat(r,".200"))),t)),p(n,"bg",RM.reference),n},MM={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[AM.reference],height:[AM.reference],_checked:{transform:"translateX(".concat(PM.reference,")")}},LM=TM((function(e){var t;return{container:(t={},p(t,NM.variable,DM),p(t,PM.variable,NM.reference),p(t,"_rtl",p({},PM.variable,SM(NM).negate().toString())),t),track:OM(e),thumb:MM}})),FM=CM({baseStyle:LM,sizes:{sm:TM({container:(vM={},p(vM,IM.variable,"1.375rem"),p(vM,AM.variable,"sizes.3"),vM)}),md:TM({container:(mM={},p(mM,IM.variable,"1.875rem"),p(mM,AM.variable,"sizes.4"),mM)}),lg:TM({container:(yM={},p(yM,IM.variable,"2.875rem"),p(yM,AM.variable,"sizes.6"),yM)})},defaultProps:{size:"md",colorScheme:"blue"}});function jM(e,t){return function(n){return"dark"===n.colorMode?t:e}}function BM(e){var t=e.orientation,n=e.vertical,r=e.horizontal;return t?"vertical"===t?n:r:{}}var VM=Hn(aM.keys),zM=VM.defineMultiStyleConfig,UM=VM.definePartsStyle,qM=UM({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),WM={"&[data-is-numeric=true]":{textAlign:"end"}},HM=zM({baseStyle:qM,variants:{simple:UM((function(e){var t=e.colorScheme;return{th:m({color:jM("gray.600","gray.400")(e),borderBottom:"1px",borderColor:jM("".concat(t,".100"),"".concat(t,".700"))(e)},WM),td:m({borderBottom:"1px",borderColor:jM("".concat(t,".100"),"".concat(t,".700"))(e)},WM),caption:{color:jM("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),striped:UM((function(e){var t=e.colorScheme;return{th:m({color:jM("gray.600","gray.400")(e),borderBottom:"1px",borderColor:jM("".concat(t,".100"),"".concat(t,".700"))(e)},WM),td:m({borderBottom:"1px",borderColor:jM("".concat(t,".100"),"".concat(t,".700"))(e)},WM),caption:{color:jM("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:jM("".concat(t,".100"),"".concat(t,".700"))(e)},td:{background:jM("".concat(t,".100"),"".concat(t,".700"))(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),unstyled:{}},sizes:{sm:UM({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:UM({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:UM({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}});function GM(e,t,n){return Math.min(Math.max(e,n),t)}var KM=function(e){Ei(n,e);var t=Ai(n);function n(e){return wi(this,n),t.call(this,'Failed to parse color: "'.concat(e,'"'))}return xi(n)}(Di(Error)),QM=KM;function YM(e){if("string"!==typeof e)throw new QM(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];var t=e.trim();t=rL.test(e)?function(e){var t=e.toLowerCase().trim(),n=XM[function(e){var t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}(t)];if(!n)throw new QM(e);return"#".concat(n)}(e):e;var n=ZM.exec(t);if(n){var r=Array.from(n).slice(1);return[].concat(Ze(r.slice(0,3).map((function(e){return parseInt(JM(e,2),16)}))),[parseInt(JM(r[3]||"f",2),16)/255])}var i=eL.exec(t);if(i){var a=Array.from(i).slice(1);return[].concat(Ze(a.slice(0,3).map((function(e){return parseInt(e,16)}))),[parseInt(a[3]||"ff",16)/255])}var o=tL.exec(t);if(o){var s=Array.from(o).slice(1);return[].concat(Ze(s.slice(0,3).map((function(e){return parseInt(e,10)}))),[parseFloat(s[3]||"1")])}var u=nL.exec(t);if(u){var l=c(Array.from(u).slice(1).map(parseFloat),4),f=l[0],h=l[1],d=l[2],p=l[3];if(GM(0,100,h)!==h)throw new QM(e);if(GM(0,100,d)!==d)throw new QM(e);return[].concat(Ze(aL(f,h,d)),[Number.isNaN(p)?1:p])}throw new QM(e)}var $M=function(e){return parseInt(e.replace(/_/g,""),36)},XM="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((function(e,t){for(var n=$M(t.substring(0,3)),r=$M(t.substring(3)).toString(16),i="",a=0;a<6-r.length;a++)i+="0";return e[n]="".concat(i).concat(r),e}),{});var JM=function(e,t){return Array.from(Array(t)).map((function(){return e})).join("")},ZM=new RegExp("^#".concat(JM("([a-f0-9])",3),"([a-f0-9])?$"),"i"),eL=new RegExp("^#".concat(JM("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),tL=new RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(JM(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),nL=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,rL=/^[a-z]+$/i,iL=function(e){return Math.round(255*e)},aL=function(e,t,n){var r=n/100;if(0===t)return[r,r,r].map(iL);var i=(e%360+360)%360/60,a=(1-Math.abs(2*r-1))*(t/100),o=a*(1-Math.abs(i%2-1)),s=0,u=0,c=0;i>=0&&i<1?(s=a,u=o):i>=1&&i<2?(s=o,u=a):i>=2&&i<3?(u=a,c=o):i>=3&&i<4?(u=o,c=a):i>=4&&i<5?(s=o,c=a):i>=5&&i<6&&(s=a,c=o);var l=r-a/2;return[s+l,u+l,c+l].map(iL)};function oL(e,t,n,r){return"rgba(".concat(GM(0,255,e).toFixed(),", ").concat(GM(0,255,t).toFixed(),", ").concat(GM(0,255,n).toFixed(),", ").concat(parseFloat(GM(0,1,r).toFixed(3)),")")}function sL(e,t){var n=c(YM(e),4);return oL(n[0],n[1],n[2],n[3]-t)}var uL=function(e){return 0===Object.keys(e).length},cL=function(e,t,n){var r=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}(e,"colors.".concat(t),t);try{return function(e){var t=c(YM(e),4),n=t[0],r=t[1],i=t[2],a=t[3],o=function(e){var t=GM(0,255,e).toString(16);return 1===t.length?"0".concat(t):t};"#".concat(o(n)).concat(o(r)).concat(o(i)).concat(a<1?o(Math.round(255*a)):"")}(r),r}catch(i){return null!=n?n:"#000000"}},lL=function(e){return function(t){var n=function(e){var t=c(YM(e),3);return(299*t[0]+587*t[1]+114*t[2])/1e3}(cL(t,e));return n<128?"dark":"light"}},fL=function(e,t){return function(n){return sL(cL(n,e),1-t)}};function hL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1rem",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255, 255, 255, 0.15)";return{backgroundImage:"linear-gradient(\n    45deg,\n    ".concat(t," 25%,\n    transparent 25%,\n    transparent 50%,\n    ").concat(t," 50%,\n    ").concat(t," 75%,\n    transparent 75%,\n    transparent\n  )"),backgroundSize:"".concat(e," ").concat(e)}}var dL=function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0"))};function pL(e){var t=dL();return!e||uL(e)?t:e.string&&e.colors?function(e,t){var n=0;if(0===e.length)return t[0];for(var r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n&=n;return n=(n%t.length+t.length)%t.length,t[n]}(e.string,e.colors):e.string&&!e.colors?function(e){var t=0;if(0===e.length)return t.toString();for(var n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t),t&=t;for(var r="#",i=0;i<3;i+=1){r+="00".concat((t>>8*i&255).toString(16)).substr(-2)}return r}(e.string):e.colors&&!e.string?function(e){return e[Math.floor(Math.random()*e.length)]}(e.colors):t}var vL=sn("tabs-color"),mL=sn("tabs-bg"),yL=sn("tabs-border-color"),gL=Hn(oM.keys),bL=gL.defineMultiStyleConfig,kL=gL.definePartsStyle,wL=function(e){return{display:"vertical"===e.orientation?"flex":"block"}},_L=function(e){return{flex:e.isFitted?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},xL=function(e){var t=e.align,n=void 0===t?"start":t,r=e.orientation;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:"vertical"===r?"column":"row"}},SL={p:4},EL=kL((function(e){return{root:wL(e),tab:_L(e),tablist:xL(e),tabpanel:SL}})),CL={sm:kL({tab:{py:1,px:4,fontSize:"sm"}}),md:kL({tab:{fontSize:"md",py:2,px:4}}),lg:kL({tab:{fontSize:"lg",py:3,px:4}})},TL=kL((function(e){var t,n,r,i,a=e.colorScheme,o=e.orientation,s="vertical"===o?"borderStart":"borderBottom",u="vertical"===o?"marginStart":"marginBottom";return{tablist:(t={},p(t,s,"2px solid"),p(t,"borderColor","inherit"),t),tab:(i={},p(i,s,"2px solid"),p(i,"borderColor","transparent"),p(i,u,"-2px"),p(i,"_selected",(n={},p(n,vL.variable,"colors.".concat(a,".600")),p(n,"_dark",p({},vL.variable,"colors.".concat(a,".300"))),p(n,"borderColor","currentColor"),n)),p(i,"_active",(r={},p(r,mL.variable,"colors.gray.200"),p(r,"_dark",p({},mL.variable,"colors.whiteAlpha.300")),r)),p(i,"_disabled",{_active:{bg:"none"}}),p(i,"color",vL.reference),p(i,"bg",mL.reference),i)}})),IL=kL((function(e){var t,n,r,i=e.colorScheme;return{tab:(r={borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px"},p(r,yL.variable,"transparent"),p(r,"_selected",(n={},p(n,vL.variable,"colors.".concat(i,".600")),p(n,yL.variable,"colors.white"),p(n,"_dark",(t={},p(t,vL.variable,"colors.".concat(i,".300")),p(t,yL.variable,"colors.gray.800"),t)),p(n,"borderColor","inherit"),p(n,"borderBottomColor",yL.reference),n)),p(r,"color",vL.reference),r),tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),AL=kL((function(e){var t,n,r,i=e.colorScheme;return{tab:(r={border:"1px solid",borderColor:"inherit"},p(r,mL.variable,"colors.gray.50"),p(r,"_dark",p({},mL.variable,"colors.whiteAlpha.50")),p(r,"mb","-1px"),p(r,"_notLast",{marginEnd:"-1px"}),p(r,"_selected",(n={},p(n,mL.variable,"colors.white"),p(n,vL.variable,"colors.".concat(i,".600")),p(n,"_dark",(t={},p(t,mL.variable,"colors.gray.800"),p(t,vL.variable,"colors.".concat(i,".300")),t)),p(n,"borderColor","inherit"),p(n,"borderTopColor","currentColor"),p(n,"borderBottomColor","transparent"),n)),p(r,"color",vL.reference),p(r,"bg",mL.reference),r),tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),NL=kL((function(e){var t=e.colorScheme,n=e.theme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:cL(n,"".concat(t,".700")),bg:cL(n,"".concat(t,".100"))}}}})),DL=bL({baseStyle:EL,sizes:CL,variants:{line:TL,enclosed:IL,"enclosed-colored":AL,"soft-rounded":NL,"solid-rounded":kL((function(e){var t,n,r,i=e.colorScheme;return{tab:(r={borderRadius:"full",fontWeight:"semibold"},p(r,vL.variable,"colors.gray.600"),p(r,"_dark",p({},vL.variable,"inherit")),p(r,"_selected",(n={},p(n,vL.variable,"colors.white"),p(n,mL.variable,"colors.".concat(i,".600")),p(n,"_dark",(t={},p(t,vL.variable,"colors.gray.800"),p(t,mL.variable,"colors.".concat(i,".300")),t)),n)),p(r,"color",vL.reference),p(r,"bg",mL.reference),r)}})),unstyled:kL({})},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),PL={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},RL=sn("badge-bg"),OL=sn("badge-color"),ML=function(e){var t,n,r=e.colorScheme,i=e.theme,a=fL("".concat(r,".500"),.6)(i);return p(n={},RL.variable,"colors.".concat(r,".500")),p(n,OL.variable,"colors.white"),p(n,"_dark",(p(t={},RL.variable,a),p(t,OL.variable,"colors.whiteAlpha.800"),t)),p(n,"bg",RL.reference),p(n,"color",OL.reference),n},LL=function(e){var t,n,r=e.colorScheme,i=e.theme,a=fL("".concat(r,".200"),.16)(i);return p(n={},RL.variable,"colors.".concat(r,".100")),p(n,OL.variable,"colors.".concat(r,".800")),p(n,"_dark",(p(t={},RL.variable,a),p(t,OL.variable,"colors.".concat(r,".200")),t)),p(n,"bg",RL.reference),p(n,"color",OL.reference),n},FL=function(e){var t,n=e.colorScheme,r=e.theme,i=fL("".concat(n,".200"),.8)(r);return p(t={},OL.variable,"colors.".concat(n,".500")),p(t,"_dark",p({},OL.variable,i)),p(t,"color",OL.reference),p(t,"boxShadow","inset 0 0 0px 1px ".concat(OL.reference)),t},jL={baseStyle:PL,variants:{solid:ML,subtle:LL,outline:FL},defaultProps:{variant:"subtle",colorScheme:"gray"}},BL=Hn(sM.keys),VL=BL.defineMultiStyleConfig,zL=BL.definePartsStyle,UL=zL({container:{fontWeight:"medium",lineHeight:1.2,outline:0,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}}),qL={sm:zL({container:{minH:"5",minW:"5",fontSize:"xs",px:"2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:zL({container:{minH:"6",minW:"6",fontSize:"sm",px:"2"}}),lg:zL({container:{minH:"8",minW:"8",fontSize:"md",px:"3"}})},WL={subtle:zL((function(e){var t;return{container:null==(t=jL.variants)?void 0:t.subtle(e)}})),solid:zL((function(e){var t;return{container:null==(t=jL.variants)?void 0:t.solid(e)}})),outline:zL((function(e){var t;return{container:null==(t=jL.variants)?void 0:t.outline(e)}}))},HL=VL({variants:WL,baseStyle:UL,sizes:qL,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),GL=Hn(KO.keys),KL=GL.definePartsStyle,QL=GL.defineMultiStyleConfig,YL=KL({field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),$L={lg:{fontSize:"lg",px:"4",h:"12",borderRadius:"md"},md:{fontSize:"md",px:"4",h:"10",borderRadius:"md"},sm:{fontSize:"sm",px:"3",h:"8",borderRadius:"sm"},xs:{fontSize:"xs",px:"2",h:"6",borderRadius:"sm"}},XL={lg:KL({field:$L.lg,addon:$L.lg}),md:KL({field:$L.md,addon:$L.md}),sm:KL({field:$L.sm,addon:$L.sm}),xs:KL({field:$L.xs,addon:$L.xs})};function JL(e){var t=e.focusBorderColor,n=e.errorBorderColor;return{focusBorderColor:t||jM("blue.500","blue.300")(e),errorBorderColor:n||jM("red.500","red.300")(e)}}var ZL,eF,tF,nF,rF,iF,aF,oF,sF,uF,cF,lF,fF,hF=KL((function(e){var t=e.theme,n=JL(e),r=n.focusBorderColor,i=n.errorBorderColor;return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:jM("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:cL(t,i),boxShadow:"0 0 0 1px ".concat(cL(t,i))},_focusVisible:{zIndex:1,borderColor:cL(t,r),boxShadow:"0 0 0 1px ".concat(cL(t,r))}},addon:{border:"1px solid",borderColor:jM("inherit","whiteAlpha.50")(e),bg:jM("gray.100","whiteAlpha.300")(e)}}})),dF=KL((function(e){var t=e.theme,n=JL(e),r=n.focusBorderColor,i=n.errorBorderColor;return{field:{border:"2px solid",borderColor:"transparent",bg:jM("gray.100","whiteAlpha.50")(e),_hover:{bg:jM("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:cL(t,i)},_focusVisible:{bg:"transparent",borderColor:cL(t,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:jM("gray.100","whiteAlpha.50")(e)}}})),pF=KL((function(e){var t=e.theme,n=JL(e),r=n.focusBorderColor,i=n.errorBorderColor;return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:cL(t,i),boxShadow:"0px 1px 0px 0px ".concat(cL(t,i))},_focusVisible:{borderColor:cL(t,r),boxShadow:"0px 1px 0px 0px ".concat(cL(t,r))}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}})),vF=QL({baseStyle:YL,sizes:XL,variants:{outline:hF,filled:dF,flushed:pF,unstyled:KL({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}})},defaultProps:{size:"md",variant:"outline"}}),mF=m(m({},null==(ZL=vF.baseStyle)?void 0:ZL.field),{},{paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"}),yF={outline:function(e){var t,n;return null!=(n=null==(t=vF.variants)?void 0:t.outline(e).field)?n:{}},flushed:function(e){var t,n;return null!=(n=null==(t=vF.variants)?void 0:t.flushed(e).field)?n:{}},filled:function(e){var t,n;return null!=(n=null==(t=vF.variants)?void 0:t.filled(e).field)?n:{}},unstyled:null!=(tF=null==(eF=vF.variants)?void 0:eF.unstyled.field)?tF:{}},gF={baseStyle:mF,sizes:{xs:null!=(rF=null==(nF=vF.sizes)?void 0:nF.xs.field)?rF:{},sm:null!=(aF=null==(iF=vF.sizes)?void 0:iF.sm.field)?aF:{},md:null!=(sF=null==(oF=vF.sizes)?void 0:oF.md.field)?sF:{},lg:null!=(cF=null==(uF=vF.sizes)?void 0:uF.lg.field)?cF:{}},variants:yF,defaultProps:{size:"md",variant:"outline"}},bF=hM("tooltip-bg"),kF=hM("tooltip-fg"),wF=hM("popper-arrow-bg"),_F={baseStyle:(p(fF={bg:bF.reference,color:kF.reference},bF.variable,"colors.gray.700"),p(fF,kF.variable,"colors.whiteAlpha.900"),p(fF,"_dark",(p(lF={},bF.variable,"colors.gray.300"),p(lF,kF.variable,"colors.gray.900"),lF)),p(fF,wF.variable,bF.reference),p(fF,"px","2"),p(fF,"py","0.5"),p(fF,"borderRadius","sm"),p(fF,"fontWeight","medium"),p(fF,"fontSize","sm"),p(fF,"boxShadow","md"),p(fF,"maxW","xs"),p(fF,"zIndex","tooltip"),fF)},xF=Hn(ZO.keys),SF=xF.defineMultiStyleConfig,EF=xF.definePartsStyle,CF=function(e){var t=e.colorScheme,n=e.theme,r=e.isIndeterminate,i=e.hasStripe,a=jM(hL(),hL("1rem","rgba(0,0,0,0.1)"))(e),o=jM("".concat(t,".500"),"".concat(t,".200"))(e),s="linear-gradient(\n    to right,\n    transparent 0%,\n    ".concat(cL(n,o)," 50%,\n    transparent 100%\n  )");return m(m({},!r&&i&&a),r?{bgImage:s}:{bgColor:o})},TF={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},IF=function(e){return{bg:jM("gray.100","whiteAlpha.300")(e)}},AF=function(e){return m({transitionProperty:"common",transitionDuration:"slow"},CF(e))},NF=EF((function(e){return{label:TF,filledTrack:AF(e),track:IF(e)}})),DF=SF({sizes:{xs:EF({track:{h:"1"}}),sm:EF({track:{h:"2"}}),md:EF({track:{h:"3"}}),lg:EF({track:{h:"4"}})},baseStyle:NF,defaultProps:{size:"md",colorScheme:"blue"}}),PF=function(e){return"function"===typeof e};function RF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return PF(e)?e.apply(void 0,n):e}var OF,MF,LF,FF,jF,BF,VF,zF,UF,qF,WF,HF,GF,KF,QF,YF,$F,XF,JF,ZF,ej,tj,nj=Hn(UO.keys),rj=nj.definePartsStyle,ij=nj.defineMultiStyleConfig,aj=sn("checkbox-size"),oj=function(e){var t=e.colorScheme;return{w:aj.reference,h:aj.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:jM("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:jM("".concat(t,".500"),"".concat(t,".200"))(e),color:jM("white","gray.900")(e),_hover:{bg:jM("".concat(t,".600"),"".concat(t,".300"))(e),borderColor:jM("".concat(t,".600"),"".concat(t,".300"))(e)},_disabled:{borderColor:jM("gray.200","transparent")(e),bg:jM("gray.200","whiteAlpha.300")(e),color:jM("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:jM("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:jM("".concat(t,".500"),"".concat(t,".200"))(e),color:jM("white","gray.900")(e)},_disabled:{bg:jM("gray.100","whiteAlpha.100")(e),borderColor:jM("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:jM("red.500","red.300")(e)}}},sj={_disabled:{cursor:"not-allowed"}},uj={userSelect:"none",_disabled:{opacity:.4}},cj={transitionProperty:"transform",transitionDuration:"normal"},lj=ij({baseStyle:rj((function(e){return{icon:cj,container:sj,control:RF(oj,e),label:uj}})),sizes:{sm:rj({control:p({},aj.variable,"sizes.3"),label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:rj({control:p({},aj.variable,"sizes.4"),label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:rj({control:p({},aj.variable,"sizes.5"),label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},defaultProps:{size:"md",colorScheme:"blue"}}),fj=Hn(eM.keys),hj=fj.defineMultiStyleConfig,dj=fj.definePartsStyle,pj=function(e){var t,n=null==(t=RF(lj.baseStyle,e))?void 0:t.control;return m(m({},n),{},{borderRadius:"full",_checked:m(m({},null==n?void 0:n._checked),{},{_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})},vj=dj((function(e){var t,n,r,i;return{label:null==(n=(t=lj).baseStyle)?void 0:n.call(t,e).label,container:null==(i=(r=lj).baseStyle)?void 0:i.call(r,e).container,control:pj(e)}})),mj=hj({baseStyle:vj,sizes:{md:dj({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:dj({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:dj({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},defaultProps:{size:"md",colorScheme:"blue"}}),yj=Hn(tM.keys),gj=yj.defineMultiStyleConfig,bj=yj.definePartsStyle,kj=sn("select-bg"),wj={paddingInlineEnd:"8"},_j=gj({baseStyle:bj({field:m(m({},null==(MF=vF.baseStyle)?void 0:MF.field),{},(p(OF={appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:kj.reference},kj.variable,"colors.white"),p(OF,"_dark",p({},kj.variable,"colors.gray.700")),p(OF,"> option, > optgroup",{bg:kj.reference}),OF)),icon:{width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}}}),sizes:{lg:m(m({},null==(LF=vF.sizes)?void 0:LF.lg),{},{field:m(m({},null==(FF=vF.sizes)?void 0:FF.lg.field),wj)}),md:m(m({},null==(jF=vF.sizes)?void 0:jF.md),{},{field:m(m({},null==(BF=vF.sizes)?void 0:BF.md.field),wj)}),sm:m(m({},null==(VF=vF.sizes)?void 0:VF.sm),{},{field:m(m({},null==(zF=vF.sizes)?void 0:zF.sm.field),wj)}),xs:m(m({},null==(UF=vF.sizes)?void 0:UF.xs),{},{field:m(m({},null==(qF=vF.sizes)?void 0:qF.xs.field),wj),icon:{insetEnd:"1"}})},variants:vF.variants,defaultProps:vF.defaultProps}),xj=sn("skeleton-start-color"),Sj=sn("skeleton-end-color"),Ej={baseStyle:(p(HF={},xj.variable,"colors.gray.100"),p(HF,Sj.variable,"colors.gray.400"),p(HF,"_dark",(p(WF={},xj.variable,"colors.gray.800"),p(WF,Sj.variable,"colors.gray.600"),WF)),p(HF,"background",xj.reference),p(HF,"borderColor",Sj.reference),p(HF,"opacity",.7),p(HF,"borderRadius","sm"),HF)},Cj=sn("skip-link-bg"),Tj={baseStyle:{borderRadius:"md",fontWeight:"semibold",_focusVisible:(GF={boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6"},p(GF,Cj.variable,"colors.white"),p(GF,"_dark",p({},Cj.variable,"colors.gray.700")),p(GF,"bg",Cj.reference),GF)}},Ij=Hn(nM.keys),Aj=Ij.defineMultiStyleConfig,Nj=Ij.definePartsStyle,Dj=sn("slider-thumb-size"),Pj=sn("slider-track-size"),Rj=sn("slider-bg"),Oj=function(e){return m({display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},BM({orientation:e.orientation,vertical:{h:"100%"},horizontal:{w:"100%"}}))},Mj=function(e){var t,n;return m(m({},BM({orientation:e.orientation,horizontal:{h:Pj.reference},vertical:{w:Pj.reference}})),{},(p(n={overflow:"hidden",borderRadius:"sm"},Rj.variable,"colors.gray.200"),p(n,"_dark",p({},Rj.variable,"colors.whiteAlpha.200")),p(n,"_disabled",(p(t={},Rj.variable,"colors.gray.300"),p(t,"_dark",p({},Rj.variable,"colors.whiteAlpha.300")),t)),p(n,"bg",Rj.reference),n))},Lj=function(e){return m(m({},BM({orientation:e.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})),{},{w:Dj.reference,h:Dj.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}})},Fj=function(e){var t,n=e.colorScheme;return p(t={width:"inherit",height:"inherit"},Rj.variable,"colors.".concat(n,".500")),p(t,"_dark",p({},Rj.variable,"colors.".concat(n,".200"))),p(t,"bg",Rj.reference),t},jj=Aj({baseStyle:Nj((function(e){return{container:Oj(e),track:Mj(e),thumb:Lj(e),filledTrack:Fj(e)}})),sizes:{lg:Nj({container:(KF={},p(KF,Dj.variable,"sizes.4"),p(KF,Pj.variable,"sizes.1"),KF)}),md:Nj({container:(QF={},p(QF,Dj.variable,"sizes.3.5"),p(QF,Pj.variable,"sizes.1"),QF)}),sm:Nj({container:(YF={},p(YF,Dj.variable,"sizes.2.5"),p(YF,Pj.variable,"sizes.0.5"),YF)})},defaultProps:{size:"md",colorScheme:"blue"}}),Bj=hM("spinner-size"),Vj={baseStyle:{width:[Bj.reference],height:[Bj.reference]},sizes:{xs:p({},Bj.variable,"sizes.3"),sm:p({},Bj.variable,"sizes.4"),md:p({},Bj.variable,"sizes.6"),lg:p({},Bj.variable,"sizes.8"),xl:p({},Bj.variable,"sizes.12")},defaultProps:{size:"md"}},zj=Hn(rM.keys),Uj=zj.defineMultiStyleConfig,qj=zj.definePartsStyle,Wj=Uj({baseStyle:qj({container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:"2"},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"}}),sizes:{md:qj({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},defaultProps:{size:"md"}}),Hj=sn("kbd-bg"),Gj={baseStyle:(p($F={},Hj.variable,"colors.gray.100"),p($F,"_dark",p({},Hj.variable,"colors.whiteAlpha.100")),p($F,"bg",Hj.reference),p($F,"borderRadius","md"),p($F,"borderWidth","1px"),p($F,"borderBottomWidth","3px"),p($F,"fontSize","0.8em"),p($F,"fontWeight","bold"),p($F,"lineHeight","normal"),p($F,"px","0.4em"),p($F,"whiteSpace","nowrap"),$F)},Kj={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}},Qj=Hn(QO.keys),Yj=(0,Qj.defineMultiStyleConfig)({baseStyle:(0,Qj.definePartsStyle)({icon:{marginEnd:"2",display:"inline",verticalAlign:"text-bottom"}})}),$j=Hn(YO.keys),Xj=$j.defineMultiStyleConfig,Jj=$j.definePartsStyle,Zj=sn("menu-bg"),eB=sn("menu-shadow"),tB=Xj({baseStyle:Jj({button:{transitionProperty:"common",transitionDuration:"normal"},list:(p(JF={},Zj.variable,"#fff"),p(JF,eB.variable,"shadows.sm"),p(JF,"_dark",(p(XF={},Zj.variable,"colors.gray.700"),p(XF,eB.variable,"shadows.dark-lg"),XF)),p(JF,"color","inherit"),p(JF,"minW","3xs"),p(JF,"py","2"),p(JF,"zIndex",1),p(JF,"borderRadius","md"),p(JF,"borderWidth","1px"),p(JF,"bg",Zj.reference),p(JF,"boxShadow",eB.reference),JF),item:{py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:(ZF={},p(ZF,Zj.variable,"colors.gray.100"),p(ZF,"_dark",p({},Zj.variable,"colors.whiteAlpha.100")),ZF),_active:(ej={},p(ej,Zj.variable,"colors.gray.200"),p(ej,"_dark",p({},Zj.variable,"colors.whiteAlpha.200")),ej),_expanded:(tj={},p(tj,Zj.variable,"colors.gray.100"),p(tj,"_dark",p({},Zj.variable,"colors.whiteAlpha.100")),tj),_disabled:{opacity:.4,cursor:"not-allowed"},bg:Zj.reference},groupTitle:{mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},command:{opacity:.6},divider:{border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6}})}),nB=Hn($O.keys),rB=nB.defineMultiStyleConfig,iB=nB.definePartsStyle,aB={bg:"blackAlpha.600",zIndex:"modal"},oB=function(e){return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e.isCentered?"center":"flex-start",overflow:"inside"===e.scrollBehavior?"hidden":"auto",overscrollBehaviorY:"none"}},sB=function(e){var t=e.scrollBehavior;return{borderRadius:"md",bg:jM("white","gray.700")(e),color:"inherit",my:"16",zIndex:"modal",maxH:"inside"===t?"calc(100% - 7.5rem)":void 0,boxShadow:jM("lg","dark-lg")(e)}},uB={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},cB={position:"absolute",top:"2",insetEnd:"3"},lB=function(e){return{px:"6",py:"2",flex:"1",overflow:"inside"===e.scrollBehavior?"auto":void 0}},fB={px:"6",py:"4"};function hB(e){return iB("full"===e?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var dB,pB,vB,mB,yB=rB({baseStyle:iB((function(e){return{overlay:aB,dialogContainer:RF(oB,e),dialog:RF(sB,e),header:uB,closeButton:cB,body:RF(lB,e),footer:fB}})),sizes:{xs:hB("xs"),sm:hB("sm"),md:hB("md"),lg:hB("lg"),xl:hB("xl"),"2xl":hB("2xl"),"3xl":hB("3xl"),"4xl":hB("4xl"),"5xl":hB("5xl"),"6xl":hB("6xl"),full:hB("full")},defaultProps:{size:"md"}}),gB=Hn(XO.keys),bB=gB.defineMultiStyleConfig,kB=gB.definePartsStyle,wB=hM("number-input-stepper-width"),_B=hM("number-input-input-padding"),xB=SM(wB).add("0.5rem").toString(),SB=hM("number-input-bg"),EB=hM("number-input-color"),CB=hM("number-input-border-color"),TB=(p(dB={},wB.variable,"sizes.6"),p(dB,_B.variable,xB),dB),IB=function(e){var t,n;return null!=(n=null==(t=RF(vF.baseStyle,e))?void 0:t.field)?n:{}},AB={width:wB.reference},NB=(p(mB={borderStart:"1px solid",borderStartColor:CB.reference,color:EB.reference,bg:SB.reference},EB.variable,"colors.chakra-body-text"),p(mB,CB.variable,"colors.chakra-border-color"),p(mB,"_dark",(p(pB={},EB.variable,"colors.whiteAlpha.800"),p(pB,CB.variable,"colors.whiteAlpha.300"),pB)),p(mB,"_active",(p(vB={},SB.variable,"colors.gray.200"),p(vB,"_dark",p({},SB.variable,"colors.whiteAlpha.300")),vB)),p(mB,"_disabled",{opacity:.4,cursor:"not-allowed"}),mB),DB=kB((function(e){var t;return{root:TB,field:null!=(t=RF(IB,e))?t:{},stepperGroup:AB,stepper:NB}}));function PB(e){var t,n,r,i=null==(t=vF.sizes)?void 0:t[e],a={lg:"md",md:"md",sm:"sm",xs:"sm"},o=null!=(r=null==(n=i.field)?void 0:n.fontSize)?r:"md",s=RO.fontSizes[o];return kB({field:m(m({},i.field),{},{paddingInlineEnd:_B.reference,verticalAlign:"top"}),stepper:{fontSize:SM(s).multiply(.75).toString(),_first:{borderTopEndRadius:a[e]},_last:{borderBottomEndRadius:a[e],mt:"-1px",borderTopWidth:1}}})}var RB,OB,MB,LB,FB,jB=bB({baseStyle:DB,sizes:{xs:PB("xs"),sm:PB("sm"),md:PB("md"),lg:PB("lg")},variants:vF.variants,defaultProps:vF.defaultProps}),BB=m(m({},null==(RB=vF.baseStyle)?void 0:RB.field),{},{textAlign:"center"}),VB={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},zB={outline:function(e){var t,n,r;return null!=(r=null==(n=RF(null==(t=vF.variants)?void 0:t.outline,e))?void 0:n.field)?r:{}},flushed:function(e){var t,n,r;return null!=(r=null==(n=RF(null==(t=vF.variants)?void 0:t.flushed,e))?void 0:n.field)?r:{}},filled:function(e){var t,n,r;return null!=(r=null==(n=RF(null==(t=vF.variants)?void 0:t.filled,e))?void 0:n.field)?r:{}},unstyled:null!=(MB=null==(OB=vF.variants)?void 0:OB.unstyled.field)?MB:{}},UB={baseStyle:BB,sizes:VB,variants:zB,defaultProps:vF.defaultProps},qB=Hn(JO.keys),WB=qB.defineMultiStyleConfig,HB=qB.definePartsStyle,GB=hM("popper-bg"),KB=hM("popper-arrow-bg"),QB=hM("popper-arrow-shadow-color"),YB=WB({baseStyle:HB({popper:{zIndex:10},content:(p(FB={},GB.variable,"colors.white"),p(FB,"bg",GB.reference),p(FB,KB.variable,GB.reference),p(FB,QB.variable,"colors.gray.200"),p(FB,"_dark",(p(LB={},GB.variable,"colors.gray.700"),p(LB,QB.variable,"colors.whiteAlpha.300"),LB)),p(FB,"width","xs"),p(FB,"border","1px solid"),p(FB,"borderColor","inherit"),p(FB,"borderRadius","md"),p(FB,"boxShadow","sm"),p(FB,"zIndex","inherit"),p(FB,"_focusVisible",{outline:0,boxShadow:"outline"}),FB),header:{px:3,py:2,borderBottomWidth:"1px"},body:{px:3,py:2},footer:{px:3,py:2,borderTopWidth:"1px"},closeButton:{position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2}})}),$B=Hn(qO.keys),XB=$B.definePartsStyle,JB=$B.defineMultiStyleConfig,ZB=sn("drawer-bg"),eV=sn("drawer-box-shadow");function tV(e){return XB("full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var nV,rV,iV,aV,oV,sV,uV,cV,lV,fV,hV,dV,pV,vV,mV,yV={bg:"blackAlpha.600",zIndex:"overlay"},gV={display:"flex",zIndex:"modal",justifyContent:"center"},bV=function(e){var t,n;return m(m({},e.isFullHeight&&{height:"100vh"}),{},(p(n={zIndex:"modal",maxH:"100vh",color:"inherit"},ZB.variable,"colors.white"),p(n,eV.variable,"shadows.lg"),p(n,"_dark",(p(t={},ZB.variable,"colors.gray.700"),p(t,eV.variable,"shadows.dark-lg"),t)),p(n,"bg",ZB.reference),p(n,"boxShadow",eV.reference),n))},kV={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},wV={position:"absolute",top:"2",insetEnd:"3"},_V={px:"6",py:"2",flex:"1",overflow:"auto"},xV={px:"6",py:"4"},SV=JB({baseStyle:XB((function(e){return{overlay:yV,dialogContainer:gV,dialog:RF(bV,e),header:kV,closeButton:wV,body:_V,footer:xV}})),sizes:{xs:tV("xs"),sm:tV("md"),md:tV("lg"),lg:tV("2xl"),xl:tV("4xl"),full:tV("full")},defaultProps:{size:"xs"}}),EV=Hn(WO.keys),CV=EV.definePartsStyle,TV=(0,EV.defineMultiStyleConfig)({baseStyle:CV({preview:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},textarea:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}}})}),IV=Hn(HO.keys),AV=IV.definePartsStyle,NV=IV.defineMultiStyleConfig,DV=sn("form-control-color"),PV=NV({baseStyle:AV({container:{width:"100%",position:"relative"},requiredIndicator:(p(nV={marginStart:"1"},DV.variable,"colors.red.500"),p(nV,"_dark",p({},DV.variable,"colors.red.300")),p(nV,"color",DV.reference),nV),helperText:(p(rV={mt:"2"},DV.variable,"colors.gray.600"),p(rV,"_dark",p({},DV.variable,"colors.whiteAlpha.600")),p(rV,"color",DV.reference),p(rV,"lineHeight","normal"),p(rV,"fontSize","sm"),rV)})}),RV=Hn(GO.keys),OV=RV.definePartsStyle,MV=RV.defineMultiStyleConfig,LV=sn("form-error-color"),FV=MV({baseStyle:OV({text:(p(iV={},LV.variable,"colors.red.500"),p(iV,"_dark",p({},LV.variable,"colors.red.300")),p(iV,"color",LV.reference),p(iV,"mt","2"),p(iV,"fontSize","sm"),p(iV,"lineHeight","normal"),iV),icon:(p(aV={marginEnd:"0.5em"},LV.variable,"colors.red.500"),p(aV,"_dark",p({},LV.variable,"colors.red.300")),p(aV,"color",LV.reference),aV)})}),jV={baseStyle:{fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},BV={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},VV=Hn(zO.keys),zV=(0,VV.defineMultiStyleConfig)({baseStyle:(0,VV.definePartsStyle)({link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}})}),UV=function(e){var t=e.colorScheme,n=e.theme;if("gray"===t)return{color:jM("inherit","whiteAlpha.900")(e),_hover:{bg:jM("gray.100","whiteAlpha.200")(e)},_active:{bg:jM("gray.200","whiteAlpha.300")(e)}};var r=fL("".concat(t,".200"),.12)(n),i=fL("".concat(t,".200"),.24)(n);return{color:jM("".concat(t,".600"),"".concat(t,".200"))(e),bg:"transparent",_hover:{bg:jM("".concat(t,".50"),r)(e)},_active:{bg:jM("".concat(t,".100"),i)(e)}}},qV={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},WV=function(e){var t,n=e.colorScheme;if("gray"===n){var r=jM("gray.100","whiteAlpha.200")(e);return{bg:r,_hover:{bg:jM("gray.200","whiteAlpha.300")(e),_disabled:{bg:r}},_active:{bg:jM("gray.300","whiteAlpha.400")(e)}}}var i=null!=(t=qV[n])?t:{},a=i.bg,o=void 0===a?"".concat(n,".500"):a,s=i.color,u=void 0===s?"white":s,c=i.hoverBg,l=void 0===c?"".concat(n,".600"):c,f=i.activeBg,h=void 0===f?"".concat(n,".700"):f,d=jM(o,"".concat(n,".200"))(e);return{bg:d,color:jM(u,"gray.800")(e),_hover:{bg:jM(l,"".concat(n,".300"))(e),_disabled:{bg:d}},_active:{bg:jM(h,"".concat(n,".400"))(e)}}},HV={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:UV,outline:function(e){var t=e.colorScheme,n=jM("gray.200","whiteAlpha.300")(e);return m({border:"1px solid",borderColor:"gray"===t?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"}},RF(UV,e))},solid:WV,link:function(e){var t=e.colorScheme;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:jM("".concat(t,".500"),"".concat(t,".200"))(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:jM("".concat(t,".700"),"".concat(t,".500"))(e)}}},unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"}},sizes:{lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},GV=Hn(uM.keys),KV=GV.definePartsStyle,QV=GV.defineMultiStyleConfig,YV=sn("card-bg"),$V=sn("card-padding"),XV=sn("card-shadow"),JV=sn("card-radius"),ZV=sn("card-border-width","0"),ez=sn("card-border-color"),tz=KV({container:(oV={},p(oV,YV.variable,"colors.chakra-body-bg"),p(oV,"backgroundColor",YV.reference),p(oV,"boxShadow",XV.reference),p(oV,"borderRadius",JV.reference),p(oV,"color","chakra-body-text"),p(oV,"borderWidth",ZV.reference),p(oV,"borderColor",ez.reference),oV),body:{padding:$V.reference,flex:"1 1 0%"},header:{padding:$V.reference},footer:{padding:$V.reference}}),nz={sm:KV({container:(sV={},p(sV,JV.variable,"radii.base"),p(sV,$V.variable,"space.3"),sV)}),md:KV({container:(uV={},p(uV,JV.variable,"radii.md"),p(uV,$V.variable,"space.5"),uV)}),lg:KV({container:(cV={},p(cV,JV.variable,"radii.xl"),p(cV,$V.variable,"space.7"),cV)})},rz=QV({baseStyle:tz,variants:{elevated:KV({container:(lV={},p(lV,XV.variable,"shadows.base"),p(lV,"_dark",p({},YV.variable,"colors.gray.700")),lV)}),outline:KV({container:(fV={},p(fV,ZV.variable,"1px"),p(fV,ez.variable,"colors.chakra-border-color"),fV)}),filled:KV({container:p({},YV.variable,"colors.chakra-subtle-bg")}),unstyled:{body:p({},$V.variable,0),header:p({},$V.variable,0),footer:p({},$V.variable,0)}},sizes:nz,defaultProps:{variant:"elevated",size:"md"}}),iz=hM("close-button-size"),az=hM("close-button-bg"),oz={baseStyle:{w:[iz.reference],h:[iz.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:(hV={},p(hV,az.variable,"colors.blackAlpha.100"),p(hV,"_dark",p({},az.variable,"colors.whiteAlpha.100")),hV),_active:(dV={},p(dV,az.variable,"colors.blackAlpha.200"),p(dV,"_dark",p({},az.variable,"colors.whiteAlpha.200")),dV),_focusVisible:{boxShadow:"outline"},bg:az.reference},sizes:{lg:(pV={},p(pV,iz.variable,"sizes.10"),p(pV,"fontSize","md"),pV),md:(vV={},p(vV,iz.variable,"sizes.8"),p(vV,"fontSize","xs"),vV),sm:(mV={},p(mV,iz.variable,"sizes.6"),p(mV,"fontSize","2xs"),mV)},defaultProps:{size:"md"}},sz={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},variants:jL.variants,defaultProps:jL.defaultProps},uz={baseStyle:{w:"100%",mx:"auto",maxW:"prose",px:"4"}},cz={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},lz=Hn(jO.keys),fz=lz.definePartsStyle,hz=(0,lz.defineMultiStyleConfig)({baseStyle:fz({container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},panel:{pt:"2",px:"4",pb:"5"},icon:{fontSize:"1.25em"}})}),dz=Hn(BO.keys),pz=dz.definePartsStyle,vz=dz.defineMultiStyleConfig,mz=sn("alert-fg"),yz=sn("alert-bg"),gz=pz({container:{bg:yz.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:mz.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:mz.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function bz(e){var t=e.theme,n=e.colorScheme,r=fL("".concat(n,".200"),.16)(t);return{light:"colors.".concat(n,".100"),dark:r}}var kz,wz,_z=pz((function(e){var t,n,r=e.colorScheme,i=bz(e);return{container:(n={},p(n,mz.variable,"colors.".concat(r,".500")),p(n,yz.variable,i.light),p(n,"_dark",(t={},p(t,mz.variable,"colors.".concat(r,".200")),p(t,yz.variable,i.dark),t)),n)}})),xz=pz((function(e){var t,n,r=e.colorScheme,i=bz(e);return{container:(n={},p(n,mz.variable,"colors.".concat(r,".500")),p(n,yz.variable,i.light),p(n,"_dark",(t={},p(t,mz.variable,"colors.".concat(r,".200")),p(t,yz.variable,i.dark),t)),p(n,"paddingStart","3"),p(n,"borderStartWidth","4px"),p(n,"borderStartColor",mz.reference),n)}})),Sz=pz((function(e){var t,n,r=e.colorScheme,i=bz(e);return{container:(n={},p(n,mz.variable,"colors.".concat(r,".500")),p(n,yz.variable,i.light),p(n,"_dark",(t={},p(t,mz.variable,"colors.".concat(r,".200")),p(t,yz.variable,i.dark),t)),p(n,"pt","2"),p(n,"borderTopWidth","4px"),p(n,"borderTopColor",mz.reference),n)}})),Ez=pz((function(e){var t,n,r=e.colorScheme;return{container:(n={},p(n,mz.variable,"colors.white"),p(n,yz.variable,"colors.".concat(r,".500")),p(n,"_dark",(t={},p(t,mz.variable,"colors.gray.900"),p(t,yz.variable,"colors.".concat(r,".200")),t)),p(n,"color",mz.reference),n)}})),Cz=vz({baseStyle:gz,variants:{subtle:_z,"left-accent":xz,"top-accent":Sz,solid:Ez},defaultProps:{variant:"subtle",colorScheme:"blue"}}),Tz=Hn(VO.keys),Iz=Tz.definePartsStyle,Az=Tz.defineMultiStyleConfig,Nz=sn("avatar-border-color"),Dz=sn("avatar-bg"),Pz=(p(kz={borderRadius:"full",border:"0.2em solid"},Nz.variable,"white"),p(kz,"_dark",p({},Nz.variable,"colors.gray.800")),p(kz,"borderColor",Nz.reference),kz),Rz=(p(wz={},Dz.variable,"colors.gray.200"),p(wz,"_dark",p({},Dz.variable,"colors.whiteAlpha.400")),p(wz,"bgColor",Dz.reference),wz),Oz=sn("avatar-background"),Mz=function(e){var t,n=e.name,r=e.theme,i=n?pL({string:n}):"colors.gray.400",a=function(e){return function(t){return"dark"===lL(e)(t)}}(i)(r),o="white";return a||(o="gray.800"),t={bg:Oz.reference,"&:not([data-loaded])":p({},Oz.variable,i),color:o},p(t,Nz.variable,"colors.white"),p(t,"_dark",p({},Nz.variable,"colors.gray.800")),p(t,"borderColor",Nz.reference),p(t,"verticalAlign","top"),t};function Lz(e){var t="100%"!==e?MO[e]:void 0;return Iz({container:{width:e,height:e,fontSize:"calc(".concat(null!=t?t:e," / 2.5)")},excessLabel:{width:e,height:e},label:{fontSize:"calc(".concat(null!=t?t:e," / 2.5)"),lineHeight:"100%"!==e?null!=t?t:e:void 0}})}var Fz={Accordion:hz,Alert:Cz,Avatar:Az({baseStyle:Iz((function(e){return{badge:RF(Pz,e),excessLabel:RF(Rz,e),container:RF(Mz,e)}})),sizes:{"2xs":Lz(4),xs:Lz(6),sm:Lz(8),md:Lz(12),lg:Lz(16),xl:Lz(24),"2xl":Lz(32),full:Lz("100%")},defaultProps:{size:"md"}}),Badge:jL,Breadcrumb:zV,Button:HV,Checkbox:lj,CloseButton:oz,Code:sz,Container:uz,Divider:cz,Drawer:SV,Editable:TV,Form:PV,FormError:FV,FormLabel:jV,Heading:BV,Input:vF,Kbd:Gj,Link:Kj,List:Yj,Menu:tB,Modal:yB,NumberInput:jB,PinInput:UB,Popover:YB,Progress:DF,Radio:mj,Select:_j,Skeleton:Ej,SkipLink:Tj,Slider:jj,Spinner:Vj,Stat:Wj,Switch:FM,Table:HM,Tabs:DL,Tag:HL,Textarea:gF,Tooltip:_F,Card:rz},jz={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Bz={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color",wordWrap:"break-word"}}},Vz={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},zz=m(m({semanticTokens:jz,direction:"ltr"},LO),{},{components:Fz,styles:Bz,config:Vz}),Uz=m(m({semanticTokens:jz,direction:"ltr",components:{}},LO),{},{styles:Bz,config:Vz}),qz=function(e,t){return e.find((function(e){return e.id===t}))};function Wz(e,t){var n=Hz(e,t);return{position:n,index:n?e[n].findIndex((function(e){return e.id===t})):-1}}function Hz(e,t){for(var n=0,r=Object.entries(e);n<r.length;n++){var i=c(r[n],2),a=i[0],o=i[1];if(qz(o,t))return a}}function Gz(e){return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===e||"bottom"===e?"0 auto":void 0,top:e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:e.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}function Kz(e,n){var r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,t.useRef)(e);return(0,t.useEffect)((function(){r.current=e})),(0,t.useCallback)((function(){for(var e,t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return null==(t=r.current)?void 0:(e=t).call.apply(e,[r].concat(i))}),n)}(e);(0,t.useEffect)((function(){if(null!=n){var e;return e=window.setTimeout((function(){r()}),n),function(){e&&window.clearTimeout(e)}}}),[n,r])}function Qz(e,n){var r=(0,t.useRef)(!1),i=(0,t.useRef)(!1);(0,t.useEffect)((function(){if(r.current&&i.current)return e();i.current=!0}),n),(0,t.useEffect)((function(){return r.current=!0,function(){r.current=!1}}),[])}var Yz=(0,t.createContext)(null);function $z(){return null===(e=(0,t.useContext)(Yz))||e.isPresent;var e}var Xz=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),Jz=(0,t.createContext)({});var Zz="undefined"!==typeof document,eU=Zz?t.useLayoutEffect:t.useEffect,tU=(0,t.createContext)({strict:!1});function nU(e,n,r,i){var a=(0,t.useContext)(Jz).visualElement,o=(0,t.useContext)(tU),s=(0,t.useContext)(Yz),u=(0,t.useContext)(Xz).reducedMotion,c=(0,t.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:n,parent:a,props:r,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var l=c.current;return(0,t.useInsertionEffect)((function(){l&&l.update(r,s)})),eU((function(){l&&l.render()})),(0,t.useEffect)((function(){l&&l.updateFeatures()})),(window.HandoffAppearAnimations?eU:t.useEffect)((function(){l&&l.animationState&&l.animationState.animateChanges()})),l}function rU(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function iU(e){return"string"===typeof e||Array.isArray(e)}function aU(e){return"object"===typeof e&&"function"===typeof e.start}var oU=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sU=["initial"].concat(oU);function uU(e){return aU(e.animate)||sU.some((function(t){return iU(e[t])}))}function cU(e){return Boolean(uU(e)||e.variants)}function lU(e){var n=function(e,t){if(uU(e)){var n=e.initial,r=e.animate;return{initial:!1===n||iU(n)?n:void 0,animate:iU(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Jz)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[fU(r),fU(i)])}function fU(e){return Array.isArray(e)?e.join(" "):e}var hU={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dU={},pU=function(e){dU[e]={isEnabled:function(t){return hU[e].some((function(e){return!!t[e]}))}}};for(var vU in hU)pU(vU);function mU(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}var yU={hasAnimatedSinceResize:!0,hasEverUpdated:!1},gU=1;var bU=(0,t.createContext)({}),kU=(0,t.createContext)({}),wU=Symbol.for("motionComponentSymbol");function _U(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.useRender,a=e.useVisualState,o=e.Component;n&&function(e){for(var t in e)dU[t]=m(m({},dU[t]),e[t])}(n);var s=(0,t.forwardRef)((function(e,s){var u,c=m(m(m({},(0,t.useContext)(Xz)),e),{},{layoutId:xU(e)}),l=c.isStatic,f=lU(e),h=l?void 0:mU((function(){if(yU.hasEverUpdated)return gU++})),d=a(e,l);if(!l&&Zz){f.visualElement=nU(o,d,c,r);var p=(0,t.useContext)(kU),v=(0,t.useContext)(tU).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,v,n,h,p))}return t.createElement(Jz.Provider,{value:f},u&&f.visualElement?t.createElement(u,m({visualElement:f.visualElement},c)):null,i(o,e,h,function(e,n,r){return(0,t.useCallback)((function(t){t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):rU(r)&&(r.current=t))}),[n])}(d,f.visualElement,s),d,l,f.visualElement))}));return s[wU]=o,s}function xU(e){var n=e.layoutId,r=(0,t.useContext)(bU).id;return r&&void 0!==n?r+"-"+n:n}function SU(e){function t(t){return _U(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var EU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function CU(e){return"string"===typeof e&&!e.includes("-")&&!!(EU.indexOf(e)>-1||/[A-Z]/.test(e))}var TU={};var IU=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],AU=new Set(IU);function NU(e,t){var n=t.layout,r=t.layoutId;return AU.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!TU[e]||"opacity"===e)}var DU=function(e){return Boolean(e&&e.getVelocity)},PU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RU=IU.length;var OU=function(e){return function(t){return"string"===typeof t&&t.startsWith(e)}},MU=OU("--"),LU=OU("var(--"),FU=function(e,t){return t&&"number"===typeof e?t.transform(e):e},jU=function(e,t,n){return Math.min(Math.max(n,e),t)},BU={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},VU=m(m({},BU),{},{transform:function(e){return jU(0,1,e)}}),zU=m(m({},BU),{},{default:1}),UU=function(e){return Math.round(1e5*e)/1e5},qU=/(-)?([\d]*\.?[\d])+/g,WU=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,HU=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function GU(e){return"string"===typeof e}var KU=function(e){return{test:function(t){return GU(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},QU=KU("deg"),YU=KU("%"),$U=KU("px"),XU=KU("vh"),JU=KU("vw"),ZU=m(m({},YU),{},{parse:function(e){return YU.parse(e)/100},transform:function(e){return YU.transform(100*e)}}),eq=m(m({},BU),{},{transform:Math.round}),tq={borderWidth:$U,borderTopWidth:$U,borderRightWidth:$U,borderBottomWidth:$U,borderLeftWidth:$U,borderRadius:$U,radius:$U,borderTopLeftRadius:$U,borderTopRightRadius:$U,borderBottomRightRadius:$U,borderBottomLeftRadius:$U,width:$U,maxWidth:$U,height:$U,maxHeight:$U,size:$U,top:$U,right:$U,bottom:$U,left:$U,padding:$U,paddingTop:$U,paddingRight:$U,paddingBottom:$U,paddingLeft:$U,margin:$U,marginTop:$U,marginRight:$U,marginBottom:$U,marginLeft:$U,rotate:QU,rotateX:QU,rotateY:QU,rotateZ:QU,scale:zU,scaleX:zU,scaleY:zU,scaleZ:zU,skew:QU,skewX:QU,skewY:QU,distance:$U,translateX:$U,translateY:$U,translateZ:$U,x:$U,y:$U,z:$U,perspective:$U,transformPerspective:$U,opacity:VU,originX:ZU,originY:ZU,originZ:$U,zIndex:eq,fillOpacity:VU,strokeOpacity:VU,numOctaves:eq};function nq(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,s=e.transformOrigin,u=!1,c=!1,l=!0;for(var f in t){var h=t[f];if(MU(f))a[f]=h;else{var d=tq[f],p=FU(h,d);if(AU.has(f)){if(u=!0,o[f]=p,!l)continue;h!==(d.default||0)&&(l=!1)}else f.startsWith("origin")?(c=!0,s[f]=p):i[f]=p}}if(t.transform||(u||r?i.transform=function(e,t,n,r){for(var i=t.enableHardwareAcceleration,a=void 0===i||i,o=t.allowTransformNone,s=void 0===o||o,u="",c=0;c<RU;c++){var l=IU[c];if(void 0!==e[l]){var f=PU[l]||l;u+="".concat(f,"(").concat(e[l],") ")}}return a&&!e.z&&(u+="translateZ(0)"),u=u.trim(),r?u=r(e,n?"":u):s&&n&&(u="none"),u}(e.transform,n,l,r):i.transform&&(i.transform="none")),c){var v=s.originX,m=void 0===v?"50%":v,y=s.originY,g=void 0===y?"50%":y,b=s.originZ,k=void 0===b?0:b;i.transformOrigin="".concat(m," ").concat(g," ").concat(k)}}var rq=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function iq(e,t,n){for(var r in t)DU(t[r])||NU(r,n)||(e[r]=t[r])}function aq(e,n,r){var i={};return iq(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e=rq();return nq(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function oq(e,t,n){var r={},i=aq(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var sq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function uq(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||sq.has(e)}var cq,lq=function(e){return!uq(e)};try{(cq=require("@emotion/is-prop-valid").default)&&(lq=function(e){return e.startsWith("on")?!uq(e):cq(e)})}catch(mr){}function fq(e,t,n){return"string"===typeof e?e:$U.transform(t+n*e)}var hq={offset:"stroke-dashoffset",array:"stroke-dasharray"},dq={offset:"strokeDashoffset",array:"strokeDasharray"};var pq=["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"];function vq(e,t,n,r,i){var a=t.attrX,o=t.attrY,s=t.originX,u=t.originY,c=t.pathLength,l=t.pathSpacing,f=void 0===l?1:l,h=t.pathOffset,d=void 0===h?0:h;if(nq(e,y(t,pq),n,i),r)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var p=e.attrs,v=e.style,m=e.dimensions;p.transform&&(m&&(v.transform=p.transform),delete p.transform),m&&(void 0!==s||void 0!==u||v.transform)&&(v.transformOrigin=function(e,t,n){var r=fq(t,e.x,e.width),i=fq(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==s?s:.5,void 0!==u?u:.5)),void 0!==a&&(p.x=a),void 0!==o&&(p.y=o),void 0!==c&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?hq:dq;e[a.offset]=$U.transform(-r);var o=$U.transform(t),s=$U.transform(n);e[a.array]="".concat(o," ").concat(s)}(p,c,f,d,!1)}}var mq=function(){return m(m({},rq()),{},{attrs:{}})},yq=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function gq(e,n,r,i){var a=(0,t.useMemo)((function(){var t=mq();return vq(t,n,{enableHardwareAcceleration:!1},yq(i),e.transformTemplate),m(m({},t.attrs),{},{style:m({},t.style)})}),[n]);if(e.style){var o={};iq(o,e.style,e),a.style=m(m({},o),a.style)}return a}function bq(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,r,i,a,o,s){var u=o.latestValues,c=(CU(n)?gq:oq)(r,u,s,n),l=function(e,t,n){var r={};for(var i in e)"values"===i&&"object"===typeof e.values||(lq(i)||!0===n&&uq(i)||!t&&!uq(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),f=m(m(m({},l),c),{},{ref:a}),h=r.children,d=(0,t.useMemo)((function(){return DU(h)?h.get():h}),[h]);return i&&(f["data-projection-id"]=i),(0,t.createElement)(n,m(m({},f),{},{children:d}))}}var kq=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function wq(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var _q=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xq(e,t,n,r){for(var i in wq(e,t,void 0,r),t.attrs)e.setAttribute(_q.has(i)?i:kq(i),t.attrs[i])}function Sq(e,t){var n=e.style,r={};for(var i in n)(DU(n[i])||t.style&&DU(t.style[i])||NU(i,e))&&(r[i]=n[i]);return r}function Eq(e,t){var n=Sq(e,t);for(var r in e){if(DU(e[r])||DU(t[r]))n["x"===r||"y"===r?"attr"+r.toUpperCase():r]=e[r]}return n}function Cq(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var Tq=function(e){return Array.isArray(e)},Iq=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},Aq=function(e){return Tq(e)?e[e.length-1]||0:e};function Nq(e){var t=DU(e)?e.get():e;return Iq(t)?t.toValue():t}var Dq=["transitionEnd","transition"];var Pq=function(e){return function(n,r){var i=(0,t.useContext)(Jz),a=(0,t.useContext)(Yz),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:Rq(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(e,n,i,a)};return r?o():mU(o)}};function Rq(e,t,n,r){var i={},a=r(e,{});for(var o in a)i[o]=Nq(a[o]);var s=e.initial,u=e.animate,c=uU(e),l=cU(e);t&&l&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var f=!!n&&!1===n.initial,h=(f=f||!1===s)?u:s;h&&"boolean"!==typeof h&&!aU(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=Cq(e,t);if(n){var r=n.transitionEnd,a=(n.transition,y(n,Dq));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[f?s.length-1:0];null!==s&&(i[o]=s)}for(var u in r)i[u]=r[u]}}));return i}var Oq={useVisualState:Pq({scrapeMotionValuesFromProps:Eq,createRenderState:mq,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}vq(r,i,{enableHardwareAcceleration:!1},yq(t.tagName),e.transformTemplate),xq(t,r)}})},Mq={useVisualState:Pq({scrapeMotionValuesFromProps:Sq,createRenderState:rq})};function Lq(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}var Fq=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function jq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var Bq=function(e){return function(t){return Fq(t)&&e(t,jq(t))}};function Vq(e,t,n,r){return Lq(e,t,Bq(n),r)}var zq=function(e,t){return function(n){return t(e(n))}},Uq=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(zq)};function qq(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Wq=qq("dragHorizontal"),Hq=qq("dragVertical");function Gq(e){var t=!1;if("y"===e)t=Hq();else if("x"===e)t=Wq();else{var n=Wq(),r=Hq();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function Kq(){var e=Gq(!0);return!e||(e(),!1)}var Qq=function(){function e(t){wi(this,e),this.isMounted=!1,this.node=t}return xi(e,[{key:"update",value:function(){}}]),e}();function Yq(e,t){var n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Vq(e.current,n,(function(n,i){if("touch"!==n.type&&!Kq()){var a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&a[r](n,i)}}),{passive:!e.getProps()[r]})}var $q=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"mount",value:function(){this.unmount=Uq(Yq(this.node,!0),Yq(this.node,!1))}},{key:"unmount",value:function(){}}]),n}(Qq),Xq=function(e){Ei(n,e);var t=Ai(n);function n(){var e;return wi(this,n),(e=t.apply(this,arguments)).isActive=!1,e}return xi(n,[{key:"onFocus",value:function(){var e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var e=this;this.unmount=Uq(Lq(this.node.current,"focus",(function(){return e.onFocus()})),Lq(this.node.current,"blur",(function(){return e.onBlur()})))}},{key:"unmount",value:function(){}}]),n}(Qq),Jq=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))},Zq=function(e){return e};function eW(e,t){if(t){var n=new PointerEvent("pointer"+e);t(n,jq(n))}}var tW=function(e){Ei(n,e);var t=Ai(n);function n(){var e;return wi(this,n),(e=t.apply(this,arguments)).removeStartListeners=Zq,e.removeEndListeners=Zq,e.removeAccessibleListeners=Zq,e.startPointerPress=function(t,n){if(e.removeEndListeners(),!e.isPressing){var r=e.node.getProps(),i=Vq(window,"pointerup",(function(t,n){if(e.checkPressEnd()){var r=e.node.getProps(),i=r.onTap,a=r.onTapCancel;Jq(e.node.current,t.target)?i&&i(t,n):a&&a(t,n)}}),{passive:!(r.onTap||r.onPointerUp)}),a=Vq(window,"pointercancel",(function(t,n){return e.cancelPress(t,n)}),{passive:!(r.onTapCancel||r.onPointerCancel)});e.removeEndListeners=Uq(i,a),e.startPress(t,n)}},e.startAccessiblePress=function(){var t=Lq(e.node.current,"keydown",(function(t){if("Enter"===t.key&&!e.isPressing){e.removeEndListeners(),e.removeEndListeners=Lq(e.node.current,"keyup",(function(t){"Enter"===t.key&&e.checkPressEnd()&&eW("up",e.node.getProps().onTap)})),eW("down",(function(t,n){e.startPress(t,n)}))}})),n=Lq(e.node.current,"blur",(function(){e.isPressing&&eW("cancel",(function(t,n){return e.cancelPress(t,n)}))}));e.removeAccessibleListeners=Uq(t,n)},e}return xi(n,[{key:"startPress",value:function(e,t){this.isPressing=!0;var n=this.node.getProps(),r=n.onTapStart;n.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&r(e,t)}},{key:"checkPressEnd",value:function(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Kq()}},{key:"cancelPress",value:function(e,t){if(this.checkPressEnd()){var n=this.node.getProps().onTapCancel;n&&n(e,t)}}},{key:"mount",value:function(){var e=this.node.getProps(),t=Vq(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Lq(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Uq(t,n)}},{key:"unmount",value:function(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}]),n}(Qq),nW=["root"],rW=new WeakMap,iW=new WeakMap,aW=function(e){var t=rW.get(e.target);t&&t(e)},oW=function(e){e.forEach(aW)};function sW(e,t,n){var r=function(e){var t=e.root,n=y(e,nW),r=t||document;iW.has(r)||iW.set(r,{});var i=iW.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(oW,m({root:t},n))),i[a]}(t);return rW.set(e,n),r.observe(e),function(){rW.delete(e),r.unobserve(e)}}var uW={some:0,all:1},cW=function(e){Ei(n,e);var t=Ai(n);function n(){var e;return wi(this,n),(e=t.apply(this,arguments)).hasEnteredView=!1,e.isInView=!1,e}return xi(n,[{key:"startObserver",value:function(){var e=this;this.unmount();var t=this.node.getProps().viewport,n=void 0===t?{}:t,r=n.root,i=n.margin,a=n.amount,o=void 0===a?"some":a,s=n.once,u={root:r?r.current:void 0,rootMargin:i,threshold:"number"===typeof o?o:uW[o]};return sW(this.node.current,u,(function(t){var n=t.isIntersecting;if(e.isInView!==n&&(e.isInView=n,!s||n||!e.hasEnteredView)){n&&(e.hasEnteredView=!0),e.node.animationState&&e.node.animationState.setActive("whileInView",n);var r=e.node.getProps(),i=r.onViewportEnter,a=r.onViewportLeave,o=n?i:a;o&&o(t)}}))}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!==typeof IntersectionObserver){var e=this.node,t=e.props,n=e.prevProps,r=["amount","margin","root"].some(function(e){var t=e.viewport,n=void 0===t?{}:t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.viewport,a=void 0===i?{}:i;return function(e){return n[e]!==a[e]}}(t,n));r&&this.startObserver()}}},{key:"unmount",value:function(){}}]),n}(Qq);var lW={inView:{Feature:cW},tap:{Feature:tW},focus:{Feature:Xq},hover:{Feature:$q}};function fW(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var hW=function(e){return/^\-?\d*\.?\d+$/.test(e)},dW=function(e){return/^0[^.\s]+$/.test(e)},pW={delta:0,timestamp:0},vW=1/60*1e3,mW="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},yW="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(mW())}),vW)};var gW=!0,bW=!1,kW=!1,wW=["read","update","preRender","render","postRender"],_W=wW.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return bW=!0})),e}),{}),xW=wW.reduce((function(e,t){var n=_W[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return bW||IW(),n.schedule(e,t,r)},e}),{}),SW=wW.reduce((function(e,t){return e[t]=_W[t].cancel,e}),{}),EW=wW.reduce((function(e,t){return e[t]=function(){return _W[t].process(pW)},e}),{}),CW=function(e){return _W[e].process(pW)},TW=function e(t){bW=!1,pW.delta=gW?vW:Math.max(Math.min(t-pW.timestamp,40),1),pW.timestamp=t,kW=!0,wW.forEach(CW),kW=!1,bW&&(gW=!1,yW(e))},IW=function(){bW=!0,gW=!0,kW||yW(TW)};function AW(e,t){-1===e.indexOf(t)&&e.push(t)}function NW(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var DW=function(){function e(){wi(this,e),this.subscriptions=[]}return xi(e,[{key:"add",value:function(e){var t=this;return AW(this.subscriptions,e),function(){return NW(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}();function PW(e,t){return t?e*(1e3/t):0}var RW=function(e){return!isNaN(parseFloat(e))},OW=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wi(this,e),this.version="10.0.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.prev=n.current,n.current=e;var r=pW.delta,i=pW.timestamp;n.lastUpdated!==i&&(n.timeDelta=r,n.lastUpdated=i,xW.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.events.change&&n.events.change.notify(n.current),n.events.velocityChange&&n.events.velocityChange.notify(n.getVelocity()),t&&n.events.renderRequest&&n.events.renderRequest.notify(n.current)},this.scheduleVelocityCheck=function(){return xW.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.events.velocityChange&&n.events.velocityChange.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=RW(this.current),this.owner=r.owner}return xi(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var n=this;this.events[e]||(this.events[e]=new DW);var r=this.events[e].add(t);return"change"===e?function(){r(),xW.read((function(){n.events.change.getSize()||n.stop()}))}:r}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?PW(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.animation=e(n)||null,t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){this.animation=null}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function MW(e,t){return new OW(e,t)}var LW=function(e,t){return function(n){return Boolean(GU(n)&&HU.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},FW=function(e,t,n){return function(r){var i;if(!GU(r))return r;var a=c(r.match(qU),4),o=a[0],s=a[1],u=a[2],l=a[3];return p(i={},e,parseFloat(o)),p(i,t,parseFloat(s)),p(i,n,parseFloat(u)),p(i,"alpha",void 0!==l?parseFloat(l):1),i}},jW=m(m({},BU),{},{transform:function(e){return Math.round(function(e){return jU(0,255,e)}(e))}}),BW={test:LW("rgb","red"),parse:FW("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+jW.transform(t)+", "+jW.transform(n)+", "+jW.transform(r)+", "+UU(VU.transform(a))+")"}};var VW={test:LW("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:BW.transform},zW={test:LW("hsl","hue"),parse:FW("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+YU.transform(UU(n))+", "+YU.transform(UU(r))+", "+UU(VU.transform(a))+")"}},UW={test:function(e){return BW.test(e)||VW.test(e)||zW.test(e)},parse:function(e){return BW.test(e)?BW.parse(e):zW.test(e)?zW.parse(e):VW.parse(e)},transform:function(e){return GU(e)?e:e.hasOwnProperty("red")?BW.transform(e):zW.transform(e)}},qW="${c}",WW="${n}";function HW(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=0,i=e.match(WU);i&&(n=i.length,e=e.replace(WU,qW),t.push.apply(t,Ze(i.map(UW.parse))));var a=e.match(qU);return a&&(r=a.length,e=e.replace(qU,WW),t.push.apply(t,Ze(a.map(BU.parse)))),{values:t,numColors:n,numNumbers:r,tokenised:e}}function GW(e){return HW(e).values}function KW(e){var t=HW(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?qW:WW,n<r?UW.transform(e[n]):UU(e[n]));return t}}var QW=function(e){return"number"===typeof e?0:e};var YW={test:function(e){var t,n;return isNaN(e)&&GU(e)&&((null===(t=e.match(qU))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(WU))||void 0===n?void 0:n.length)||0)>0},parse:GW,createTransformer:KW,getAnimatableNone:function(e){var t=GW(e);return KW(e)(t.map(QW))}},$W=new Set(["brightness","contrast","saturate","opacity"]);function XW(e){var t=c(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=c(r.match(qU)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=$W.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var JW=/([a-z-]*)\(.*?\)/g,ZW=m(m({},YW),{},{getAnimatableNone:function(e){var t=e.match(JW);return t?t.map(XW).join(" "):e}}),eH=m(m({},tq),{},{color:UW,backgroundColor:UW,outlineColor:UW,fill:UW,stroke:UW,borderColor:UW,borderTopColor:UW,borderRightColor:UW,borderBottomColor:UW,borderLeftColor:UW,filter:ZW,WebkitFilter:ZW}),tH=function(e){return eH[e]};function nH(e,t){var n=tH(e);return n!==ZW&&(n=YW),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var rH=function(e){return function(t){return t.test(e)}},iH=[BU,$U,YU,QU,JU,XU,{test:function(e){return"auto"===e},parse:function(e){return e}}],aH=function(e){return iH.find(rH(e))},oH=[].concat(Ze(iH),[UW,YW]),sH=function(e){return oH.find(rH(e))};function uH(e,t,n){var r=e.getProps();return Cq(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var cH=["transitionEnd","transition"];function lH(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,MW(n))}function fH(e,t){var n=uH(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,y(r,cH));for(var s in o=m(m({},o),a)){lH(e,s,Aq(o[s]))}}function hH(e,t){if(t)return(t[e]||t.default||t).from}function dH(e){return Boolean(DU(e)&&e.add)}var pH="data-"+kq("framerAppearId"),vH=Zq,mH=Zq;var yH=function(e){return 1e3*e},gH={current:!1},bH=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},kH=function(e){return function(t){return 1-e(1-t)}},wH=function(e){return e*e},_H=kH(wH),xH=bH(wH),SH=function(e,t,n){return-n*e+n*t+e};function EH(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var CH=function(e,t,n){var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},TH=[VW,BW,zW],IH=function(e){return TH.find((function(t){return t.test(e)}))};function AH(e){var t=IH(e);mH(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));var n=t.parse(e);return t===zW&&(n=function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;a=EH(c,u,t+1/3),o=EH(c,u,t),s=EH(c,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(n)),n}var NH=function(e,t){var n=AH(e),r=AH(t),i=m({},n);return function(e){return i.red=CH(n.red,r.red,e),i.green=CH(n.green,r.green,e),i.blue=CH(n.blue,r.blue,e),i.alpha=SH(n.alpha,r.alpha,e),BW.transform(i)}};function DH(e,t){return"number"===typeof e?function(n){return SH(e,t,n)}:UW.test(e)?NH(e,t):OH(e,t)}var PH=function(e,t){var n=Ze(e),r=n.length,i=e.map((function(e,n){return DH(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},RH=function(e,t){var n=m(m({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=DH(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}},OH=function(e,t){var n=YW.createTransformer(t),r=HW(e),i=HW(t);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Uq(PH(r.values,i.values),n):(vH(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),function(n){return"".concat(n>0?t:e)})},MH=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},LH=function(e,t){return function(n){return SH(e,t,n)}};function FH(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?LH:"string"===typeof e?UW.test(e)?NH:OH:Array.isArray(e)?PH:"object"===typeof e?RH:LH}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]:t;s=Uq(u,s)}r.push(s)}return r}function jH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;mH(s===t.length,"Both input and output ranges must be the same length"),mH(!a||!Array.isArray(a)||a.length===s-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[s-1]&&(e=Ze(e).reverse(),t=Ze(t).reverse());var u=FH(t,a,o),c=u.length,l=function(t){var n=0;if(c>1)for(;n<e.length-2&&!(t<e[n+1]);n++);var r=MH(e[n],e[n+1],t);return u[n](r)};return i?function(t){return l(jU(e[0],e[s-1],t))}:l}function BH(e){var t=[0];return function(e,t){for(var n=e[e.length-1],r=1;r<=t;r++){var i=MH(0,t,r);e.push(SH(n,1,i))}}(t,e.length-1),t}var VH=function(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e},zH=1e-7,UH=12;function qH(e,t,n,r){if(e===t&&n===r)return Zq;var i=function(t){return function(e,t,n,r,i){var a,o,s=0;do{(a=VH(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>zH&&++s<UH);return o}(t,0,1,e,n)};return function(e){return 0===e||1===e?e:VH(i(e),t,r)}}var WH=function(e){return 1-Math.sin(Math.acos(e))},HH=kH(WH),GH=bH(HH),KH=qH(.33,1.53,.69,.99),QH=kH(KH),YH=bH(QH),$H={linear:Zq,easeIn:wH,easeInOut:xH,easeOut:_H,circIn:WH,circInOut:GH,circOut:HH,backIn:QH,backInOut:YH,backOut:KH,anticipate:function(e){return(e*=2)<1?.5*QH(e):.5*(2-Math.pow(2,-10*(e-1)))}},XH=function(e){if(Array.isArray(e)){mH(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=c(e,4);return qH(t[0],t[1],t[2],t[3])}return"string"===typeof e?(mH(void 0!==$H[e],"Invalid easing type '".concat(e,"'")),$H[e]):e},JH=function(e){return Array.isArray(e)&&"number"!==typeof e[0]};function ZH(e){var t=e.keyframes,n=e.ease,r=void 0===n?xH:n,i=e.times,a=e.duration,o=void 0===a?300:a;t=Ze(t);var s=JH(r)?r.map(XH):XH(r),u={done:!1,value:t[0]},c=function(e,t){return e.map((function(e){return e*t}))}(i&&i.length===t.length?i:BH(t),o);function l(){return jH(c,t,{ease:Array.isArray(s)?s:(e=t,n=s,e.map((function(){return n||xH})).splice(0,e.length-1))});var e,n}var f=l();return{next:function(e){return u.value=f(e),u.done=e>=o,u},flipTarget:function(){t.reverse(),f=l()}}}var eG=.001,tG=.01,nG=10,rG=.05,iG=1;function aG(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c;vH(i<=1e3*nG,"Spring duration must be 10 seconds or less");var f=1-o;f=jU(rG,iG,f),i=jU(tG,nG,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=sG(e,f),o=Math.exp(-n);return eG-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=sG(Math.pow(e,2),f);return(-t(e)+eG>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-eG},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<oG;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}var oG=12;function sG(e,t){return e*Math.sqrt(1-t*t)}var uG=["keyframes","restDelta","restSpeed"],cG=["duration","bounce"],lG=["stiffness","damping","mass"];function fG(e,t){return t.some((function(t){return void 0!==e[t]}))}var hG=5;function dG(e){var t=e.keyframes,n=e.restDelta,r=e.restSpeed,i=y(e,uG),a=t[0],o=t[t.length-1],s={done:!1,value:a},u=function(e){var t=m({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!fG(e,lG)&&fG(e,cG)){var n=aG(e);(t=m(m(m({},t),n),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(i),c=u.stiffness,l=u.damping,f=u.mass,h=u.velocity,d=u.duration,p=u.isResolvedFromDuration,v=pG,g=h?-h/1e3:0,b=l/(2*Math.sqrt(c*f));function k(){var e=o-a,t=Math.sqrt(c/f)/1e3,i=Math.abs(e)<5;if(r||(r=i?.01:2),n||(n=i?.005:.5),b<1){var s=sG(t,b);v=function(n){var r=Math.exp(-b*t*n);return o-r*((g+b*t*e)/s*Math.sin(s*n)+e*Math.cos(s*n))}}else if(1===b)v=function(n){return o-Math.exp(-t*n)*(e+(g+t*e)*n)};else{var u=t*Math.sqrt(b*b-1);v=function(n){var r=Math.exp(-b*t*n),i=Math.min(u*n,300);return o-r*((g+b*t*e)*Math.sinh(i)+u*e*Math.cosh(i))/u}}}return k(),{next:function(e){var t=v(e);if(p)s.done=e>=d;else{var i=g;if(0!==e)if(b<1){var a=Math.max(0,e-hG);i=PW(t-v(a),e-a)}else i=0;var u=Math.abs(i)<=r,c=Math.abs(o-t)<=n;s.done=u&&c}return s.value=s.done?o:t,s},flipTarget:function(){g=-g;var e=[o,a];a=e[0],o=e[1],k()}}}dG.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var pG=function(e){return 0};var vG=["duration","driver","elapsed","repeat","repeatType","repeatDelay","keyframes","autoplay","onPlay","onStop","onComplete","onRepeat","onUpdate","type"],mG={decay:function(e){var t=e.keyframes,n=void 0===t?[0]:t,r=e.velocity,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,u=void 0===s?350:s,c=e.restDelta,l=void 0===c?.5:c,f=e.modifyTarget,h=n[0],d={done:!1,value:h},p=o*i,v=h+p,m=void 0===f?v:f(v);return m!==v&&(p=m-h),{next:function(e){var t=-p*Math.exp(-e/u);return d.done=!(t>l||t<-l),d.value=d.done?m:m+t,d},flipTarget:function(){}}},keyframes:ZH,tween:ZH,spring:dG};function yG(e,t){return e-t-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)}var gG=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return xW.update(t,!0)},stop:function(){return SW.update(t)}}};function bG(e){var t,n,r=e.duration,i=e.driver,a=void 0===i?gG:i,o=e.elapsed,s=void 0===o?0:o,u=e.repeat,c=void 0===u?0:u,l=e.repeatType,f=void 0===l?"loop":l,h=e.repeatDelay,d=void 0===h?0:h,p=e.keyframes,v=e.autoplay,g=void 0===v||v,b=e.onPlay,k=e.onStop,w=e.onComplete,_=e.onRepeat,x=e.onUpdate,S=e.type,E=void 0===S?"keyframes":S,C=y(e,vG),T=s,I=0,A=r,N=!1,D=!0,P=mG[p.length>2?"keyframes":E]||ZH,R=p[0],O=p[p.length-1],M={done:!1,value:R},L=P.needsInterpolation;L&&L(R,O)&&(n=jH([0,100],[R,O],{clamp:!1}),p=[0,100]);var F=P(m(m({},C),{},{duration:r,keyframes:p}));function j(){I++,"reverse"===f?s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:yG(t+-e,t,n)}(s,A,d,D=I%2===0):(s=yG(s,A,d),"mirror"===f&&F.flipTarget()),N=!1,_&&_()}function B(e){D||(e=-e),s+=e,N||(M=F.next(Math.max(0,s)),n&&(M.value=n(M.value)),N=D?M.done:s<=0),x&&x(M.value),N&&(0===I&&(A=void 0!==A?A:s),I<c?function(e,t,n,r){return r?e>=t+n:e<=-n}(s,A,d,D)&&j():(t&&t.stop(),w&&w()))}return g&&(b&&b(),(t=a(B)).start()),{stop:function(){k&&k(),t&&t.stop()},set currentTime(e){s=T,B(e)},sample:function(e){if(s=T,arguments.length>1&&void 0!==arguments[1]&&arguments[1])return B(e),M;var t=r&&"number"===typeof r?Math.max(.5*r,50):50,n=0;for(B(0);n<=e;){var i=e-n;B(Math.min(i,t)),n+=t}return M}}}var kG=function(e){var t=c(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"cubic-bezier(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},wG={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kG([0,.65,.55,1]),circOut:kG([.55,0,1,.45]),backIn:kG([.31,.01,.66,-.59]),backOut:kG([.33,1.53,.69,.99])};function _G(e){if(e)return Array.isArray(e)?kG(e):wG[e]}var xG={waapi:function(){return Object.hasOwnProperty.call(Element.prototype,"animate")}},SG={},EG={},CG=function(e){EG[e]=function(){return void 0===SG[e]&&(SG[e]=xG[e]()),SG[e]}};for(var TG in xG)CG(TG);var IG=["onUpdate","onComplete"],AG=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),NG=10,DG=function(e,t){return"spring"===t.type||"backgroundColor"===e||!(!(n=t.ease)||Array.isArray(n)||"string"===typeof n&&wG[n]);var n};function PG(e,t,n){n.onUpdate;var r=n.onComplete,i=y(n,IG);if(!(EG.waapi()&&AG.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping))return!1;var a=i.keyframes,o=i.duration,s=void 0===o?300:o,u=i.elapsed,c=void 0===u?0:u,l=i.ease;if(DG(t,i)){for(var f=bG(m(m({},i),{},{repeat:0,elapsed:0})),h={done:!1,value:a[0]},d=[],v=0;!h.done&&v<2e4;)h=f.sample(v,!0),d.push(h.value),v+=NG;a=d,s=v-NG,l="linear"}var g=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.delay,o=void 0===a?0:a,s=i.duration,u=i.repeat,c=void 0===u?0:u,l=i.repeatType,f=void 0===l?"loop":l,h=i.ease,d=i.times;return e.animate((p(r={},t,n),p(r,"offset",d),r),{delay:o,duration:s,easing:_G(h),fill:"both",iterations:c+1,direction:"reverse"===f?"alternate":"normal"})}(e.owner.current,t,a,m(m({},i),{},{delay:-c,duration:s,ease:l}));return g.onfinish=function(){e.set(function(e,t){var n=t.repeat,r=t.repeatType;return e[n&&"loop"!==(void 0===r?"loop":r)&&n%2===1?0:e.length-1]}(a,i)),xW.update((function(){return g.cancel()})),r&&r()},{get currentTime(){return g.currentTime||0},set currentTime(e){g.currentTime=e},stop:function(){var t=g.currentTime;if(t){var n=bG(m(m({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-NG).value,n.sample(t).value,NG)}xW.update((function(){return g.cancel()}))}}}function RG(e,t){var n=performance.now(),r=function r(i){var a=i.timestamp-n;a>=t&&(SW.read(r),e(a-t))};return xW.read(r,!0),function(){return SW.read(r)}}function OG(e){var t=e.keyframes,n=e.elapsed,r=e.onUpdate,i=e.onComplete,a=function(){r&&r(t[t.length-1]),i&&i()};return n?{stop:RG(a,-n)}:a()}var MG={type:"spring",stiffness:500,damping:25,restSpeed:10},LG={type:"keyframes",duration:.8},FG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jG=function(e,t){var n=t.keyframes;return n.length>2?LG:AU.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:MG:FG},BG=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!YW.test(t)||t.startsWith("url(")))},VG=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function zG(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function UG(e){return"number"===typeof e?0:nH("",e)}function qG(e,t){return e[t]||e.default||e}var WG=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){var a=qG(r,e)||{},o=a.delay||r.delay||0,s=r.elapsed,u=void 0===s?0:s;u-=yH(o);var c=function(e,t,n,r){var i=BG(t,n),a=void 0!==r.from?r.from:e.get();return"none"===a&&i&&"string"===typeof n?a=nH(t,n):zG(a)&&"string"===typeof n?a=UG(n):!Array.isArray(n)&&zG(n)&&"string"===typeof a&&(n=UG(a)),Array.isArray(n)?(null===n[0]&&(n[0]=a),n):[a,n]}(t,e,n,a),l=c[0],f=c[c.length-1],h=BG(e,l),d=BG(e,f);vH(h===d,"You are trying to animate ".concat(e,' from "').concat(l,'" to "').concat(f,'". ').concat(l," is not an animatable value - to enable this animation set ").concat(l," to a value animatable to ").concat(f," via the `style` property."));var p=m(m({keyframes:c,velocity:t.getVelocity()},a),{},{elapsed:u,onUpdate:function(e){t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){i(),a.onComplete&&a.onComplete()}});if(!h||!d||gH.current||!1===a.type)return OG(p);if("inertia"===a.type)return function(e){var t,n=e.keyframes,r=e.velocity,i=void 0===r?0:r,a=e.min,o=e.max,s=e.power,u=void 0===s?.8:s,c=e.timeConstant,l=void 0===c?750:c,f=e.bounceStiffness,h=void 0===f?500:f,d=e.bounceDamping,p=void 0===d?10:d,v=e.restDelta,y=void 0===v?1:v,g=e.modifyTarget,b=e.driver,k=e.onUpdate,w=e.onComplete,_=e.onStop,x=n[0];function S(e){return void 0!==a&&e<a||void 0!==o&&e>o}function E(e){return void 0===a?o:void 0===o||Math.abs(a-e)<Math.abs(o-e)?a:o}function C(e){t&&t.stop(),t=bG(m(m({keyframes:[0,1],velocity:0},e),{},{driver:b,onUpdate:function(t){k&&k(t),e.onUpdate&&e.onUpdate(t)},onComplete:w,onStop:_}))}function T(e){C(m({type:"spring",stiffness:h,damping:p,restDelta:y},e))}if(S(x))T({velocity:i,keyframes:[x,E(x)]});else{var I=u*i+x;"undefined"!==typeof g&&(I=g(I));var A,N,D=E(I),P=D===a?-1:1;C({type:"decay",keyframes:[x,0],velocity:i,timeConstant:l,power:u,restDelta:y,modifyTarget:g,onUpdate:S(I)?function(e){A=N,N=e,i=PW(e-A,pW.delta),(1===P&&e>D||-1===P&&e<D)&&T({keyframes:[e,D],velocity:i})}:void 0})}return{stop:function(){return t&&t.stop()}}}(p);if(function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=y(e,VG);return!!Object.keys(t).length}(a)||(p=m(m({},p),jG(e,p))),p.duration&&(p.duration=yH(p.duration)),p.repeatDelay&&(p.repeatDelay=yH(p.repeatDelay)),t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){var v=PG(t,e,p);if(v)return v}return bG(p)}},HG=["transition","transitionEnd"];function GG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=uH(e,t,n.custom),i=(r||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;n.transitionOverride&&(a=n.transitionOverride);var o=r?function(){return KG(e,r,n)}:function(){return Promise.resolve()},s=e.variantChildren&&e.variantChildren.size?function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=a,o=i.delayChildren,s=void 0===o?0:o,u=i.staggerChildren,c=i.staggerDirection;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(QG).forEach((function(e,r){e.notify("AnimationStart",t),o.push(GG(e,t,m(m({},a),{},{delay:n+u(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(o)}(e,t,s+r,u,c,n)}:function(){return Promise.resolve()},u=a.when;if(u){var l=c("beforeChildren"===u?[o,s]:[s,o],2),f=l[0],h=l[1];return f().then(h)}return Promise.all([o(),s(n.delay)])}function KG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.delay,i=void 0===r?0:r,a=n.transitionOverride,o=n.type,s=e.makeTargetAnimatable(t),u=s.transition,c=void 0===u?e.getDefaultTransition():u,l=s.transitionEnd,f=y(s,HG),h=e.getValue("willChange");a&&(c=a);var d=[],p=o&&e.animationState&&e.animationState.getState()[o],v=function(t){var n=e.getValue(t),r=f[t];if(!n||void 0===r||p&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}(p,t))return"continue";var a=m({delay:i,elapsed:0},c);if(window.HandoffAppearAnimations&&!n.hasAnimated){var o=e.getProps()[pH];o&&(a.elapsed=window.HandoffAppearAnimations(o,t,n,xW))}var s=n.start(WG(t,n,r,e.shouldReduceMotion&&AU.has(t)?{type:!1}:a));dH(h)&&(h.add(t),s=s.then((function(){return h.remove(t)}))),d.push(s)};for(var g in f)v(g);return Promise.all(d).then((function(){l&&fH(e,l)}))}function QG(e,t){return e.sortNodePosition(t)}var YG=["transition","transitionEnd"],$G=Ze(oU).reverse(),XG=oU.length;function JG(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return GG(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=GG(e,t,r);else{var a="function"===typeof t?uH(e,t,r.custom):t;n=KG(e,a,r)}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function ZG(e){var t=JG(e),n={animate:eK(!0),whileInView:eK(),whileHover:eK(),whileTap:eK(),whileDrag:eK(),whileFocus:eK(),exit:eK()},r=!0,i=function(t,n){var r=uH(e,n);if(r){r.transition;var i=r.transitionEnd,a=y(r,YG);t=m(m(m({},t),a),i)}return t};function a(a,o){for(var s=e.getProps(),u=e.getVariantContext(!0)||{},c=[],l=new Set,f={},h=1/0,d=function(){var t=$G[p],d=n[t],v=void 0!==s[t]?s[t]:u[t],y=iU(v),g=t===o?d.isActive:null;!1===g&&(h=p);var b=v===u[t]&&v!==s[t]&&y;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),d.protectedKeys=m({},f),!d.isActive&&null===g||!v&&!d.prevProp||aU(v)||"boolean"===typeof v)return"continue";var k=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!fW(t,e);return!1}(d.prevProp,v),w=k||t===o&&d.isActive&&!b&&y||p>h&&y,_=Array.isArray(v)?v:[v],x=_.reduce(i,{});!1===g&&(x={});var S=d.prevResolvedValues,E=void 0===S?{}:S,C=m(m({},E),x),T=function(e){w=!0,l.delete(e),d.needsAnimating[e]=!0};for(var I in C){var A=x[I],N=E[I];f.hasOwnProperty(I)||(A!==N?Tq(A)&&Tq(N)?!fW(A,N)||k?T(I):d.protectedKeys[I]=!0:void 0!==A?T(I):l.add(I):void 0!==A&&l.has(I)?T(I):d.protectedKeys[I]=!0)}d.prevProp=v,d.prevResolvedValues=x,d.isActive&&(f=m(m({},f),x)),r&&e.blockInitialAnimation&&(w=!1),w&&!b&&c.push.apply(c,Ze(_.map((function(e){return{animation:e,options:m({type:t},a)}}))))},p=0;p<XG;p++)d();if(l.size){var v={};l.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(v[t]=n)})),c.push({animation:v})}var y=Boolean(c.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=a(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function eK(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var tK=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),r=t.call(this,e),e.animationState||(e.animationState=ZG(e)),r}return xi(n,[{key:"updateAnimationControlsSubscription",value:function(){var e=this.node.getProps().animate;this.unmount(),aU(e)&&(this.unmount=e.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){}}]),n}(Qq),nK=0,rK=function(e){Ei(n,e);var t=Ai(n);function n(){var e;return wi(this,n),(e=t.apply(this,arguments)).id=nK++,e}return xi(n,[{key:"update",value:function(){var e=this;if(this.node.presenceContext){var t=this.node.presenceContext,n=t.isPresent,r=t.onExitComplete,i=t.custom,a=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&n!==a){var o=this.node.animationState.setActive("exit",!n,{custom:null!==i&&void 0!==i?i:this.node.getProps().custom});r&&!n&&o.then((function(){return r(e.id)}))}}}},{key:"mount",value:function(){var e=(this.node.presenceContext||{}).register;e&&(this.unmount=e(this.id))}},{key:"unmount",value:function(){}}]),n}(Qq),iK={animation:{Feature:tK},exit:{Feature:rK}},aK=function(e,t){return Math.abs(e-t)};var oK=function(){function e(t,n){var r=this,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transformPagePoint;if(wi(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=cK(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=function(e,t){var n=aK(e.x,t.x),r=aK(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=pW.timestamp;r.history.push(m(m({},i),{},{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=sK(t,r.transformPagePoint),xW.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){if(r.end(),r.lastMoveEvent&&r.lastMoveEventInfo){var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=cK("pointercancel"===e.type?r.lastMoveEventInfo:sK(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)}},Fq(t)){this.handlers=n,this.transformPagePoint=i;var a=sK(jq(t),this.transformPagePoint),o=a.point,s=pW.timestamp;this.history=[m(m({},o),{},{timestamp:s})];var u=n.onSessionStart;u&&u(t,cK(a,this.history)),this.removeListeners=Uq(Vq(window,"pointermove",this.handlePointerMove),Vq(window,"pointerup",this.handlePointerUp),Vq(window,"pointercancel",this.handlePointerUp))}}return xi(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),SW.update(this.updatePoint)}}]),e}();function sK(e,t){return t?{point:t(e.point)}:e}function uK(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cK(e,t){var n=e.point;return{point:n,delta:uK(n,fK(t)),offset:uK(n,lK(t)),velocity:hK(t,.1)}}function lK(e){return e[0]}function fK(e){return e[e.length-1]}function hK(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=fK(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>yH(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dK(e){return e.max-e.min}function pK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function vK(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=SH(t.min,t.max,e.origin),e.scale=dK(n)/dK(t),(pK(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=SH(n.min,n.max,e.origin)-e.originPoint,(pK(e.translate)||isNaN(e.translate))&&(e.translate=0)}function mK(e,t,n,r){vK(e.x,t.x,n.x,r?r.originX:void 0),vK(e.y,t.y,n.y,r?r.originY:void 0)}function yK(e,t,n){e.min=n.min+t.min,e.max=e.min+dK(t)}function gK(e,t,n){e.min=t.min-n.min,e.max=e.min+dK(t)}function bK(e,t,n){gK(e.x,t.x,n.x),gK(e.y,t.y,n.y)}function kK(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function wK(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var _K=.35;function xK(e,t,n){return{min:SK(e,t),max:SK(e,n)}}function SK(e,t){return"number"===typeof e?e:e[t]||0}var EK=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},CK=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function TK(e){return[e("x"),e("y")]}function IK(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function AK(e){return void 0===e||1===e}function NK(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!AK(t)||!AK(n)||!AK(r)}function DK(e){return NK(e)||PK(e)||e.z||e.rotate||e.rotateX||e.rotateY}function PK(e){return RK(e.x)||RK(e.y)}function RK(e){return e&&"0%"!==e}function OK(e,t,n){return n+t*(e-n)}function MK(e,t,n,r,i){return void 0!==i&&(e=OK(e,i,r)),OK(e,n,r)+t}function LK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=MK(e.min,t,n,r,i),e.max=MK(e.max,t,n,r,i)}function FK(e,t){var n=t.x,r=t.y;LK(e.x,n.translate,n.scale,n.originPoint),LK(e.y,r.translate,r.scale,r.originPoint)}function jK(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function BK(e,t){e.min=e.min+t,e.max=e.max+t}function VK(e,t,n){var r=c(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=SH(e.min,e.max,s);LK(e,t[i],t[a],u,t.scale)}var zK=["x","scaleX","originX"],UK=["y","scaleY","originY"];function qK(e,t){VK(e.x,t,zK),VK(e.y,t,UK)}function WK(e,t){return IK(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var HK=new WeakMap,GK=function(){function e(t){wi(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=CK(),this.visualElement=t}return xi(e,[{key:"start",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).snapToCursor,r=void 0!==n&&n,i=this.visualElement.presenceContext;if(!i||!1!==i.isPresent){this.panSession=new oK(e,{onSessionStart:function(e){t.stopAnimation(),r&&t.snapToCursor(jq(e,"page").point)},onStart:function(e,n){var r=t.getProps(),i=r.drag,a=r.dragPropagation,o=r.onDragStart;if(!i||a||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=Gq(i),t.openGlobalLock)){t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),TK((function(e){var n=t.getAxisMotionValue(e).get()||0;if(YU.test(n)){var r=t.visualElement.projection;if(r&&r.layout){var i=r.layout.layoutBox[e];if(i)n=dK(i)*(parseFloat(n)/100)}}t.originPoint[e]=n})),o&&o(e,n);var s=t.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==t.currentDirection&&o&&o(t.currentDirection));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.render(),s&&s(e,n)}},onSessionEnd:function(e,n){return t.stop(e,n)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;i&&i(e,t)}}},{key:"cancel",value:function(){this.isDragging=!1;var e=this.visualElement,t=e.projection,n=e.animationState;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&KK(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?SH(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?SH(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&rU(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:kK(e.x,r,a),y:kK(e.y,n,i)}}(i.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_K;return!1===e?e=0:!0===e&&(e=_K),{x:xK(e,"left","right"),y:xK(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&TK((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!rU(t))return!1;var r=t.current;mH(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=WK(e,n),i=t.scroll;return i&&(BK(r.x,i.offset.x),BK(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:wK(e.x,t.x),y:wK(e.y,t.y)}}(i.layout.layoutBox,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=IK(s))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},l=TK((function(n){if(KK(n,r,t.currentDirection)){var u=c&&c[n]||{};s&&(u={min:0,max:0});var l=a?200:1e6,f=a?40:1e7,h=m(m({type:"inertia",velocity:i?e[n]:0,bounceStiffness:l,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10},o),u);return t.startAxisValueAnimation(n,h)}}));return Promise.all(l).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){var n=this.getAxisMotionValue(e);return n.start(WG(e,n,0,t))}},{key:"stopAnimation",value:function(){var e=this;TK((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}},{key:"snapToCursor",value:function(e){var t=this;TK((function(n){if(KK(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.layoutBox[n],o=a.min,s=a.max;i.set(e[n]-SH(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e=this;if(this.visualElement.current){var t=this.getProps(),n=t.drag,r=t.dragConstraints,i=this.visualElement.projection;if(rU(r)&&i&&this.constraints){this.stopAnimation();var a={x:0,y:0};TK((function(t){var n=e.getAxisMotionValue(t);if(n){var r=n.get();a[t]=function(e,t){var n=.5,r=dK(e),i=dK(t);return i>r?n=MH(t.min,t.max-r,e.min):r>i&&(n=MH(e.min,e.max-i,t.min)),jU(0,1,n)}({min:r,max:r},e.constraints[t])}}));var o=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),TK((function(t){if(KK(t,n,null)){var r=e.getAxisMotionValue(t),i=e.constraints[t],o=i.min,s=i.max;r.set(SH(o,s,a[t]))}}))}}}},{key:"addListeners",value:function(){var e=this;if(this.visualElement.current){HK.set(this.visualElement,this);var t=Vq(this.visualElement.current,"pointerdown",(function(t){var n=e.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&e.start(t)})),n=function(){rU(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},r=this.visualElement.projection,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();var a=Lq(window,"resize",(function(){return e.scalePositionWithinConstraints()})),o=r.addEventListener("didUpdate",(function(t){var n=t.delta,r=t.hasLayoutChanged;e.isDragging&&r&&(TK((function(t){var r=e.getAxisMotionValue(t);r&&(e.originPoint[t]+=n[t].translate,r.set(r.get()+n[t].translate))})),e.visualElement.render())}));return function(){a(),t(),i(),o&&o()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?_K:c,f=e.dragMomentum,h=void 0===f||f;return m(m({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:l,dragMomentum:h})}}]),e}();function KK(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var QK=function(e){Ei(n,e);var t=Ai(n);function n(e){var r;return wi(this,n),(r=t.call(this,e)).removeGroupControls=Zq,r.removeListeners=Zq,r.controls=new GK(e),r}return xi(n,[{key:"mount",value:function(){var e=this.node.getProps().dragControls;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zq}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners()}}]),n}(Qq),YK=function(e){Ei(n,e);var t=Ai(n);function n(){var e;return wi(this,n),(e=t.apply(this,arguments)).removePointerDownListener=Zq,e}return xi(n,[{key:"onPointerDown",value:function(e){this.session=new oK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}},{key:"createPanHandlers",value:function(){var e=this,t=this.node.getProps(),n=t.onPanSessionStart,r=t.onPanStart,i=t.onPan,a=t.onPanEnd;return{onSessionStart:n,onStart:r,onMove:i,onEnd:function(t,n){delete e.session,a&&a(t,n)}}}},{key:"mount",value:function(){var e=this;this.removePointerDownListener=Vq(this.node.current,"pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}]),n}(Qq);function $K(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var XK={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!$U.test(e))return e;e=parseFloat(e)}var n=$K(e,t.target.x),r=$K(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}};var JK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var ZK=4;function eQ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;mH(n<=ZK,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=function(e){var t=JK.exec(e);if(!t)return[,];var n=c(t,3);return[n[1],n[2]]}(e),i=c(r,2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);return s?s.trim():LU(o)?eQ(o,t,n+1):o}}function tQ(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=m({},n)),e.values.forEach((function(e){var t=e.get();if(LU(t)){var n=eQ(t,i);n&&e.set(n)}})),r){var o=r[a];if(LU(o)){var s=eQ(o,i);s&&(r[a]=s,n&&void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}var nQ="_$css",rQ={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(JK,(function(e){return o.push(e),nQ})));var s=YW.parse(e);if(s.length>5)return i;var u=YW.createTransformer(e),c="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,f=r.y.scale*n.y;s[0+c]/=l,s[1+c]/=f;var h=SH(l,f,.5);"number"===typeof s[2+c]&&(s[2+c]/=h),"number"===typeof s[3+c]&&(s[3+c]/=h);var d=u(s);if(a){var p=0;d=d.replace(nQ,(function(){var e=o[p];return p++,e}))}return d}},iQ=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=oQ,Object.assign(TU,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(m(m({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),yU.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||xW.postRender((function(){var e=s.getStack();e&&e.members.length||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;e&&e()}},{key:"render",value:function(){return null}}]),n}(t.Component);function aQ(e){var n=function(){var e=(0,t.useContext)(Yz);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=(0,t.useId)();return(0,t.useEffect)((function(){return i(a)}),[]),!n&&r?[!1,function(){return r&&r(a)}]:[!0]}(),r=c(n,2),i=r[0],a=r[1],o=(0,t.useContext)(bU);return t.createElement(iQ,m(m({},e),{},{layoutGroup:o,switchLayoutGroup:(0,t.useContext)(kU),isPresent:i,safeToRemove:a}))}var oQ={borderRadius:m(m({},XK),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:XK,borderTopRightRadius:XK,borderBottomLeftRadius:XK,borderBottomRightRadius:XK,boxShadow:rQ};var sQ=["TopLeft","TopRight","BottomLeft","BottomRight"],uQ=sQ.length,cQ=function(e){return"string"===typeof e?parseFloat(e):e},lQ=function(e){return"number"===typeof e||$U.test(e)};function fQ(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var hQ=pQ(0,.5,HH),dQ=pQ(.5,.95,Zq);function pQ(e,t,n){return function(r){return r<e?0:r>t?1:n(MH(e,t,r))}}function vQ(e,t){e.min=t.min,e.max=t.max}function mQ(e,t){vQ(e.x,t.x),vQ(e.y,t.y)}function yQ(e,t,n,r,i){return e=OK(e-=t,1/n,r),void 0!==i&&(e=OK(e,1/i,r)),e}function gQ(e,t,n,r,i){var a=c(n,3),o=a[0],s=a[1],u=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(YU.test(t)&&(t=parseFloat(t),t=SH(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=SH(a.min,a.max,r);e===a&&(s-=t),e.min=yQ(e.min,t,n,s,i),e.max=yQ(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var bQ=["x","scaleX","originX"],kQ=["y","scaleY","originY"];function wQ(e,t,n,r){gQ(e.x,t,bQ,n?n.x:void 0,r?r.x:void 0),gQ(e.y,t,kQ,n?n.y:void 0,r?r.y:void 0)}function _Q(e){return 0===e.translate&&1===e.scale}function xQ(e){return _Q(e.x)&&_Q(e.y)}function SQ(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function EQ(e){return dK(e.x)/dK(e.y)}var CQ=function(){function e(){wi(this,e),this.members=[]}return xi(e,[{key:"add",value:function(e){AW(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(NW(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t=e.options,n=e.resumingFrom;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function TQ(e,t,n){var r="",i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(r+="rotate(".concat(o,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),u&&(r+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return 1===c&&1===l||(r+="scale(".concat(c,", ").concat(l,")")),r||"none"}var IQ=function(e,t){return e.depth-t.depth},AQ=function(){function e(){wi(this,e),this.children=[],this.isDirty=!1}return xi(e,[{key:"add",value:function(e){AW(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){NW(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(IQ),this.isDirty=!1,this.children.forEach(e)}}]),e}();var NQ=["","X","Y","Z"],DQ=1e3,PQ=0,RQ={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function OQ(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===n||void 0===n?void 0:n();wi(this,e),this.id=PQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){var e;RQ.totalNodes=RQ.resolvedTargetDeltas=RQ.recalculatedProjection=0,r.nodes.forEach(FQ),r.nodes.forEach(qQ),r.nodes.forEach(WQ),r.nodes.forEach(jQ),e=RQ,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=t,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[].concat(Ze(a.path),[a]):[],this.parent=a,this.depth=a?a.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new AQ)}return xi(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new DW),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"registerPotentialNode",value:function(e,t){this.potentialNodes.set(e,t)}},{key:"mount",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var i=this.options,a=i.layoutId,o=i.layout,s=i.visualElement;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),r&&(o||a)&&(this.isLayoutDirty=!0),t){var u,c=function(){return n.root.updateBlockedByResize=!1};t(e,(function(){n.root.updateBlockedByResize=!0,u&&u(),u=RG(c,250),yU.hasAnimatedSinceResize&&(yU.hasAnimatedSinceResize=!1,n.nodes.forEach(UQ))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&s&&(a||o)&&this.addEventListener("didUpdate",(function(e){var t=e.delta,r=e.hasLayoutChanged,i=e.hasRelativeTargetChanged,a=e.layout;if(n.isTreeAnimationBlocked())return n.target=void 0,void(n.relativeTarget=void 0);var o=n.options.transition||s.getDefaultTransition()||$Q,u=s.getProps(),c=u.onLayoutAnimationStart,l=u.onLayoutAnimationComplete,f=!n.targetLayout||!SQ(n.targetLayout,a)||i,h=!r&&i;if(n.options.layoutRoot||n.resumeFrom&&n.resumeFrom.instance||h||r&&(f||!n.currentAnimation)){n.resumeFrom&&(n.resumingFrom=n.resumeFrom,n.resumingFrom.resumingFrom=void 0),n.setAnimationOrigin(t,h);var d=m(m({},qG(o,"layout")),{},{onPlay:c,onComplete:l});(s.shouldReduceMotion||n.options.layoutRoot)&&(d.delay=0,d.type=!1),n.startAnimation(d)}else r||0!==n.animationProgress||UQ(n),n.isLead()&&n.options.onExitComplete&&n.options.onExitComplete();n.targetLayout=a}))}}},{key:"unmount",value:function(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);var e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,SW.preRender(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}},{key:"startUpdate",value:function(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HQ),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e=this.options.visualElement;return e&&e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.isUpdateBlocked())this.options.onExitComplete&&this.options.onExitComplete();else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var n=this.path[t];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}var r=this.options,i=r.layoutId,a=r.layout;if(void 0!==i||a){var o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}}},{key:"didUpdate",value:function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(VQ);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(XQ),this.potentialNodes.clear()),this.nodes.forEach(zQ),this.nodes.forEach(MQ),this.nodes.forEach(LQ),this.clearAllSnapshots(),EW.update(),EW.preRender(),EW.render())}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(BQ),this.sharedNodes.forEach(GQ)}},{key:"scheduleUpdateProjection",value:function(){xW.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;xW.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=CK(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);var n=this.options.visualElement;n&&n.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){if(a){var e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!xQ(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||DK(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.measurePageBox(),r=this.removeElementScroll(n);return t&&(r=this.removeTransform(r)),JQ((e=r).x),JQ(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return CK();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(BK(t.x,n.offset.x),BK(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t=CK();mQ(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){mQ(t,e);var o=this.root.scroll;o&&(BK(t.x,-o.offset.x),BK(t.y,-o.offset.y))}BK(t.x,i.offset.x),BK(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=CK();mQ(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qK(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),DK(i.latestValues)&&qK(n,i.latestValues)}return DK(this.latestValues)&&qK(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t=CK();mQ(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n];if(r.instance&&DK(r.latestValues)){NK(r.latestValues)&&r.updateSnapshot();var i=CK();mQ(i,r.measurePageBox()),wQ(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}}return DK(this.latestValues)&&wQ(t,this.latestValues),t}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}},{key:"setOptions",value:function(e){this.options=m(m(m({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"resolveTargetDelta",value:function(){var e,t=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty),!!((Boolean(this.resumingFrom)||this!==t)&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget)){var n=this.options,r=n.layout,i=n.layoutId;if(this.layout&&(r||i)){if(!this.targetDelta&&!this.relativeTarget){var a=this.getClosestProjectingParent();a&&a.layout?(this.relativeParent=a,this.relativeTarget=CK(),this.relativeTargetOrigin=CK(),bK(this.relativeTargetOrigin,this.layout.layoutBox,a.layout.layoutBox),mQ(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,s,u;if(this.target||(this.target=CK(),this.targetWithTransforms=CK()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(o=this.target,s=this.relativeTarget,u=this.relativeParent.target,yK(o.x,s.x,u.x),yK(o.y,s.y,u.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):mQ(this.target,this.layout.layoutBox),FK(this.target,this.targetDelta)):mQ(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var c=this.getClosestProjectingParent();c&&Boolean(c.resumingFrom)===Boolean(this.resumingFrom)&&!c.options.layoutScroll&&c.target?(this.relativeParent=c,this.relativeTarget=CK(),this.relativeTargetOrigin=CK(),bK(this.relativeTargetOrigin,this.target,c.target),mQ(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}RQ.resolvedTargetDeltas++}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!NK(this.parent.latestValues)&&!PK(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}},{key:"isProjecting",value:function(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}},{key:"calcProjection",value:function(){var e,t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),!r){var i=this.options,a=i.layout,o=i.layoutId;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(a||o)){mQ(this.layoutCorrected,this.layout.layoutBox),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n.length;if(i){var a,o;t.x=t.y=1;for(var s=0;s<i;s++){o=(a=n[s]).projectionDelta;var u=a.instance;u&&u.style&&"contents"===u.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qK(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,FK(e,o)),r&&DK(a.latestValues)&&qK(e,a.latestValues))}t.x=jK(t.x),t.y=jK(t.y)}}(this.layoutCorrected,this.treeScale,this.path,n);var s=t.target;if(s){this.projectionDelta||(this.projectionDelta=EK(),this.projectionDeltaWithTransform=EK());var u=this.treeScale.x,c=this.treeScale.y,l=this.projectionTransform;mK(this.projectionDelta,this.layoutCorrected,s,this.latestValues),this.projectionTransform=TQ(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===u&&this.treeScale.y===c||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",s)),RQ.recalculatedProjection++}}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){var t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.snapshot,i=r?r.latestValues:{},a=m({},this.latestValues),o=EK();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;var s,u=CK(),c=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),f=!l||l.members.length<=1,h=Boolean(c&&!f&&!0===this.options.crossfade&&!this.path.some(YQ));this.animationProgress=0,this.mixTargetDelta=function(n){var r=n/1e3;KQ(o.x,e.x,r),KQ(o.y,e.y,r),t.setTargetDelta(o),t.relativeTarget&&t.relativeTargetOrigin&&t.layout&&t.relativeParent&&t.relativeParent.layout&&(bK(u,t.layout.layoutBox,t.relativeParent.layout.layoutBox),function(e,t,n,r){QQ(e.x,t.x,n.x,r),QQ(e.y,t.y,n.y,r)}(t.relativeTarget,t.relativeTargetOrigin,u,r),s&&SQ(t.relativeTarget,s)&&(t.isProjectionDirty=!1),s||(s=CK()),mQ(s,t.relativeTarget)),c&&(t.animationValues=a,function(e,t,n,r,i,a){i?(e.opacity=SH(0,void 0!==n.opacity?n.opacity:1,hQ(r)),e.opacityExit=SH(void 0!==t.opacity?t.opacity:1,0,dQ(r))):a&&(e.opacity=SH(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(var o=0;o<uQ;o++){var s="border".concat(sQ[o],"Radius"),u=fQ(t,s),c=fQ(n,s);void 0===u&&void 0===c||(u||(u=0),c||(c=0),0===u||0===c||lQ(u)===lQ(c)?(e[s]=Math.max(SH(cQ(u),cQ(c),r),0),(YU.test(c)||YU.test(u))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=SH(t.rotate||0,n.rotate||0,r))}(a,i,t.latestValues,r,h,f)),t.root.scheduleUpdateProjection(),t.scheduleRender(),t.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t=this;this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(SW.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xW.update((function(){yU.hasAnimatedSinceResize=!0,t.currentAnimation=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=DU(e)?e:MW(e);return r.start(WG("",r,t,n)),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,DQ,m(m({},e),{},{onUpdate:function(n){t.mixTargetDelta(n),e.onUpdate&&e.onUpdate(n)},onComplete:function(){e.onComplete&&e.onComplete(),t.completeAnimation()}})),t.resumingFrom&&(t.resumingFrom.currentAnimation=t.currentAnimation),t.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);var e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DQ),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&ZQ(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||CK();var a=dK(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+a;var o=dK(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}mQ(t,n),qK(t,i),mK(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new CQ),this.sharedNodes.get(e).add(t);var n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},i=0;i<NQ.length;i++){var a="rotate"+NQ[i];n[a]&&(r[a]=n[a],e.setStaticValue(a,0))}for(var o in e.render(),r)e.setStaticValue(o,r[o]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Nq(n.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;var a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){var o={};return this.options.layoutId&&(o.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,o.pointerEvents=Nq(n.pointerEvents)||""),this.hasProjected&&!DK(this.latestValues)&&(o.transform=i?i({},""):"none",this.hasProjected=!1),o}var s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=TQ(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));var u=this.projectionDelta,c=u.x,l=u.y;for(var f in r.transformOrigin="".concat(100*c.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?r.opacity=a===this?null!==(t=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==t?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,TU)if(void 0!==s[f]){var h=TU[f],d=h.correct,p=h.applyTo,v="none"===r.transform?s[f]:d(s[f],a);if(p)for(var m=p.length,y=0;y<m;y++)r[p[y]]=v;else r[f]=v}return this.options.layoutId&&(r.pointerEvents=a===this?Nq(n.pointerEvents)||"":"none"),r}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(VQ),this.root.sharedNodes.clear()}}]),e}()}function MQ(e){e.updateLayout()}function LQ(e){var t,n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){var r=e.layout,i=r.layoutBox,a=r.measuredBox,o=e.options.animationType,s=n.source!==e.layout.source;"size"===o?TK((function(e){var t=s?n.measuredBox[e]:n.layoutBox[e],r=dK(t);t.min=i[e].min,t.max=t.min+r})):ZQ(o,n.layoutBox,i)&&TK((function(e){var t=s?n.measuredBox[e]:n.layoutBox[e],r=dK(i[e]);t.max=t.min+r}));var u=EK();mK(u,i,n.layoutBox);var c=EK();s?mK(c,e.applyTransform(a,!0),n.measuredBox):mK(c,i,n.layoutBox);var l=!xQ(u),f=!1;if(!e.resumeFrom){var h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){var d=h.snapshot,p=h.layout;if(d&&p){var v=CK();bK(v,n.layoutBox,d.layoutBox);var m=CK();bK(m,i,p.layoutBox),SQ(v,m)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:l,hasRelativeTargetChanged:f})}else if(e.isLead()){var y=e.options.onExitComplete;y&&y()}e.options.transition=void 0}function FQ(e){RQ.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jQ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function BQ(e){e.clearSnapshot()}function VQ(e){e.clearMeasurements()}function zQ(e){var t=e.options.visualElement;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function UQ(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function qQ(e){e.resolveTargetDelta()}function WQ(e){e.calcProjection()}function HQ(e){e.resetRotation()}function GQ(e){e.removeLeadSnapshot()}function KQ(e,t,n){e.translate=SH(t.translate,0,n),e.scale=SH(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function QQ(e,t,n,r){e.min=SH(t.min,n.min,r),e.max=SH(t.max,n.max,r)}function YQ(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var $Q={duration:.45,ease:[.4,0,.1,1]};function XQ(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function JQ(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function ZQ(e,t,n){return"position"===e||"preserve-aspect"===e&&!pK(EQ(t),EQ(n),.2)}var eY=OQ({attachResizeListener:function(e,t){return Lq(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),tY={current:void 0},nY=OQ({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!tY.current){var e=new eY(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),tY.current=e}return tY.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),rY={pan:{Feature:YK},drag:{Feature:QK,ProjectionNode:nY,MeasureLayout:aQ}},iY=new Set(["width","height","top","left","right","bottom","x","y"]),aY=function(e){return iY.has(e)},oY=function(e){return Object.keys(e).some(aY)},sY=function(e){return e===BU||e===$U},uY=function(e,t){return parseFloat(e.split(", ")[t])},cY=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return uY(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?uY(o[1],e):0}},lY=new Set(["x","y","z"]),fY=IU.filter((function(e){return!lY.has(e)}));var hY={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:cY(4,13),y:cY(5,14)},dY=function(e,t,n){var r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=hY[e](r,a)})),t.render();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);r&&r.jump(s[n]),e[n]=hY[n](u,a)})),e},pY=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=m({},t),r=m({},r);var i=Object.keys(t).filter(aY),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=aH(l),h=t[i];if(Tq(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=aH(l);for(var v=p;v<d;v++)c?mH(aH(h[v])===c,"All keyframes must be of the same type"):(c=aH(h[v]),mH(c===f||sY(f)&&sY(c),"Keyframes must be of the same dimension as the current value"))}else c=aH(h);if(f!==c)if(sY(f)&&sY(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===$U&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?u.set(c.transform(l)):t[i]=f.transform(h):(o||(a=function(e){var t=[];return fY.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],u.jump(h))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,l=dY(t,e,s);return a.length&&a.forEach((function(t){var n=c(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.render(),Zz&&null!==u&&window.scrollTo({top:u}),{target:l,transitionEnd:r}}return{target:t,transitionEnd:r}};var vY=function(e,t,n,r){var i=tQ(e,t,r);return function(e,t,n,r){return oY(t)?pY(e,t,n,r):{target:t,transitionEnd:r}}(e,t=i.target,n,r=i.transitionEnd)},mY={current:null},yY={current:!1};var gY=["willChange"],bY=["children"],kY=Object.keys(dU),wY=kY.length,_Y=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],xY=sU.length,SY=function(){function e(t){var n=this,r=t.parent,i=t.props,a=t.presenceContext,o=t.reducedMotionConfig,s=t.visualState,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wi(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return xW.render(n.render,!1,!0)};var c=s.latestValues,l=s.renderState;this.latestValues=c,this.baseTarget=m({},c),this.initialValues=i.initial?m({},c):{},this.renderState=l,this.parent=r,this.props=i,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=uU(i),this.isVariantNode=cU(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var f=this.scrapeMotionValuesFromProps(i,{}),h=f.willChange,d=y(f,gY);for(var p in d){var v=d[p];void 0!==c[p]&&DU(v)&&(v.set(c[p],!1),dH(h)&&h.add(p))}}return xi(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t=this;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((function(e,n){return t.bindToMotionValue(n,e)})),yY.current||function(){if(yY.current=!0,Zz)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return mY.current=e.matches};e.addListener(t),t()}else mY.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||mY.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}},{key:"unmount",value:function(){for(var e in this.projection&&this.projection.unmount(),SW.update(this.notifyUpdate),SW.render(this.render),this.valueSubscriptions.forEach((function(e){return e()})),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(var t in this.features)this.features[t].unmount();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=AU.has(e),i=t.on("change",(function(t){n.latestValues[e]=t,n.props.onUpdate&&xW.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),a()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,t,n,r,i){for(var a,o,s=this,u=(e.children,y(e,bY)),c=0;c<wY;c++){var l=kY[c],f=dU[l],h=f.isEnabled,d=f.Feature,p=f.ProjectionNode,v=f.MeasureLayout;p&&(a=p),h(u)&&(!this.features[l]&&d&&(this.features[l]=new d(this)),v&&(o=v))}if(!this.projection&&a){this.projection=new a(r,this.latestValues,this.parent&&this.parent.projection);var m=u.layoutId,g=u.layout,b=u.drag,k=u.dragConstraints,w=u.layoutScroll,_=u.layoutRoot;this.projection.setOptions({layoutId:m,layout:g,alwaysMeasureLayout:Boolean(b)||k&&rU(k),visualElement:this,scheduleRender:function(){return s.scheduleRender()},animationType:"string"===typeof g?g:"both",initialPromotionConfig:i,layoutScroll:w,layoutRoot:_})}return o}},{key:"updateFeatures",value:function(){for(var e in this.features){var t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):CK()}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"update",value:function(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(var n=0;n<_Y.length;n++){var r=_Y[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);var i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(DU(a))e.addValue(i,a),dH(r)&&r.add(i);else if(DU(o))e.addValue(i,MW(a,{owner:e})),dH(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var u=e.getStaticValue(i);e.addValue(i,MW(void 0!==u?u:a,{owner:e}))}}for(var c in n)void 0===t[c]&&e.removeValue(c);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){return this.props.variants?this.props.variants[e]:void 0}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}},{key:"getVariantContext",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){var e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}for(var t={},n=0;n<xY;n++){var r=sU[n],i=this.props[r];(iU(i)||!1===i)&&(t[r]=i)}return t}},{key:"addVariantChild",value:function(e){var t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),function(){return t.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){this.values.delete(e);var t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=MW(t,{owner:this}),this.addValue(e,n)),n}},{key:"readValue",value:function(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=Cq(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||DU(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new DW),this.events[e].add(t)}},{key:"notify",value:function(e){if(this.events[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.events[e]).notify.apply(t,r)}}}]),e}(),EY=["transition","transitionEnd"],CY=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){return e.style?e.style[t]:void 0}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,i=e.transitionEnd,a=y(e,EY),o=t.transformValues,s=function(e,t,n){var r={};for(var i in e){var a=hH(i,t);if(void 0!==a)r[i]=a;else{var o=n.getValue(i);o&&(r[i]=o.get())}}return r}(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),n){!function(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var u=a[s],c=t[u],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==l&&null!==l&&("string"===typeof l&&(hW(l)||dW(l))?l=parseFloat(l):!sH(l)&&YW.test(c)&&(l=nH(u,c)),e.addValue(u,MW(l,{owner:e})),void 0===n[u]&&(n[u]=l),null!==l&&e.setBaseTarget(u,l))}}(this,a,s);var u=vY(this,a,s,i);i=u.transitionEnd,a=u.target}return m({transition:r,transitionEnd:i},a)}}]),n}(SY);var TY=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"readValueFromInstance",value:function(e,t){if(AU.has(t)){var n=tH(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(MU(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a}},{key:"measureInstanceViewportBox",value:function(e,t){return WK(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){nq(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return Sq(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;DU(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,n,r){wq(e,t,n,r)}}]),n}(CY),IY=function(e){Ei(n,e);var t=Ai(n);function n(){var e;return wi(this,n),(e=t.apply(this,arguments)).isSVGTag=!1,e}return xi(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){if(AU.has(t)){var n=tH(t);return n&&n.default||0}return t=_q.has(t)?t:kq(t),e.getAttribute(t)}},{key:"measureInstanceViewportBox",value:function(){return CK()}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return Eq(e,t)}},{key:"build",value:function(e,t,n,r){vq(e,t,n,this.isSVGTag,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){xq(e,t,0,r)}},{key:"mount",value:function(e){this.isSVGTag=yq(e.tagName),Ru(Ci(n.prototype),"mount",this).call(this,e)}}]),n}(CY),AY=function(e,t){return CU(e)?new IY(t,{enableHardwareAcceleration:!1}):new TY(t,{enableHardwareAcceleration:!0})},NY={layout:{ProjectionNode:nY,MeasureLayout:aQ}},DY=m(m(m(m({},iK),lW),rY),NY),PY=SU((function(e,t){return function(e,t,n,r){var i=t.forwardMotionProps,a=void 0!==i&&i;return m(m({},CU(e)?Oq:Mq),{},{preloadedFeatures:n,useRender:bq(a),createVisualElement:r,Component:e})}(e,t,DY,AY)}));var RY={initial:function(e){var t=e.position,n=["top","bottom"].includes(t)?"y":"x",r=["top-right","bottom-right"].includes(t)?1:-1;return"bottom"===t&&(r=1),p({opacity:0},n,24*r)},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},OY=(0,t.memo)((function(e){var n=e.id,r=e.message,i=e.onCloseComplete,a=e.onRequestRemove,o=e.requestClose,s=void 0!==o&&o,u=e.position,l=void 0===u?"bottom":u,f=e.duration,h=void 0===f?5e3:f,d=e.containerStyle,p=e.motionVariants,v=void 0===p?RY:p,y=e.toastSpacing,g=void 0===y?"0.5rem":y,b=c((0,t.useState)(h),2),k=b[0],w=b[1],_=$z();Qz((function(){_||null==i||i()}),[_]),Qz((function(){w(h)}),[h]);var x=function(){_&&a()};(0,t.useEffect)((function(){_&&s&&a()}),[_,s,a]),Kz(x,k);var S=(0,t.useMemo)((function(){return m({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:g},d)}),[d,g]),E=(0,t.useMemo)((function(){return function(e){var t="center";return e.includes("right")&&(t="flex-end"),e.includes("left")&&(t="flex-start"),{display:"flex",flexDirection:"column",alignItems:t}}(l)}),[l]);return(0,Sr.jsx)(PY.li,{layout:!0,className:"chakra-toast",variants:v,initial:"initial",animate:"animate",exit:"exit",onHoverStart:function(){return w(null)},onHoverEnd:function(){return w(h)},custom:{position:l},style:E,children:(0,Sr.jsx)(xr.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:S,children:rt(r,{id:n,onClose:x})})})}));OY.displayName="ToastComponent";var MY=["as","viewBox","color","focusable","children","className","__css"],LY={path:(0,Sr.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,Sr.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,Sr.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,Sr.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},FY=w((function(e,t){var n=e.as,r=e.viewBox,i=e.color,a=void 0===i?"currentColor":i,o=e.focusable,s=void 0!==o&&o,u=e.children,c=e.className,l=e.__css,f=y(e,MY),h=tt("chakra-icon",c),d=er("Icon",e),p={ref:t,focusable:s,className:h,__css:m(m({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:a},l),d)},v=null!=r?r:LY.viewBox;if(n&&"string"!==typeof n)return(0,Sr.jsx)(xr.svg,m(m({as:n},p),f));var g=null!=u?u:LY.path;return(0,Sr.jsx)(xr.svg,m(m(m({verticalAlign:"middle",viewBox:v},p),f),{},{children:g}))}));FY.displayName="Icon";function jY(e){return(0,Sr.jsx)(FY,m(m({viewBox:"0 0 24 24"},e),{},{children:(0,Sr.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}))}var BY=c(g({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),2),VY=BY[0],zY=BY[1],UY=c(g({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),2),qY=UY[0],WY=UY[1],HY={info:{icon:function(e){return(0,Sr.jsx)(FY,m(m({viewBox:"0 0 24 24"},e),{},{children:(0,Sr.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})}))},colorScheme:"blue"},warning:{icon:jY,colorScheme:"orange"},success:{icon:function(e){return(0,Sr.jsx)(FY,m(m({viewBox:"0 0 24 24"},e),{},{children:(0,Sr.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})}))},colorScheme:"green"},error:{icon:jY,colorScheme:"red"},loading:{icon:Gr,colorScheme:"blue"}};var GY=["status","addRole"],KY=w((function(e,t){var n,r=Kn(e),i=r.status,a=void 0===i?"info":i,o=r.addRole,s=void 0===o||o,u=y(r,GY),c=null!=(n=e.colorScheme)?n:function(e){return HY[e].colorScheme}(a),l=tr("Alert",m(m({},e),{},{colorScheme:c})),f=m({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},l.container);return(0,Sr.jsx)(VY,{value:{status:a},children:(0,Sr.jsx)(qY,{value:l,children:(0,Sr.jsx)(xr.div,m(m({role:s?"alert":void 0,ref:t},u),{},{className:tt("chakra-alert",e.className),__css:f}))})})}));function QY(e){var t=zY().status,n=function(e){return HY[e].icon}(t),r=WY(),i="loading"===t?r.spinner:r.icon;return(0,Sr.jsx)(xr.span,m(m({display:"inherit"},e),{},{className:tt("chakra-alert__icon",e.className),__css:i,children:e.children||(0,Sr.jsx)(n,{h:"100%",w:"100%"})}))}KY.displayName="Alert",QY.displayName="AlertIcon";var YY=w((function(e,t){var n=WY();return(0,Sr.jsx)(xr.div,m(m({ref:t},e),{},{className:tt("chakra-alert__title",e.className),__css:n.title}))}));YY.displayName="AlertTitle";var $Y=w((function(e,t){var n=m({display:"inline"},WY().description);return(0,Sr.jsx)(xr.div,m(m({ref:t},e),{},{className:tt("chakra-alert__desc",e.className),__css:n}))}));$Y.displayName="AlertDescription";var XY=["children","isDisabled","__css"];function JY(e){return(0,Sr.jsx)(FY,m(m({focusable:"false","aria-hidden":!0},e),{},{children:(0,Sr.jsx)("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})}))}var ZY=w((function(e,t){var n=er("CloseButton",e),r=Kn(e),i=r.children,a=r.isDisabled,o=r.__css,s=y(r,XY);return(0,Sr.jsx)(xr.button,m(m({type:"button","aria-label":"Close",ref:t,disabled:a,__css:m(m(m({},{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),n),o)},s),{},{children:i||(0,Sr.jsx)(JY,{width:"1em",height:"1em"})}))}));ZY.displayName="CloseButton";var e$=function(e){var t=e,n=new Set,r=function(e){t=e(t),n.forEach((function(e){return e()}))};return{getState:function(){return t},subscribe:function(t){return n.add(t),function(){r((function(){return e})),n.delete(t)}},removeToast:function(e,t){r((function(n){return m(m({},n),{},p({},t,n[t].filter((function(t){return t.id!=e}))))}))},notify:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t$+=1;var i=null!=(t=r.id)?t:t$,a=null!=(n=r.position)?n:"bottom";return{id:i,message:e,position:a,duration:r.duration,onCloseComplete:r.onCloseComplete,onRequestRemove:function(){return e$.removeToast(String(i),a)},status:r.status,requestClose:!1,containerStyle:r.containerStyle}}(e,t),i=n.position,a=n.id;return r((function(e){var t,r,a=i.includes("top")?[n].concat(Ze(null!=(t=e[i])?t:[])):[].concat(Ze(null!=(r=e[i])?r:[]),[n]);return m(m({},e),{},p({},i,a))})),a},update:function(e,t){e&&r((function(n){var r=m({},n),i=Wz(r,e),a=i.position,o=i.index;return a&&-1!==o&&(r[a][o]=m(m(m({},r[a][o]),t),{},{message:r$(t)})),r}))},closeAll:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).positions;r((function(t){return(null!=e?e:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((function(e,n){return e[n]=t[n].map((function(e){return m(m({},e),{},{requestClose:!0})})),e}),m({},t))}))},close:function(e){r((function(t){var n=Hz(t,e);return n?m(m({},t),{},p({},n,t[n].map((function(t){return t.id==e?m(m({},t),{},{requestClose:!0}):t})))):t}))},isActive:function(e){return Boolean(Wz(e$.getState(),e).position)}}}({top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]});var t$=0;var n$=function(e){var t=e.status,n=e.variant,r=void 0===n?"solid":n,i=e.id,a=e.title,o=e.isClosable,s=e.onClose,u=e.description,c=e.icon,l=i?{root:"toast-".concat(i),title:"toast-".concat(i,"-title"),description:"toast-".concat(i,"-description")}:void 0;return(0,Sr.jsxs)(KY,{addRole:!1,status:t,variant:r,id:null==l?void 0:l.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",children:[(0,Sr.jsx)(QY,{children:c}),(0,Sr.jsxs)(xr.div,{flex:"1",maxWidth:"100%",children:[a&&(0,Sr.jsx)(YY,{id:null==l?void 0:l.title,children:a}),u&&(0,Sr.jsx)($Y,{id:null==l?void 0:l.description,display:"block",children:u})]}),o&&(0,Sr.jsx)(ZY,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function r$(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.render,n=e.toastComponent,r=void 0===n?n$:n;return function(n){return"function"===typeof t?t(m(m({},n),e)):(0,Sr.jsx)(r,m(m({},n),e))}}function i$(){var e=(0,t.useRef)(!1);return eU((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var a$=function(e){Ei(n,e);var t=Ai(n);function n(){return wi(this,n),t.apply(this,arguments)}return xi(n,[{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){var n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(t.Component);function o$(e){var n=e.children,r=e.isPresent,i=(0,t.useId)(),a=(0,t.useRef)(null),o=(0,t.useRef)({width:0,height:0,top:0,left:0});return(0,t.useInsertionEffect)((function(){var e=o.current,t=e.width,n=e.height,s=e.top,u=e.left;if(!r&&a.current&&t&&n){a.current.dataset.motionPopId=i;var c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(n,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(u,"px !important;\n          }\n        ")),function(){document.head.removeChild(c)}}}),[r]),t.createElement(a$,{isPresent:r,childRef:a,sizeRef:o},t.cloneElement(n,{ref:a}))}var s$=function(e){var n=e.children,r=e.initial,i=e.isPresent,a=e.onExitComplete,o=e.custom,s=e.presenceAffectsLayout,u=e.mode,c=mU(u$),l=(0,t.useId)(),f=(0,t.useMemo)((function(){return{id:l,initial:r,isPresent:i,custom:o,onExitComplete:function(e){c.set(e,!0);var t,n=Xe(c.values());try{for(n.s();!(t=n.n()).done;){if(!t.value)return}}catch(r){n.e(r)}finally{n.f()}a&&a()},register:function(e){return c.set(e,!1),function(){return c.delete(e)}}}}),s?void 0:[i]);return(0,t.useMemo)((function(){c.forEach((function(e,t){return c.set(t,!1)}))}),[i]),t.useEffect((function(){!i&&!c.size&&a&&a()}),[i]),"popLayout"===u&&(n=t.createElement(o$,{isPresent:i},n)),t.createElement(Yz.Provider,{value:f},n)};function u$(){return new Map}var c$=function(e){return e.key||""};var l$=function(e){var n=e.children,r=e.custom,i=e.initial,a=void 0===i||i,o=e.onExitComplete,s=e.exitBeforeEnter,u=e.presenceAffectsLayout,l=void 0===u||u,f=e.mode,h=void 0===f?"sync":f;mH(!s,"Replace exitBeforeEnter with mode='wait'");var d=function(){var e=i$(),n=c((0,t.useState)(0),2),r=n[0],i=n[1],a=(0,t.useCallback)((function(){e.current&&i(r+1)}),[r]);return[(0,t.useCallback)((function(){return xW.postRender(a)}),[a]),r]}(),p=c(d,1)[0],v=(0,t.useContext)(bU).forceRender;v&&(p=v);var m=i$(),y=function(e){var n=[];return t.Children.forEach(e,(function(e){(0,t.isValidElement)(e)&&n.push(e)})),n}(n),g=y,b=new Set,k=(0,t.useRef)(g),w=(0,t.useRef)(new Map).current,_=(0,t.useRef)(!0);if(eU((function(){_.current=!1,function(e,t){e.forEach((function(e){var n=c$(e);t.set(n,e)}))}(y,w),k.current=g})),function(e){(0,t.useEffect)((function(){return function(){return e()}}),[])}((function(){_.current=!0,w.clear(),b.clear()})),_.current)return t.createElement(t.Fragment,null,g.map((function(e){return t.createElement(s$,{key:c$(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:l,mode:h},e)})));g=Ze(g);for(var x=k.current.map(c$),S=y.map(c$),E=x.length,C=0;C<E;C++){var T=x[C];-1===S.indexOf(T)&&b.add(T)}return"wait"===h&&b.size&&(g=[]),b.forEach((function(e){if(-1===S.indexOf(e)){var n=w.get(e);if(n){var i=x.indexOf(e);g.splice(i,0,t.createElement(s$,{key:c$(n),isPresent:!1,onExitComplete:function(){w.delete(e),b.delete(e);var t=k.current.findIndex((function(t){return t.key===e}));if(k.current.splice(t,1),!b.size){if(k.current=y,!1===m.current)return;p(),o&&o()}},custom:r,presenceAffectsLayout:l,mode:h},n))}}})),g=g.map((function(e){var n=e.key;return b.has(n)?e:t.createElement(s$,{key:c$(e),isPresent:!0,presenceAffectsLayout:l,mode:h},e)})),t.createElement(t.Fragment,null,b.size?g:g.map((function(e){return(0,t.cloneElement)(e)})))},f$=["containerRef"],h$=c(g({strict:!1,name:"PortalContext"}),2),d$=h$[0],p$=h$[1],v$="chakra-portal",m$=function(e){return(0,Sr.jsx)("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children})},y$=function(e){var n=e.appendToParentPortal,r=e.children,i=c((0,t.useState)(null),2),a=i[0],o=i[1],s=(0,t.useRef)(null),u=c((0,t.useState)({}),2)[1];(0,t.useEffect)((function(){return u({})}),[]);var l=p$(),f=oO();gO((function(){if(a){var e=a.ownerDocument,t=n&&null!=l?l:e.body;if(t){s.current=e.createElement("div"),s.current.className=v$,t.appendChild(s.current),u({});var r=s.current;return function(){t.contains(r)&&t.removeChild(r)}}}}),[a]);var h=(null==f?void 0:f.zIndex)?(0,Sr.jsx)(m$,{zIndex:null==f?void 0:f.zIndex,children:r}):r;return s.current?(0,ei.createPortal)((0,Sr.jsx)(d$,{value:s.current,children:h}),s.current):(0,Sr.jsx)("span",{ref:function(e){e&&o(e)}})},g$=function(e){var n=e.children,r=e.containerRef,i=e.appendToParentPortal,a=r.current,o=null!=a?a:"undefined"!==typeof window?document.body:void 0,s=(0,t.useMemo)((function(){var e=null==a?void 0:a.ownerDocument.createElement("div");return e&&(e.className=v$),e}),[a]),u=c((0,t.useState)({}),2)[1];return gO((function(){return u({})}),[]),gO((function(){if(s&&o)return o.appendChild(s),function(){o.removeChild(s)}}),[s,o]),o&&s?(0,ei.createPortal)((0,Sr.jsx)(d$,{value:i?s:null,children:n}),s):null};function b$(e){var t=m({appendToParentPortal:!0},e),n=t.containerRef,r=y(t,f$);return n?(0,Sr.jsx)(g$,m({containerRef:n},r)):(0,Sr.jsx)(y$,m({},r))}b$.className=v$,b$.selector=".chakra-portal",b$.displayName="Portal";var k$=c(g({name:"ToastOptionsContext",strict:!1}),2),w$=k$[0],_$=(k$[1],function(e){var n=(0,t.useSyncExternalStore)(e$.subscribe,e$.getState,e$.getState),r=e.motionVariants,i=e.component,a=void 0===i?OY:i,o=e.portalProps,s=Object.keys(n).map((function(e){var t=n[e];return(0,Sr.jsx)("ul",{role:"region","aria-live":"polite",id:"chakra-toast-manager-".concat(e),style:Gz(e),children:(0,Sr.jsx)(l$,{initial:!1,children:t.map((function(e){return(0,Sr.jsx)(a,m({motionVariants:r},e),e.id)}))})},e)}));return(0,Sr.jsx)(b$,m(m({},o),{},{children:s}))}),x$=["children","theme","toastOptions"],S$=function(e){return function(t){var n=t.children,r=t.theme,i=void 0===r?e:r,a=t.toastOptions,o=y(t,x$);return(0,Sr.jsxs)(SO,m(m({theme:i},o),{},{children:[(0,Sr.jsx)(w$,{value:null==a?void 0:a.defaultOptions,children:n}),(0,Sr.jsx)(_$,m({},a))]}))}},E$=S$(zz);S$(Uz);i.createRoot(document.getElementById("root")).render((0,Sr.jsx)(di,{store:ZR,children:(0,Sr.jsx)(E$,{children:(0,Sr.jsx)(Ja,{children:(0,Sr.jsx)(HR,{})})})})),eO()}()}();
//# sourceMappingURL=main.ab8af217.js.map